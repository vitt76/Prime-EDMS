---
alwaysApply: true
---

## üéØ –û–ë–©–ò–ï –ü–†–ò–ù–¶–ò–ü–´ –ü–†–û–ï–ö–¢–ê

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

–í—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ DAM (Digital Asset Management) —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ —Ä—ã–Ω–∫–∞ –Ω–∞ –±–∞–∑–µ Mayan EDMS. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏—é —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ–¥–∏–∞-–ø–ª–∞—Ç—Ñ–æ—Ä–º—É —Å AI-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º–∏ —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (–Ø–Ω–¥–µ–∫—Å, –ì–∏–≥–∞—á–∞—Ç) –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º –§–ó-152.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- –°–ª–µ–¥—É–π—Ç–µ Django-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Mayan EDMS ‚Äî –≤—Å–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ Django apps –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ `mayan/apps/`
- –î–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `OneToOneField` –∏–ª–∏ `ForeignKey` —Å–≤—è–∑–∏ (–∫–∞–∫ –≤ `DocumentAIAnalysis`), proxy models –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- –í—Å–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ, AI-–æ–±—Ä–∞–±–æ—Ç–∫–∞) –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —á–µ—Ä–µ–∑ Celery tasks —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º `@shared_task`
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–π—Ç–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å core Mayan EDMS –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ü—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ —Å —É—á–µ—Ç–æ–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –ª–µ–≥–∫–æ –≤—ã–Ω–æ—Å–∏—Ç—å—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

## üêç PYTHON –ò DJANGO

### –°—Ç–∏–ª—å –∫–æ–¥–∞

- –°—Ç—Ä–æ–≥–æ —Å–ª–µ–¥—É–π—Ç–µ PEP 8 –∏ Django coding style (—Å–ª–µ–¥—É–π—Ç–µ —Å—Ç–∏–ª—é Mayan EDMS)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π: `from .models import DocumentAIAnalysis`
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ docstrings –≤ —Ñ–æ—Ä–º–∞—Ç–µ Google Style
- Type hints –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è Celery tasks –∏ API endpoints: `def process_media(file_id: int, format: str = "original") -> Dict[str, Any]:`
- –ò–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π ‚Äî snake_case, –∫–ª–∞—Å—Å—ã ‚Äî PascalCase
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –¥–ª—è —Å—Ç—Ä–æ–∫ (—Å—Ç–∏–ª—å Mayan EDMS)

### Django Best Practices

- –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ Class-Based Views –¥–ª—è CRUD –æ–ø–µ—Ä–∞—Ü–∏–π, Function-Based Views ‚Äî –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π –ª–æ–≥–∏–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django ORM –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ, –∏–∑–±–µ–≥–∞–π—Ç–µ raw SQL (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã)
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ `select_related()` –¥–ª—è ForeignKey –∏ `prefetch_related()` –¥–ª—è ManyToMany –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è N+1 –ø—Ä–æ–±–ª–µ–º
- –í–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –¥–µ–ª–∞–π—Ç–µ —á–µ—Ä–µ–∑ Django Forms –∏ Model Forms
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É —Ä–∞–∑–º–µ—â–∞–π—Ç–µ –≤ models –∏ forms, views –¥–µ—Ä–∂–∏—Ç–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏

### –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

```python
# –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è Mayan Document —á–µ—Ä–µ–∑ OneToOneField (—Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∞)
from mayan.apps.documents.models import Document
from mayan.apps.databases.model_mixins import ExtraDataModelMixin

class DocumentAIAnalysis(ExtraDataModelMixin, models.Model):
    """AI –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤."""
    document = models.OneToOneField(
        Document,
        on_delete=models.CASCADE,
        related_name='ai_analysis',
        verbose_name=_('Document')
    )
    
    # JSON –ø–æ–ª—è –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤ –¥–∞–Ω–Ω—ã—Ö
    ai_tags = models.JSONField(blank=True, null=True)
    categories = models.JSONField(blank=True, null=True)
    people = models.JSONField(blank=True, null=True)
    locations = models.JSONField(blank=True, null=True)
    dominant_colors = models.JSONField(blank=True, null=True)
    
    # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è
    ai_description = models.TextField(blank=True, null=True)
    copyright_notice = models.TextField(blank=True, null=True)
    
    class Meta:
        verbose_name = _('Document AI Analysis')
        verbose_name_plural = _('Document AI Analyses')
```

**–í–∞–∂–Ω–æ:** –î–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ JSON –ø–æ–ª—è–º –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ transformation —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç –º–∞—Å—Å–∏–≤—ã –≤ —Å—Ç—Ä–æ–∫–∏ (—Å–º. `mayan/apps/dam/search.py`).

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é RBAC —Å–∏—Å—Ç–µ–º—É Mayan —á–µ—Ä–µ–∑ Permission classes
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ –∫–∞–∂–¥–æ–º view: `user.has_perm('documents.document_view', document)`
- –î–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ permissions –≤ Meta –∫–ª–∞—Å—Å–∞—Ö –º–æ–¥–µ–ª–µ–π
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ permissions —Å Access Control Lists (ACL) —Å–∏—Å—Ç–µ–º–æ–π Mayan

## üé® FRONTEND –ò UI

### –û–±—â–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã UI

- –°–ª–µ–¥—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É design system Mayan –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django templates (HTML)** –¥–ª—è –≤—Å–µ—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚Äî –ø—Ä–æ–µ–∫—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç React/TypeScript
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Bootstrap 3.4.1** (Bootswatch Flatly theme) ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π UI framework –ø—Ä–æ–µ–∫—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ FontAwesome 5.15.4 –¥–ª—è –∏–∫–æ–Ω–æ–∫
- –û–±–µ—Å–ø–µ—á—å—Ç–µ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (responsive design —á–µ—Ä–µ–∑ Bootstrap grid)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ —Ç–µ–º–Ω—É—é –∏ —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—ã —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É —Ç–µ–º Mayan

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mayan

- JavaScript –∫–æ–¥ —Ä–∞–∑–º–µ—â–∞–π—Ç–µ –≤ `static/js/` –∏–ª–∏ `static/<app_name>/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö apps
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django templates** –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü ‚Äî –Ω–∞—Å–ª–µ–¥—É–π—Ç–µ—Å—å –æ—Ç `appearance/base.html` –∏–ª–∏ `appearance/generic_*.html`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ jQuery 3.6.0 –¥–ª—è DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π (—É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ –±–∞–∑–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–∞—Ö)
- AJAX –∑–∞–ø—Ä–æ—Å—ã –¥–µ–ª–∞–π—Ç–µ —á–µ—Ä–µ–∑ REST API —Å proper CSRF —Ç–æ–∫–µ–Ω–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Bootstrap –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `btn`, `panel`, `form-control`, `table`, `modal` –∏ —Ç.–¥.

### –ü—Ä–∏–º–µ—Ä—ã Bootstrap –∫–ª–∞—Å—Å–æ–≤

```html
<!-- –ö–Ω–æ–ø–∫–∏ -->
<button class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
<button class="btn btn-default">–û—Ç–º–µ–Ω–∞</button>

<!-- –ü–∞–Ω–µ–ª–∏ -->
<div class="panel panel-default">
    <div class="panel-heading">–ó–∞–≥–æ–ª–æ–≤–æ–∫</div>
    <div class="panel-body">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ</div>
</div>

<!-- –§–æ—Ä–º—ã -->
<input class="form-control" type="text" name="field">
<select class="form-control">...</select>

<!-- –¢–∞–±–ª–∏—Ü—ã -->
<table class="table table-striped">...</table>
```

## üîå API –†–ê–ó–†–ê–ë–û–¢–ö–ê

### REST API

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django REST Framework –¥–ª—è –≤—Å–µ—Ö API endpoints
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–π—Ç–µ API: `/api/v1/`, `/api/v2/`
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –ø–æ–ª–µ–π

```python
from rest_framework import serializers

class MediaAssetSerializer(serializers.ModelSerializer):
    thumbnails = serializers.SerializerMethodField()
  
    class Meta:
        model = MediaAsset
        fields = ['id', 'label', 'media_metadata', 'thumbnails', 'created_at']
  
    def get_thumbnails(self, obj):
        return {
            'small': obj.get_thumbnail_url('150x150'),
            'medium': obj.get_thumbnail_url('600x600'),
            'large': obj.get_thumbnail_url('1920x1920')
        }
```

### GraphQL

- **–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** ‚Äî –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ REST API —á–µ—Ä–µ–∑ Django REST Framework
- –ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è GraphQL, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ graphene-django
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏
- –†–µ–∞–ª–∏–∑—É–π—Ç–µ DataLoaders –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –ø–∞–≥–∏–Ω–∞—Ü–∏—é —á–µ—Ä–µ–∑ Connection pattern

### MCP Server (Model Context Protocol)

- **–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω** ‚Äî –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –±—É–¥—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ï—Å–ª–∏ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω:
  - –í—Å–µ MCP tools –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ type hints –∏ docstrings
  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ API keys —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π scopes
  - –ö–∞–∂–¥—ã–π MCP endpoint –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ —á–µ—Ä–µ–∑ Mayan RBAC
  - –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ MCP –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ audit log

## ü§ñ AI –ò –ú–ê–®–ò–ù–ù–û–ï –û–ë–£–ß–ï–ù–ò–ï

### YandexGPT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ YandexGPT
- –ö–µ—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã AI-–æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ Redis –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –õ–∏–º–∏—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è AI-–∞–Ω–∞–ª–∏–∑–∞ (–º–∞–∫—Å 4MB)
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ gracefully —Å user-friendly —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞

```python
# –ü—Ä–∏–º–µ—Ä AI-–∞–Ω–∞–ª–∏–∑–∞ —á–µ—Ä–µ–∑ Celery task (—Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞)
from celery import shared_task
from mayan.apps.documents.models import Document
from mayan.apps.dam.models import DocumentAIAnalysis
from mayan.apps.dam.ai_providers import AIProviderRegistry

@shared_task(bind=True, max_retries=3, default_retry_delay=60, queue='documents')
def analyze_document_with_ai(self, document_id: int):
    """–ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å AI –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö."""
    try:
        document = Document.objects.get(id=document_id)
        document_file = document.files.order_by('-timestamp').first()
        
        # –ü–æ–ª—É—á–∞–µ–º –∏–ª–∏ —Å–æ–∑–¥–∞–µ–º –∑–∞–ø–∏—Å—å –∞–Ω–∞–ª–∏–∑–∞
        ai_analysis, created = DocumentAIAnalysis.objects.get_or_create(
            document=document,
            defaults={'analysis_status': 'processing'}
        )
        
        # –í—ã–ø–æ–ª–Ω—è–µ–º AI-–∞–Ω–∞–ª–∏–∑ —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–∞–π–¥–µ—Ä
        analysis_results = perform_ai_analysis(document_file)
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        ai_analysis.ai_description = analysis_results.get('description', '')
        ai_analysis.ai_tags = analysis_results.get('tags', [])
        ai_analysis.analysis_status = 'completed'
        ai_analysis.ai_provider = analysis_results.get('provider', 'unknown')
        ai_analysis.save()
        
    except Exception as exc:
        logger.error(f"AI analysis failed for document {document_id}: {exc}")
        if self.request.retries < self.max_retries:
            raise self.retry(exc=exc)
```

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –∏ —Å–µ–∫—Ä–µ—Ç—ã –≤ –∫–æ–¥–µ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ environment variables
- –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ API –≤—ã–∑–æ–≤—ã –¥–µ–ª–∞–π—Ç–µ —á–µ—Ä–µ–∑ HTTPS
- –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ input —á–µ—Ä–µ–∑ Django Forms
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django CSRF protection –¥–ª—è –≤—Å–µ—Ö POST/PUT/DELETE –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–π—Ç–µ filename –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ñ–∞–π–ª–æ–≤

### –§–ó-152 —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—á–∞–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º —Ñ–ª–∞–≥–æ–º `contains_personal_data=True`
- –û–±–µ—Å–ø–µ—á—å—Ç–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö storage backends
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
- –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (GDPR-like)

## ‚ö° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django Debug Toolbar –≤ development –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–π—Ç–µ `select_related()` –∏ `prefetch_related()` –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –î–æ–±–∞–≤–ª—è–π—Ç–µ database indexes –¥–ª—è —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–æ–∫
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `only()` –∏ `defer()` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ–ª–µ–π

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ö–µ—à–∏—Ä—É–π—Ç–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ Redis –Ω–∞ 1 —á–∞—Å
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django cache framework –¥–ª—è view caching
- Thumbnails –∫–µ—à–∏—Ä—É–π—Ç–µ —Å –ø–æ–º–æ—â—å—é CDN –∏–ª–∏ nginx
- Invalidate –∫–µ—à –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ signals

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

```python
# –í—Å–µ –º–µ–¥–∏–∞-–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Celery
@shared_task
def convert_raw_to_jpeg(document_id: int) -> str:
    """–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è RAW —Ñ–∞–π–ª–∞ –≤ JPEG —á–µ—Ä–µ–∑ dcraw"""
    document = Document.objects.get(pk=document_id)
  
    with tempfile.NamedTemporaryFile(suffix='.raw') as raw_file:
        raw_file.write(document.file.read())
        raw_file.flush()
      
        # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ dcraw
        jpeg_path = convert_with_dcraw(raw_file.name)
      
        # –°–æ–∑–¥–∞–µ–º –ø—Ä–µ–≤—å—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Ç—å
        return store_preview(document, jpeg_path)
```

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

- –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ –º–∏–Ω–∏–º—É–º 80% –¥–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π
- Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö models, forms, serializers
- Integration —Ç–µ—Å—Ç—ã –¥–ª—è API endpoints
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö user flows

```python
from django.test import TestCase
from mayan.apps.documents.models import Document
from mayan.apps.dam.models import DocumentAIAnalysis

class DocumentAIAnalysisTestCase(TestCase):
    def setUp(self):
        self.document = Document.objects.create(label='Test Document')
  
    def test_ai_analysis_creation(self):
        """API –∫–ª—é—á –¥–æ–ª–∂–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ç—å—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ"""
        analysis = DocumentAIAnalysis.objects.create(
            document=self.document,
            ai_description='Test description',
            ai_tags=['tag1', 'tag2']
        )
      
        self.assertEqual(analysis.document, self.document)
        self.assertEqual(analysis.analysis_status, 'pending')
        self.assertIsNotNone(analysis.ai_tags)
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Cursor

- –ó–∞–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ —É Cursor –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —Ç–µ—Å—Ç–æ–≤ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pytest-django –¥–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- –ú–æ–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö API (YandexGPT, –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫) —á–µ—Ä–µ–∑ `unittest.mock`

## üìù –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

### –ö–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –í—Å–µ public —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã –∏–º–µ—é—Ç docstrings
- –°–ª–æ–∂–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TODO –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –±—É–¥—É—â–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π

### API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ drf-spectacular
- –î–æ–±–∞–≤–ª—è–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –≤ docstrings
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å Swagger UI

## üöÄ –î–ï–ü–õ–û–ô –ò DEVOPS

### Docker

- –í—Å–µ –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã –æ–ø–∏—Å—ã–≤–∞–π—Ç–µ –≤ docker-compose.yml
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ multi-stage builds –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–æ–≤
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –≤ .env —Ñ–∞–π–ª–∞—Ö (–Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –≤ git)
- Health checks –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –ú–∏–≥—Ä–∞—Ü–∏–∏

- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ production
- –î–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ RunPython –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –î–µ–ª–∞–π—Ç–µ backup –ë–î –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–∏–≥—Ä–∞—Ü–∏–π

## üîÑ –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

### n8n Workflows

- **–í –Ω–∞—Å—Ç–æ—è—â–µ–µ –≤—Ä–µ–º—è –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω** ‚Äî –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –±—É–¥—É—â–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –ï—Å–ª–∏ –±—É–¥–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω:
  - –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è –∫–∞–∂–¥–æ–π n8n –Ω–æ–¥—ã
  - –ü—Ä–∏–º–µ—Ä—ã workflows —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤ `docs/n8n-examples/`
  - –û–±–µ—Å–ø–µ—á—å—Ç–µ idempotency –¥–ª—è –≤—Å–µ—Ö operations
  - –†–µ–∞–ª–∏–∑—É–π—Ç–µ retry –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è failed operations

### Workflow Actions (Document States)

- –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º—É workflow actions –∏–∑ `mayan.apps.document_states`
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ workflow actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ DAM —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ workflows —á–µ—Ä–µ–∑ `WorkflowAction` –∫–ª–∞—Å—Å—ã

### –Ø–Ω–¥–µ–∫—Å —Å–µ—Ä–≤–∏—Å—ã

```python
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫ storage backend
YANDEX_DISK_CONFIG = {
    'client_id': env('YANDEX_CLIENT_ID'),
    'client_secret': env('YANDEX_CLIENT_SECRET'),
    'token': env('YANDEX_ACCESS_TOKEN'),
    'base_path': '/dam_storage/',
    'max_file_size': 10 * 1024 * 1024 * 1024,  # 10GB
}
```

## üõ†Ô∏è –†–ê–ë–û–¢–ê –° CURSOR

### –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã

- –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: "–í –ø—Ä–æ–µ–∫—Ç–µ DAM –Ω–∞ Mayan EDMS –Ω—É–∂–Ω–æ..."
- –°—Å—ã–ª–∞–π—Ç–µ—Å—å –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ @: "@apps/documents/models.py"
- –î–ª—è –±–æ–ª—å—à–∏—Ö –∑–∞–¥–∞—á –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Agent Mode –∏ —Ä–∞–∑–±–∏–≤–∞–π—Ç–µ –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏
- –ü—Ä–æ—Å–∏—Ç–µ Cursor –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã —Å—Ä–∞–∑—É: "–ò —Å–æ–∑–¥–∞–π —Ç–µ—Å—Ç—ã –¥–ª—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏"

### Composer Mode

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Composer –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
- –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º—ã–µ —Ñ–∞–π–ª—ã –≤ –æ–¥–Ω–æ–º —Å–µ–∞–Ω—Å–µ
- –ü—Ä–æ—Å–∏—Ç–µ Cursor –æ–±–Ω–æ–≤–∏—Ç—å related imports –∏ tests

### –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ README.md —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- –°–æ–∑–¥–∞–π—Ç–µ ARCHITECTURE.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –º–æ–¥—É–ª–µ–π
- –í–µ–¥–∏—Ç–µ CHANGELOG.md –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö —Å—Å—ã–ª–∞–π—Ç–µ—Å—å –Ω–∞ —ç—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ @

## ‚ö†Ô∏è –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò –ò –ö–ê–ö –ò–• –ò–ó–ë–ï–ñ–ê–¢–¨

1. **–ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –ù–ï –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ core Mayan —Ñ–∞–π–ª—ã** ‚Äî —Ä–∞—Å—à–∏—Ä—è–π—Ç–µ —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å ForeignKey/OneToOneField –∏ signals
2. **–ù–ï –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ –º–∏–≥—Ä–∞—Ü–∏–∏** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è models ‚Äî –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `python manage.py makemigrations`
3. **–ù–ï —Ö—Ä–∞–Ω–∏—Ç–µ sensitive –¥–∞–Ω–Ω—ã–µ** –≤ –∫–æ–¥–µ –∏–ª–∏ version control ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ environment variables
4. **–ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ Django security warnings**
5. **–ù–ï –¥–µ–ª–∞–π—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã** –∫ –≤–Ω–µ—à–Ω–∏–º API –∏–∑ views ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Celery tasks —Å `@shared_task`
6. **–ù–ï –∑–∞–±—ã–≤–∞–π—Ç–µ transaction.atomic()** –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏
7. **–ù–ï –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ permissions –ø—Ä–æ–≤–µ—Ä–∫–∏** –≤ API endpoints ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `AccessControlList.objects.check_access()`
8. **–ù–ï –∑–∞–±—ã–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å transformation —Ñ—É–Ω–∫—Ü–∏–∏** –¥–ª—è JSON –ø–æ–ª–µ–π –≤ –ø–æ–∏—Å–∫–µ ‚Äî —Å–º. `mayan/apps/dam/search.py`
9. **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ React/TypeScript** ‚Äî –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Django templates –∏ Bootstrap
10. **–ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ GraphQL endpoints** –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ REST API —á–µ—Ä–µ–∑ DRF

## üìö –°–°–´–õ–ö–ò –ù–ê –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Æ

- Django: https://docs.djangoproject.com/
- Mayan EDMS: https://docs.mayan-edms.com/
- Django REST Framework: https://www.django-rest-framework.org/
- Celery: https://docs.celeryproject.org/
- Model Context Protocol: https://modelcontextprotocol.io/

---

**–í–ê–ñ–ù–û**: –ü—Ä–∏ –ª—é–±—ã—Ö –≤–æ–ø—Ä–æ—Å–∞—Ö –∏–ª–∏ –Ω–µ—è—Å–Ω–æ—Å—Ç—è—Ö –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ Mayan EDMS –∏ —Å–ª–µ–¥—É–π—Ç–µ –µ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º. –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å —Å –±–∞–∑–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∫—Ä–∏—Ç–∏—á–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.