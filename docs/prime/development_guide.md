# –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

–≠—Ç–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π –¥–ª—è Prime-EDMS.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π)
- [–°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è](#—Å–æ–∑–¥–∞–Ω–∏–µ-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
- [–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#–±–∞–∑–æ–≤—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
- [–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è](#–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ-–∏-–∞–∫—Ç–∏–≤–∞—Ü–∏—è)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-–æ—Ç–ª–∞–¥–∫–∞)
- [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

Prime-EDMS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ö–∞–∂–¥–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ - —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ–µ Django app —Å–æ —Å–≤–æ–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

```
mayan/apps/–Ω–∞–∑–≤–∞–Ω–∏–µ_—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è/
‚îú‚îÄ‚îÄ __init__.py              # –û–±—ä—è–≤–ª–µ–Ω–∏–µ app config
‚îú‚îÄ‚îÄ apps.py                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ urls.py                  # URL –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ views.py                 # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (views)
‚îú‚îÄ‚îÄ models.py                # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ links/                   # –°—Å—ã–ª–∫–∏ –¥–ª—è –º–µ–Ω—é
‚îú‚îÄ‚îÄ icons.py                 # –ò–∫–æ–Ω–∫–∏
‚îú‚îÄ‚îÄ permissions.py           # –†–∞–∑—Ä–µ—à–µ–Ω–∏—è
‚îú‚îÄ‚îÄ locale/                  # –ü–µ—Ä–µ–≤–æ–¥—ã
‚îú‚îÄ‚îÄ templates/               # HTML —à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ static/                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ tests/                   # –¢–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ migrations/              # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
```

## üõ†Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –®–∞–≥ 1: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–µ–∂–¥–µ —á–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ:

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –∫–∞–∫—É—é –ø—Ä–æ–±–ª–µ–º—É —Ä–µ—à–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ?
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –∫–∞–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç?
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –≥–¥–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å?
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –∫–∞–∫–∏–µ –¥—Ä—É–≥–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã?

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è
./start_app.sh my_extension

# –ò–ª–∏ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é
mkdir -p mayan/apps/my_extension
cd mayan/apps/my_extension

# –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Ñ–∞–π–ª—ã
touch __init__.py apps.py urls.py views.py models.py
mkdir -p links templates/my_extension static/my_extension/css static/my_extension/js
```

## üìù –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (`apps.py`)

```python
from mayan.apps.common.apps import MayanAppConfig
from django.utils.translation import ugettext_lazy as _

class MyExtensionApp(MayanAppConfig):
    """–ú–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Prime-EDMS"""

    app_namespace = 'my_extension'           # Namespace –¥–ª—è URL
    app_url = 'my-extension'                 # –ü—Ä–µ—Ñ–∏–∫—Å URL
    has_rest_api = True                      # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ REST API
    has_static_media = True                  # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    has_tests = True                         # –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã
    name = 'mayan.apps.my_extension'         # –ü–æ–ª–Ω–æ–µ –∏–º—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    verbose_name = _('My Extension')         # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è

    def ready(self):
        """–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"""
        super().ready()
        print(f'‚úÖ {self.verbose_name} loaded successfully!')

        # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ:
        # - –†–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã
        # - –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        # - –í—ã–ø–æ–ª–Ω—è—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
```

### 2. URL –º–∞—Ä—à—Ä—É—Ç—ã (`urls.py`)

```python
from django.urls import path, include
from .views import MyView, MyAPIView

app_name = 'my_extension'  # –í–∞–∂–Ω–æ: –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å app_namespace

urlpatterns = [
    # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    path('', MyView.as_view(), name='main_view'),

    # REST API
    path('api/', include([
        path('items/', MyAPIView.as_view(), name='api_items'),
    ])),
]
```

### 3. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (`views.py`)

```python
from django.views.generic import TemplateView, ListView
from django.contrib.auth.mixins import LoginRequiredMixin
from rest_framework.views import APIView
from rest_framework.response import Response

class MyView(LoginRequiredMixin, TemplateView):
    """–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ"""
    template_name = 'my_extension/main.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context['title'] = '–ú–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ'
        return context

class MyAPIView(APIView):
    """REST API –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ"""

    def get(self, request):
        return Response({'message': 'Hello from API!'})
```

### 4. –ú–æ–¥–µ–ª–∏ (`models.py`)

```python
from django.db import models
from django.utils.translation import ugettext_lazy as _

class MyModel(models.Model):
    """–ü—Ä–∏–º–µ—Ä –º–æ–¥–µ–ª–∏"""

    name = models.CharField(
        max_length=255,
        verbose_name=_('Name')
    )

    created = models.DateTimeField(
        auto_now_add=True,
        verbose_name=_('Created')
    )

    class Meta:
        verbose_name = _('My Model')
        verbose_name_plural = _('My Models')

    def __str__(self):
        return self.name
```

## üîó –°—Å—ã–ª–∫–∏ –∏ –º–µ–Ω—é

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫

```python
# links/my_links.py
from django.utils.translation import ugettext_lazy as _
from mayan.apps.navigation.classes import Link

from ..icons import icon_my_extension

link_my_extension = Link(
    icon=icon_my_extension,
    text=_('My Extension'),
    view='my_extension:main_view',
    permissions=('my_extension.view_my_model',)  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
)
```

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ –º–µ–Ω—é

```python
# –í apps.py –º–µ—Ç–æ–¥–µ ready()
from mayan.apps.common.menus import menu_object
from .links.my_links import link_my_extension

def ready(self):
    super().ready()

    # –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –≤ –º–µ–Ω—é –æ–±—ä–µ–∫—Ç–æ–≤
    menu_object.bind_links(
        links=(link_my_extension,),
        sources=(Document,)  # –î–ª—è –∫–∞–∫–∏—Ö –º–æ–¥–µ–ª–µ–π –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
    )
```

## üé® –®–∞–±–ª–æ–Ω—ã –∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —à–∞–±–ª–æ–Ω–æ–≤

```
templates/my_extension/
‚îú‚îÄ‚îÄ base.html          # –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
‚îú‚îÄ‚îÄ list.html          # –°–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
‚îú‚îÄ‚îÄ detail.html        # –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
‚îî‚îÄ‚îÄ form.html          # –§–æ—Ä–º—ã
```

### –ü—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–∞

```html
<!-- templates/my_extension/main.html -->
{% extends "appearance/base.html" %}

{% load i18n static %}

{% block title %}{% trans "My Extension" %}{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">
                        <i class="fa fa-cogs"></i>
                        {% trans "My Extension" %}
                    </h3>
                </div>
                <div class="panel-body">
                    <p>{% trans "Welcome to my extension!" %}</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
```

## üåê –ü–µ—Ä–µ–≤–æ–¥—ã (–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è)

### –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
mkdir -p locale/ru/LC_MESSAGES

# –°–æ–∑–¥–∞—Ç—å .po —Ñ–∞–π–ª
touch locale/ru/LC_MESSAGES/django.po
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ django.po

```po
# locale/ru/LC_MESSAGES/django.po
msgid ""
msgstr ""
"Language: ru\n"
"Content-Type: text/plain; charset=UTF-8\n"

#: views.py:10
msgid "Hello World"
msgstr "–ü—Ä–∏–≤–µ—Ç –ú–∏—Ä"

#: models.py:15
msgid "My Model"
msgstr "–ú–æ—è –º–æ–¥–µ–ª—å"
```

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
cd /opt/mayan-edms/lib/python3.9/site-packages/mayan/apps/my_extension/locale/ru/LC_MESSAGES/
msgfmt django.po -o django.mo
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```python
# mayan/settings/base.py
LOCALE_PATHS = [
    '/opt/mayan-edms/lib/python3.9/site-packages/mayan/apps/my_extension/locale',
]
```

## üîí –†–∞–∑—Ä–µ—à–µ–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

```python
# permissions.py
from django.utils.translation import ugettext_lazy as _

from mayan.apps.permissions.classes import Permission

permission_my_model_view = Permission(
    namespace='my_extension',
    name='my_model_view',
    label=_('View my model')
)

permission_my_model_edit = Permission(
    namespace='my_extension',
    name='my_model_edit',
    label=_('Edit my model')
)
```

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π

```python
# apps.py
from .permissions import permission_my_model_view, permission_my_model_edit

def ready(self):
    super().ready()

    # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
    from mayan.apps.acls.classes import ModelPermission
    ModelPermission.register(
        model=MyModel,
        permissions=(permission_my_model_view, permission_my_model_edit)
    )
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ test_models.py
‚îú‚îÄ‚îÄ test_views.py
‚îú‚îÄ‚îÄ test_api.py
‚îî‚îÄ‚îÄ test_permissions.py
```

### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞

```python
# tests/test_views.py
from django.test import TestCase
from django.urls import reverse

class MyExtensionViewTestCase(TestCase):
    def test_main_view(self):
        """Test main view accessibility"""
        response = self.client.get(reverse('my_extension:main_view'))
        self.assertEqual(response.status_code, 200)
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
cd /opt/mayan-edms
python manage.py test my_extension
```

## üöÄ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∞—Ü–∏—è

### –®–∞–≥ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ config.yml

```yaml
common:
  extra_apps:
    - mayan.apps.my_extension
```

### –®–∞–≥ 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Docker

```dockerfile
# Dockerfile.app
COPY mayan/apps/my_extension /opt/mayan-edms/lib/python3.9/site-packages/mayan/apps/my_extension
```

### –®–∞–≥ 3: –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -f Dockerfile.app -t prime-edms_app:latest .

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
./ubuntu-start.sh restart
```

### –®–∞–≥ 4: –ú–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –º–æ–¥–µ–ª–∏)

```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
python manage.py makemigrations my_extension
python manage.py migrate my_extension
```

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –°–∏–≥–Ω–∞–ª—ã Django

```python
# signals.py
from django.db.models.signals import post_save
from django.dispatch import receiver
from .models import MyModel

@receiver(post_save, sender=MyModel)
def my_model_saved(sender, instance, **kwargs):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∏–≥–Ω–∞–ª–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏"""
    print(f'MyModel {instance} was saved!')
```

### –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ (Celery)

```python
# tasks.py
from celery import shared_task

@shared_task
def my_background_task(data):
    """–§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞"""
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    return f'Processed: {data}'
```

### REST API

```python
# serializers.py
from rest_framework import serializers
from .models import MyModel

class MyModelSerializer(serializers.ModelSerializer):
    class Meta:
        model = MyModel
        fields = '__all__'

# views.py
from rest_framework import viewsets
from .models import MyModel
from .serializers import MyModelSerializer

class MyModelViewSet(viewsets.ModelViewSet):
    queryset = MyModel.objects.all()
    serializer_class = MyModelSerializer
```

### –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```python
# management/commands/my_command.py
from django.core.management.base import BaseCommand
from ...models import MyModel

class Command(BaseCommand):
    help = 'My custom command'

    def handle(self, *args, **options):
        self.stdout.write('Running my command...')
        # –õ–æ–≥–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã
```

## üì¶ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Å—Ä–µ–¥–∞

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –æ–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
3. **–ú–∏–≥—Ä–∞—Ü–∏–∏**: —Å–æ–∑–¥–∞–π—Ç–µ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
4. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –¥–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

```bash
#!/bin/bash
# deploy_extension.sh

EXTENSION_NAME=$1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
if [ ! -d "mayan/apps/$EXTENSION_NAME" ]; then
    echo "Extension $EXTENSION_NAME not found!"
    exit 1
fi

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ config.yml
echo "  - mayan.apps.$EXTENSION_NAME" >> config.yml

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
make restart

echo "Extension $EXTENSION_NAME deployed successfully!"
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

–°–º. [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫](troubleshooting.md)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Django documentation](https://docs.djangoproject.com/)
- [Mayan EDMS API](https://docs.mayan-edms.com/)
- [Django REST Framework](https://www.django-rest-framework.org/)
- [Celery documentation](https://docs.celeryproject.org/)
