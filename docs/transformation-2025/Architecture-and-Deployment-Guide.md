# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é Prime-EDMS DAM

> **–í–µ—Ä—Å–∏—è:** 1.0  
> **–î–∞—Ç–∞:** 03 –¥–µ–∫–∞–±—Ä—è 2025  
> **–°—Ç–∞—Ç—É—Å:** Production Ready

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#1-–æ–±–∑–æ—Ä-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
2. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#2-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
3. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ä–µ–¥–µ](#3-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–∫-—Å—Ä–µ–¥–µ)
4. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã](#4-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ-—Ñ–∞–π–ª—ã)
5. [–ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞](#5-–ø–æ—Ä—è–¥–æ–∫-–∑–∞–ø—É—Å–∫–∞)
6. [–£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ](#6-—É—á—ë—Ç–Ω—ã–µ-–¥–∞–Ω–Ω—ã–µ)
7. [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏](#7-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏)
8. [–ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è](#8-–∏–∑–≤–µ—Å—Ç–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–µ—à–µ–Ω–∏—è)
9. [Troubleshooting](#9-troubleshooting)

---

## 1. –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1.1 –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         Windows Host                                 ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ   Frontend       ‚îÇ    ‚îÇ         Docker Desktop / WSL2           ‚îÇ‚îÇ
‚îÇ  ‚îÇ   (Vue 3)        ‚îÇ    ‚îÇ                                         ‚îÇ‚îÇ
‚îÇ  ‚îÇ   :5173          ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ  ‚îÇ      prime-edms_app_1           ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ      (Mayan EDMS + DAM)         ‚îÇ   ‚îÇ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ  ‚îÇ      :8000 ‚Üí :8080              ‚îÇ   ‚îÇ‚îÇ
‚îÇ  ‚îÇ   Browser        ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ‚îÇ
‚îÇ  ‚îÇ   :8080          ‚îÇ    ‚îÇ                ‚îÇ                        ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ             ‚îÇ                   ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îÇ   PostgreSQL    ‚îÇ            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îÇ   :5432         ‚îÇ            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ                                 ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îÇ   RabbitMQ      ‚îÇ            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îÇ   :5672         ‚îÇ            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ                                 ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îÇ   Redis         ‚îÇ            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îÇ   :6379         ‚îÇ            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò            ‚îÇ   ‚îÇ‚îÇ
‚îÇ                          ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ‚îÇ
‚îÇ                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 1.2 –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

```
[Browser] ‚îÄ‚îÄHTTP‚îÄ‚îÄ‚ñ∂ [Vite Dev Server :5173] ‚îÄ‚îÄProxy‚îÄ‚îÄ‚ñ∂ [Mayan API :8080]
                                                              ‚îÇ
                                                              ‚ñº
                                                    [Django/Gunicorn :8000]
                                                              ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ                                         ‚îÇ          ‚îÇ
                    ‚ñº                                         ‚ñº          ‚ñº
            [PostgreSQL]                              [RabbitMQ]    [Redis]
            (–¥–∞–Ω–Ω—ã–µ)                                  (–∑–∞–¥–∞—á–∏)      (–∫—ç—à/–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)
```

---

## 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 2.1 Backend Services

| –°–µ—Ä–≤–∏—Å | –û–±—Ä–∞–∑ | –ü–æ—Ä—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|-------|------|------------|
| **app** | `prime-edms-app:latest` | 8080‚Üí8000 | Mayan EDMS + DAM –º–æ–¥—É–ª–∏ |
| **postgresql** | `postgres:12.10-alpine` | 5432 | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö |
| **rabbitmq** | `rabbitmq:3.10-management-alpine` | 5672, 15672 | –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π Celery |
| **redis** | `redis:6.2-alpine` | 6379 | –ö—ç—à, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã Celery |

### 2.2 Frontend

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ü–æ—Ä—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|------------|------|------------|
| **Vite Dev Server** | Vite 5.x | 5173 | Dev server —Å HMR |
| **Vue Application** | Vue 3 + Pinia | - | SPA –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ |

### 2.3 –ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–æ–¥—É–ª–∏ DAM

```
mayan/apps/
‚îú‚îÄ‚îÄ dam/                    # –û—Å–Ω–æ–≤–Ω–æ–π DAM –º–æ–¥—É–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ ai_providers/       # AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (YandexGPT, GigaChat, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ api_views.py        # REST API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # DocumentAIAnalysis –º–æ–¥–µ–ª—å
‚îÇ   ‚îî‚îÄ‚îÄ tasks.py            # Celery tasks –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ‚îÄ distribution/           # –ú–æ–¥—É–ª—å –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏–∏
‚îú‚îÄ‚îÄ image_editor/           # –†–µ–¥–∞–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îú‚îÄ‚îÄ converter_pipeline_extension/  # –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –º–µ–¥–∏–∞
‚îî‚îÄ‚îÄ dynamic_search/         # –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫
```

---

## 3. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ä–µ–¥–µ

### 3.1 –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –†–µ—Å—É—Ä—Å | –ú–∏–Ω–∏–º—É–º | –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è |
|--------|---------|---------------|
| **RAM** | 8 GB | 16 GB |
| **CPU** | 4 cores | 8 cores |
| **Disk** | 50 GB | 100 GB SSD |
| **OS** | Windows 10 (1903+) | Windows 11 |

### 3.2 –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| **Docker Desktop** | 4.x+ | **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** (—Å—Ç–∞–±–∏–ª—å–Ω–µ–µ WSL Docker) |
| **WSL2** | 2.x | Ubuntu 22.04 |
| **Node.js** | 18.x+ | –î–ª—è frontend |
| **npm** | 9.x+ | Package manager |

### 3.3 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è WSL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–§–∞–π–ª `%USERPROFILE%\.wslconfig`:

```ini
[wsl2]
memory=8GB
processors=4
swap=4GB
```

---

## 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 4.1 docker-compose.yml (–∫–ª—é—á–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

```yaml
services:
  app:
    build:
      dockerfile: Dockerfile.app
    environment:
      # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
      MAYAN_DATABASES: "{'default':{'ENGINE':'django.db.backends.postgresql',...}}"
      
      # Celery
      MAYAN_CELERY_BROKER_URL: amqp://mayan:mayanrabbitpass@rabbitmq:5672/mayan
      MAYAN_CELERY_RESULT_BACKEND: redis://:mayanredispassword@redis:6379/1
      
      # Lock Manager
      MAYAN_LOCK_MANAGER_BACKEND: mayan.apps.lock_manager.backends.redis_lock.RedisLock
      
      # DAM Extensions
      MAYAN_COMMON_EXTRA_APPS: "['mayan.apps.dam.apps.DAMApp', ...]"
      
      # Autoadmin
      MAYAN_AUTOADMIN_USERNAME: "admin"
      MAYAN_AUTOADMIN_PASSWORD: "admin123"  # –¢–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ!
    
    depends_on:
      postgresql:
        condition: service_healthy
      redis:
        condition: service_healthy
      rabbitmq:
        condition: service_healthy
    
    healthcheck:
      test: ["CMD-SHELL", "curl -sf http://localhost:8000/api/v4/ || exit 1"]
      start_period: 300s  # 5 –º–∏–Ω—É—Ç –Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é
```

### 4.2 Vite Proxy (vite.config.ts)

```typescript
proxy: {
  '/api': {
    target: 'http://localhost:8080',
    changeOrigin: true
  },
  '/digital-assets': {
    target: 'http://localhost:8080',
    changeOrigin: true
  }
}
```

### 4.3 –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (app.env)

```env
# Database
MAYAN_DATABASE_PASSWORD=mayandbpass

# RabbitMQ
MAYAN_RABBITMQ_PASSWORD=mayanrabbitpass

# Redis
MAYAN_REDIS_PASSWORD=mayanredispassword

# S3 Storage (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
MAYAN_STORAGE_S3_ENABLED=true
MAYAN_STORAGE_S3_ENDPOINT_URL=https://s3.ru1.storage.beget.cloud
MAYAN_STORAGE_S3_BUCKET_NAME=your-bucket
MAYAN_STORAGE_S3_ACCESS_KEY=your-key
MAYAN_STORAGE_S3_SECRET_KEY=your-secret
```

---

## 5. –ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞

### 5.1 –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ (–ø–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)

```powershell
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop
# (–¥–æ–∂–¥–∞—Ç—å—Å—è –∑–µ–ª—ë–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞)

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd C:\DAM\Prime-EDMS

# 3. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose build --no-cache
docker-compose up -d

# 4. –î–æ–∂–¥–∞—Ç—å—Å—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (3-5 –º–∏–Ω—É—Ç)
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
docker ps --format "table {{.Names}}\t{{.Status}}"

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend
cd frontend
npm install
npm run dev
```

### 5.2 –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞–ø—É—Å–∫

```powershell
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
cd C:\DAM\Prime-EDMS
docker-compose up -d

# 3. –î–æ–∂–¥–∞—Ç—å—Å—è healthy —Å—Ç–∞—Ç—É—Å–∞ (1-2 –º–∏–Ω—É—Ç—ã)
docker ps

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å frontend
cd frontend
npm run dev
```

### 5.3 –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```
1. Docker Desktop          ‚Üí –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –ø–µ—Ä–≤—ã–º
2. PostgreSQL              ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
3. Redis                   ‚Üí –ö—ç—à –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
4. RabbitMQ                ‚Üí –ë—Ä–æ–∫–µ—Ä –∑–∞–¥–∞—á (healthcheck: 30s)
5. App (Mayan EDMS)        ‚Üí –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (healthcheck: 300s)
   ‚îú‚îÄ‚îÄ Migrations          ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
   ‚îú‚îÄ‚îÄ Autoadmin creation  ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   ‚îú‚îÄ‚îÄ Supervisor          ‚Üí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
   ‚îú‚îÄ‚îÄ Gunicorn            ‚Üí WSGI —Å–µ—Ä–≤–µ—Ä
   ‚îî‚îÄ‚îÄ Celery Workers      ‚Üí –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
6. Frontend (Vite)         ‚Üí Dev server
```

---

## 6. –£—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### 6.1 Admin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–∞—Ä–æ–ª—å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–∞—Ä–æ–ª—è:**

```powershell
docker exec prime-edms_app_1 /opt/mayan-edms/bin/python /opt/mayan-edms/bin/mayan-edms.py shell -c "from mayan.apps.autoadmin.models import AutoAdminSingleton; a = AutoAdminSingleton.objects.first(); print('Username:', a.account.username); print('Password:', a.password)"
```

**–¢–∏–ø–∏—á–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| Username | `admin` |
| Password | `sDkRqsc9Je` (–∏–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) |

### 6.2 –°–µ—Ä–≤–∏—Å–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –°–µ—Ä–≤–∏—Å | User | Password |
|--------|------|----------|
| PostgreSQL | `mayan` | `mayandbpass` |
| RabbitMQ | `mayan` | `mayanrabbitpass` |
| Redis | - | `mayanredispassword` |

---

## 7. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 7.1 –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```powershell
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–≤—Å–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å healthy)
docker ps --format "table {{.Names}}\t{{.Status}}"

# API Health Check
curl http://localhost:8080/api/v4/
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: HTTP 200

# Auth Test
curl -X POST -H "Content-Type: application/json" \
  -d '{"username":"admin","password":"YOUR_PASSWORD"}' \
  http://localhost:8080/api/v4/auth/token/obtain/
# –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: {"token":"..."}
```

### 7.2 –î–æ—Å—Ç—É–ø–Ω—ã–µ URL

| URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| http://localhost:5173/ | Frontend (Vue) |
| http://localhost:8080/ | Mayan EDMS UI |
| http://localhost:8080/api/v4/ | REST API |
| http://localhost:8080/digital-assets/ | DAM –º–æ–¥—É–ª—å |
| http://localhost:8080/api/swagger/ui/ | Swagger UI |

### 7.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```powershell
# –õ–æ–≥–∏ app –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker logs prime-edms_app_1 --tail 50

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker logs -f prime-edms_app_1

# Supervisor —Å—Ç–∞—Ç—É—Å
docker exec prime-edms_app_1 supervisorctl status
```

---

## 8. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### 8.1 –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–≤ –∫–æ–¥–æ–≤–æ–π –±–∞–∑–µ)

| –ü—Ä–æ–±–ª–µ–º–∞ | –§–∞–π–ª | –†–µ—à–µ–Ω–∏–µ |
|----------|------|---------|
| RabbitMQ timeout –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ | `task_manager/apps.py` | Retry –ª–æ–≥–∏–∫–∞ (10√ó5s) |
| Redis lock timeout | `lock_manager/apps.py` | Retry –ª–æ–≥–∏–∫–∞ (5√ó3s) |
| –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π exception handler | `settings/base.py` | –ó–∞–º–µ–Ω—ë–Ω –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π DRF |

### 8.2 WSL —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –°–∏–º–ø—Ç–æ–º | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|---------|---------|---------|
| `Failed to mount D:\` | WSL –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∏—Å–∫ | –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã exit(255) | WSL –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker Desktop |
| `systemd user session failed` | WSL systemd issue | –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É |

### 8.3 Docker Desktop vs WSL Docker

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Docker Desktop | WSL Docker |
|----------|----------------|------------|
| –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –•–æ—Ä–æ—à–∞—è | –û—Ç–ª–∏—á–Ω–∞—è |
| –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è | **–î–ª—è production** | –î–ª—è dev/testing |

---

## 9. Troubleshooting

### 9.1 –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs prime-edms_app_1

# –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose down
docker-compose up -d

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π
docker-compose down -v
docker-compose build --no-cache
docker-compose up -d
```

### 9.2 API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
docker logs prime-edms_app_1 2>&1 | Select-String -Pattern "Error|Exception"

# –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
# - mayan.apps.api –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ settings/base.py
# - Database connection ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å PostgreSQL
```

### 9.3 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```powershell
# –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
docker exec prime-edms_app_1 /opt/mayan-edms/bin/python \
  /opt/mayan-edms/bin/mayan-edms.py shell -c \
  "from mayan.apps.autoadmin.models import AutoAdminSingleton; \
   a = AutoAdminSingleton.objects.first(); print(a.password)"

# –°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å
docker exec -it prime-edms_app_1 /opt/mayan-edms/bin/python \
  /opt/mayan-edms/bin/mayan-edms.py changepassword admin
```

### 9.4 Frontend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ API

```powershell
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend –¥–æ—Å—Ç—É–ø–µ–Ω
curl http://localhost:8080/api/v4/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å proxy –≤ vite.config.ts
# target –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 'http://localhost:8080'

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Vite
cd frontend
npm run dev
```

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [Quick-Start-Guide.md](./Quick-Start-Guide.md) ‚Äî –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [DAM-Frontend-User-Paths.md](./DAM-Frontend-User-Paths.md) ‚Äî –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [api_surface.md](./api_surface.md) ‚Äî API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [IMPLEMENTATION_ROADMAP_FULL.md](./IMPLEMENTATION_ROADMAP_FULL.md) ‚Äî –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –í–µ—Ä—Å–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|--------|-----------|
| 03.12.2025 | 1.0 | –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è |

---

> **–ê–≤—Ç–æ—Ä:** AI Assistant  
> **–ü—Ä–æ–µ–∫—Ç:** Prime-EDMS DAM System  
> **–õ–∏—Ü–µ–Ω–∑–∏—è:** Proprietary












