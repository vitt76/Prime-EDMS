# ðŸ”— ÐÐ Ð¥Ð˜Ð¢Ð•ÐšÐ¢Ð£Ð Ð Ð¡Ð’Ð¯Ð—Ð•Ð™ Ð˜ ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð•Ð›Ð¬Ð¡ÐšÐ˜Ð• ÐŸÐ£Ð¢Ð˜ DAM Ð¤Ð ÐžÐÐ¢Ð•ÐÐ”Ð
## ÐœÐ¾Ð´ÐµÐ»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð² Ð¸ UX-Ð¿Ð¾Ñ‚Ð¾ÐºÐ¾Ð²

**Ð’ÐµÑ€ÑÐ¸Ñ:** 1.0  
**Ð”Ð°Ñ‚Ð°:** ÐÐ¾ÑÐ±Ñ€ÑŒ 2025  
**Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ:** Senior Architecture (20+ Ð»ÐµÑ‚ enterprise DAM Ð¾Ð¿Ñ‹Ñ‚Ð°)  
**ÐœÐµÑ‚Ð¾Ð´Ð¾Ð»Ð¾Ð³Ð¸Ñ:** DDD (Domain-Driven Design) + User-Centric Architecture  
**Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ñ‹:** Bynder/Canto/Adobe DAM best practices  

---

## ðŸ“‘ ÐžÐ“Ð›ÐÐ’Ð›Ð•ÐÐ˜Ð•

1. [ÐŸÑ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹ ÑÐ²ÑÐ·ÐµÐ¹](#Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹-Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹-ÑÐ²ÑÐ·ÐµÐ¹)
2. [ÐœÐ¾Ð´ÐµÐ»ÑŒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ (State Model)](#Ð¼Ð¾Ð´ÐµÐ»ÑŒ-ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ-state-model)
3. [Ð”Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²](#Ð´Ð¸Ð°Ð³Ñ€Ð°Ð¼Ð¼Ð°-Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ-ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð²)
4. [ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ð¿ÑƒÑ‚Ð¸ (User Journeys)](#Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ-Ð¿ÑƒÑ‚Ð¸-user-journeys)
5. [ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ](#ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ-ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¸-Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ)
6. [Data Flow Mapping](#data-flow-mapping)
7. [Navigation Model](#navigation-model)
8. [State Management Architecture](#state-management-architecture)
9. [API Interaction Patterns](#api-interaction-patterns)
10. [Performance Optimization Routes](#performance-optimization-routes)

---

# ðŸ—ï¸ ÐŸÐ Ð˜ÐÐ¦Ð˜ÐŸÐ« ÐÐ Ð¥Ð˜Ð¢Ð•ÐšÐ¢Ð£Ð Ð« Ð¡Ð’Ð¯Ð—Ð•Ð™

## ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð´Ð¸Ð³Ð¼Ñ‹

### 1. Unidirectional Data Flow
```
User Action â†’ Component Event â†’ Store Update â†’ UI Rerender
```

**ÐŸÑ€Ð¸Ð½Ñ†Ð¸Ð¿:** Ð’ÑÐµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð¸Ð´ÑƒÑ‚ Ñ‡ÐµÑ€ÐµÐ· Pinia store
- âœ… ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·ÑƒÐµÐ¼Ð¾Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ
- âœ… Ð›ÐµÐ³Ñ‡Ðµ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ° (DevTools)
- âœ… Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾Ðµ Ð¼Ð°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

### 2. Component Composition Hierarchy
```
Layout (Header + Sidebar + MainContent)
  â†“
Page (DAMPage, DistributionPage, etc)
  â†“
Feature Components (GalleryView, SearchBar, etc)
  â†“
Common Components (Button, Input, Card, etc)
  â†“
Base Elements (DOM primitives)
```

**ÐšÐ°Ð¶Ð´Ñ‹Ð¹ ÑƒÑ€Ð¾Ð²ÐµÐ½ÑŒ:**
- Ð˜Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸
- ÐŸÐµÑ€ÐµÐ¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ñ… ÐºÐ¾Ð½Ñ‚ÐµÐºÑÑ‚Ð°Ñ…
- Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐµÐ¼ Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾

### 3. Two-Way Communication Pattern
```
Component State (local) â†â†’ Pinia Store (global) â†â†’ API (backend)
```

**ÐŸÑ€Ð°Ð²Ð¸Ð»Ð¾ Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð¸Ñ:**
| State Type | Location | Scope |
|-----------|----------|-------|
| UI state (theme, sidebar) | uiStore | Global, persistent |
| User data (profile, perms) | authStore | Global, session |
| Asset data (gallery items) | assetStore | Global, cached |
| Form state (inputs) | Local component | Local, temporary |
| Modal state (open/closed) | uiStore | Global, scoped |

### 4. Event-Driven Architecture
```
User Interaction
    â†“
Component emits event
    â†“
Parent listens (or router changes)
    â†“
Store action triggered
    â†“
API call (if needed)
    â†“
State updates
    â†“
Components rerender
```

---

## ðŸŽ¯ DAM-ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹

### Gallery-First Paradigm
```
Ð’ÑÐµ Ð¿ÑƒÑ‚Ð¸ Ð²ÐµÐ´ÑƒÑ‚ Ðº Gallery View ÐºÐ°Ðº Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ñ‚Ð¾Ñ‡ÐºÐµ:

Dashboard â†’ Quick Access â†’ Gallery View
  â†“
Search Results â†’ Click Asset â†’ Detail View
  â†“
Admin Setup â†’ Upload â†’ Gallery View
  â†“
Collections â†’ Browse â†’ Gallery View
  â†“
Distribution â†’ Preview â†’ Gallery View
```

**ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Gallery Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»ÑŒÐ½Ð°Ñ?**
- âœ… ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Ð°ÐºÑ‚Ð¸Ð²Ð°Ð¼Ð¸ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ Ð·Ð´ÐµÑÑŒ
- âœ… 80% user time spent
- âœ… Hub Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ°, Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ð¸, Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹
- âœ… Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ‚Ð¾Ñ‡ÐºÐ° Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¿ÑƒÑ‚ÐµÐ¹

### Contextual Filtering Model
```
Global Filters (persistent across session)
    â†“
    Query String (shareable, bookmarkable)
    â†“
    Faceted Search (dynamic)
    â†“
    Recent Searches (localStorage)
    â†“
    Saved Searches (backend)
```

### Progressive Disclosure (Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾Ðµ Ñ€Ð°ÑÐºÑ€Ñ‹Ñ‚Ð¸Ðµ)
```
Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð²Ð¸Ð´ (simple defaults)
    â†“
Expanded view (more options)
    â†“
Advanced search (power user features)
    â†“
Admin settings (system configuration)
```

---

# ðŸ“Š ÐœÐžÐ”Ð•Ð›Ð¬ Ð¡ÐžÐ¡Ð¢ÐžÐ¯ÐÐ˜Ð¯ (STATE MODEL)

## Global State Stores (Pinia)

### authStore
```typescript
State:
  - user: User | null
  - permissions: Permission[]
  - isAuthenticated: boolean
  - token: string | null
  - 2faEnabled: boolean
  - lastActivity: timestamp

Actions:
  - login(email, password)
  - logout()
  - refreshToken()
  - setup2FA()
  - updateProfile()

Connections:
  â†’ assetStore (filter by permissions)
  â†’ distributionStore (user-specific publications)
  â†’ notificationStore (user preferences)
  â†’ uiStore (sidebar navigation)
```

### uiStore
```typescript
State:
  - sidebarExpanded: boolean
  - theme: 'light' | 'dark' | 'auto'
  - activeModal: string | null
  - notifications: Notification[]
  - breadcrumbs: Breadcrumb[]
  - mobileMenuOpen: boolean

Actions:
  - toggleSidebar()
  - setTheme(theme)
  - openModal(modalName, data)
  - closeModal()
  - addNotification(notification)
  - setBreadcrumbs(crumbs)

Connections:
  â†’ All pages (theme, sidebar state)
  â†’ All components (modal management)
  â†’ Layout (navigation state)
```

### assetStore (CORE)
```typescript
State:
  - assets: Asset[] (current page)
  - totalCount: number (for pagination)
  - selectedAssets: Asset[] (multi-select)
  - currentAsset: Asset | null (detail view)
  - loadingState: 'idle' | 'loading' | 'error'
  - filters: FilterState
  - sortBy: SortOption
  - pagination: PaginationState
  - cacheTimestamp: timestamp

Actions:
  - fetchAssets(params)
  - getAssetDetail(id)
  - searchAssets(query)
  - selectAsset(asset, multiSelect)
  - applyFilters(filters)
  - clearFilters()
  - sortAssets(sortBy)
  - nextPage()
  - previousPage()

Connections:
  â†’ GalleryView (displays assets)
  â†’ SearchBar (search query)
  â†’ FiltersPanel (filter state)
  â†’ BulkActions (selected items)
  â†’ AssetDetailPage (current asset)
  â†’ All modals (asset operations)
```

### searchStore
```typescript
State:
  - query: string
  - results: Asset[]
  - recentSearches: string[] (max 5)
  - savedSearches: SavedSearch[]
  - facets: Facet[] (aggregations)
  - searchHistory: SearchHistory[]

Actions:
  - performSearch(query)
  - clearSearch()
  - addToRecent(query)
  - saveSearch(name, filters)
  - deleteSaveSearch(id)
  - getFacets()
  - advancedSearch(advancedQuery)

Connections:
  â†’ SearchBar (instant results)
  â†’ AdvancedSearchPage (full results)
  â†’ assetStore (populate gallery)
  â†’ FiltersPanel (facets display)
```

### filterStore
```typescript
State:
  - activeFilters: Filter[]
  - filterPresets: FilterPreset[]
  - tempFilters: Filter[] (during edit)
  - filterHistory: Filter[][]

Actions:
  - addFilter(filter)
  - removeFilter(filterId)
  - applyFilters()
  - resetFilters()
  - saveFilterPreset(name)
  - loadFilterPreset(presetId)

Connections:
  â†’ assetStore (query params)
  â†’ searchStore (facets)
  â†’ FiltersPanel (UI)
  â†’ QueryString (URL params)
```

### notificationStore
```typescript
State:
  - notifications: Notification[] (toast queue)
  - wsConnected: boolean
  - unreadCount: number
  - notificationCenter: FullNotification[]

Actions:
  - addNotification(notification)
  - removeNotification(id)
  - markAsRead(id)
  - markAllAsRead()
  - connectWebSocket()
  - disconnectWebSocket()

Connections:
  â†’ Header (unread badge)
  â†’ NotificationCenterModal (full list)
  â†’ BulkActions (operation results)
  â†’ API responses (error/success)
```

### settingsStore
```typescript
State:
  - userPreferences: UserPreferences
  - language: string
  - timezone: string
  - itemsPerPage: number
  - viewMode: 'gallery' | 'list'

Actions:
  - updatePreference(key, value)
  - saveSettings()
  - loadSettings()

Connections:
  â†’ LocalStorage (persistence)
  â†’ ProfilePage (settings UI)
  â†’ All pages (preferences apply)
```

---

# ðŸ”€ Ð”Ð˜ÐÐ“Ð ÐÐœÐœÐ Ð’Ð—ÐÐ˜ÐœÐžÐ”Ð•Ð™Ð¡Ð¢Ð’Ð˜Ð¯ ÐšÐžÐœÐŸÐžÐÐ•ÐÐ¢ÐžÐ’

## Component Interaction Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Application Shell                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Header (64px Fixed)                      â”‚  â”‚
â”‚  â”‚  Logo â”‚ SearchBar â”‚ Upload â”‚ Filters â”‚ Notificationsâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚   Sidebar   â”‚  â”‚      MainContent Area          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ (280px)     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚  â”‚   Router Outlet             â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Navigation  â”‚  â”‚  â”‚  (Page Component)           â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Dashboard â”‚  â”‚  â”‚                             â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ DAM       â”‚  â”‚  â”‚  Page Content:              â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Distrib   â”‚  â”‚  â”‚  - GalleryView              â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Admin     â”‚  â”‚  â”‚  - SearchResults            â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Settings  â”‚  â”‚  â”‚  - AssetDetail              â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚  â”‚  - Publication              â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Collections â”‚  â”‚  â”‚  - Dashboard                â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ My Upload â”‚  â”‚  â”‚  - etc                      â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Favorites â”‚  â”‚  â”‚                             â”‚â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Recent    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Shared    â”‚  â”‚                                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚             â”‚  â”‚  Modals (Portal):             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ [+ Folder]  â”‚  â”‚  - UploadModal                â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  - ShareModal                 â”‚ â”‚ â”‚
â”‚  â”‚                   â”‚  - DeleteConfirm              â”‚ â”‚ â”‚
â”‚  â”‚                   â”‚  - AssetPreview               â”‚ â”‚ â”‚
â”‚  â”‚                   â”‚  - EditMetadata               â”‚ â”‚ â”‚
â”‚  â”‚                   â”‚  - CreatePublication          â”‚ â”‚ â”‚
â”‚  â”‚                   â”‚  - etc                        â”‚ â”‚ â”‚
â”‚  â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• (State & Events)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Pinia State Management Layer                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   auth  â”‚   asset  â”‚   search â”‚  filter  â”‚   ui    â”‚  â”‚
â”‚  â”‚ Store   â”‚ Store    â”‚ Store    â”‚ Store    â”‚ Store   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• (API Calls & WebSocket)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             API Service & HTTP Layer                        â”‚
â”‚  [assetService] [searchService] [authService] [...]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†• (HTTP/REST)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Django REST API Backend                            â”‚
â”‚  GET /api/v4/dam/assets/                                  â”‚
â”‚  POST /api/v4/dam/assets/search/                          â”‚
â”‚  PUT /api/v4/dam/assets/{id}/                             â”‚
â”‚  etc                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Tree with Data Flow

```
App.vue (root)
â”œâ”€â”€ Header.vue
â”‚   â”œâ”€â”€ Logo (router.push to dashboard)
â”‚   â”œâ”€â”€ SearchBar.vue
â”‚   â”‚   â”œâ”€â”€ input event â†’ searchStore.performSearch()
â”‚   â”‚   â”œâ”€â”€ SearchResults.vue (dropdown)
â”‚   â”‚   â”‚   â””â”€â”€ click â†’ router.push to detail
â”‚   â”‚   â””â”€â”€ emit 'search' â†’ SearchResults
â”‚   â”œâ”€â”€ UploadButton
â”‚   â”‚   â””â”€â”€ click â†’ open UploadModal
â”‚   â”œâ”€â”€ FilterButton
â”‚   â”‚   â””â”€â”€ click â†’ open/close FiltersPanel
â”‚   â”œâ”€â”€ NotificationBell.vue
â”‚   â”‚   â”œâ”€â”€ badge from notificationStore.unreadCount
â”‚   â”‚   â””â”€â”€ click â†’ open NotificationCenterModal
â”‚   â””â”€â”€ UserMenu.vue
â”‚       â”œâ”€â”€ ProfilePage link
â”‚       â”œâ”€â”€ SettingsPage link
â”‚       â””â”€â”€ Logout button
â”‚
â”œâ”€â”€ Sidebar.vue (collapsible)
â”‚   â”œâ”€â”€ Navigation links
â”‚   â”‚   â”œâ”€â”€ Dashboard â†’ push route
â”‚   â”‚   â”œâ”€â”€ DAM Gallery â†’ push route
â”‚   â”‚   â”œâ”€â”€ Distribution â†’ push route
â”‚   â”‚   â””â”€â”€ Admin â†’ push route
â”‚   â”œâ”€â”€ Collections Tree
â”‚   â”‚   â”œâ”€â”€ expanded/collapsed state â†’ uiStore
â”‚   â”‚   â”œâ”€â”€ items from assetStore
â”‚   â”‚   â””â”€â”€ drag-drop â†’ move assets
â”‚   â””â”€â”€ Quick actions
â”‚       â””â”€â”€ [+ New Folder] â†’ CreateCollectionModal
â”‚
â”œâ”€â”€ MainContent.vue
â”‚   â””â”€â”€ RouterView (current page)
â”‚       â”œâ”€â”€ DAMPage
â”‚       â”‚   â”œâ”€â”€ GalleryView.vue
â”‚       â”‚   â”‚   â”œâ”€â”€ connects to assetStore.assets
â”‚       â”‚   â”‚   â”œâ”€â”€ AssetCard (for each asset)
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ image from asset.thumbnail_url
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ hover â†’ show quick actions
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ click â†’ router.push to detail
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ checkbox â†’ select in assetStore
â”‚       â”‚   â”‚   â”œâ”€â”€ Pagination.vue
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ next â†’ assetStore.nextPage()
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ previous â†’ assetStore.previousPage()
â”‚       â”‚   â”‚   â””â”€â”€ InfiniteScroll (alternative)
â”‚       â”‚   â”‚       â””â”€â”€ scroll â†’ load more assets
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ BulkActions.vue (toolbar)
â”‚       â”‚   â”‚   â”œâ”€â”€ visible if assetStore.selectedAssets.length > 0
â”‚       â”‚   â”‚   â”œâ”€â”€ Bulk tag â†’ BulkTagModal
â”‚       â”‚   â”‚   â”œâ”€â”€ Bulk move â†’ MoveAssetsModal
â”‚       â”‚   â”‚   â”œâ”€â”€ Bulk delete â†’ DeleteConfirmModal
â”‚       â”‚   â”‚   â”œâ”€â”€ Bulk download â†’ trigger export
â”‚       â”‚   â”‚   â””â”€â”€ Bulk share â†’ ShareModal
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ SearchBar.vue (header-integrated)
â”‚       â”‚   â”‚   â””â”€â”€ changes searchStore.query
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ FiltersPanel.vue (left sidebar)
â”‚       â”‚       â”œâ”€â”€ Type filter (images, videos, docs)
â”‚       â”‚       â”œâ”€â”€ Date range filter
â”‚       â”‚       â”œâ”€â”€ Size filter
â”‚       â”‚       â”œâ”€â”€ Tags filter
â”‚       â”‚       â”œâ”€â”€ Custom metadata filters
â”‚       â”‚       â””â”€â”€ Apply button â†’ filterStore.applyFilters()
â”‚       â”‚
â”‚       â”œâ”€â”€ AssetDetailPage
â”‚       â”‚   â”œâ”€â”€ preview (left 60%)
â”‚       â”‚   â”‚   â”œâ”€â”€ image/video from currentAsset
â”‚       â”‚   â”‚   â”œâ”€â”€ zoom controls
â”‚       â”‚   â”‚   â””â”€â”€ download button
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ MetadataPanel.vue (right 40%)
â”‚       â”‚       â”œâ”€â”€ File Details
â”‚       â”‚       â”œâ”€â”€ Image Info
â”‚       â”‚       â”œâ”€â”€ AI Analysis section
â”‚       â”‚       â”‚   â”œâ”€â”€ TagSuggestions.vue
â”‚       â”‚       â”‚   â”œâ”€â”€ AnalysisResults.vue
â”‚       â”‚       â”‚   â””â”€â”€ AIInsights.vue
â”‚       â”‚       â”œâ”€â”€ Version History
â”‚       â”‚       â”‚   â””â”€â”€ VersionHistoryModal on click
â”‚       â”‚       â”œâ”€â”€ Comments
â”‚       â”‚       â”‚   â””â”€â”€ Comment thread display
â”‚       â”‚       â”œâ”€â”€ Actions (Approve, Share, More)
â”‚       â”‚       â””â”€â”€ Approve button â†’ workflow trigger
â”‚       â”‚
â”‚       â”œâ”€â”€ DistributionPage
â”‚       â”‚   â”œâ”€â”€ PublicationList.vue
â”‚       â”‚   â”‚   â”œâ”€â”€ PublicationCard (for each)
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ title, channel, schedule
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ click â†’ publication detail
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ actions (edit, delete, analytics)
â”‚       â”‚   â”‚   â””â”€â”€ [+ Create Publication]
â”‚       â”‚   â”‚       â””â”€â”€ CreatePublicationModal
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ PublicationStats.vue
â”‚       â”‚       â”œâ”€â”€ downloads chart
â”‚       â”‚       â”œâ”€â”€ views chart
â”‚       â”‚       â””â”€â”€ engagement metrics
â”‚       â”‚
â”‚       â”œâ”€â”€ DashboardPage
â”‚       â”‚   â”œâ”€â”€ StatsCard (KPIs)
â”‚       â”‚   â”œâ”€â”€ ChartWidget (usage, uploads)
â”‚       â”‚   â”œâ”€â”€ ActivityFeed.vue
â”‚       â”‚   â””â”€â”€ StorageMetrics.vue
â”‚       â”‚
â”‚       â”œâ”€â”€ AdminPage
â”‚       â”‚   â”œâ”€â”€ UserManagementPage.vue
â”‚       â”‚   â”œâ”€â”€ MetadataSchemaPage.vue
â”‚       â”‚   â”œâ”€â”€ WorkflowDesignerPage.vue
â”‚       â”‚   â””â”€â”€ ReportsPage.vue
â”‚       â”‚
â”‚       â””â”€â”€ SettingsPage
â”‚           â”œâ”€â”€ ProfileSection
â”‚           â”œâ”€â”€ AccountSettings
â”‚           â”œâ”€â”€ SecuritySettings
â”‚           â”œâ”€â”€ APIKeys
â”‚           â””â”€â”€ NotificationPreferences
â”‚
â””â”€â”€ Modals (Portal)
    â”œâ”€â”€ UploadModal
    â”‚   â”œâ”€â”€ drag-drop zone
    â”‚   â”œâ”€â”€ FileUploader.vue
    â”‚   â””â”€â”€ emit 'uploaded' â†’ refresh assetStore
    â”‚
    â”œâ”€â”€ ShareModal
    â”‚   â”œâ”€â”€ generate link â†’ API call
    â”‚   â”œâ”€â”€ permissions selector
    â”‚   â””â”€â”€ expiration date picker
    â”‚
    â”œâ”€â”€ DeleteConfirmModal
    â”‚   â”œâ”€â”€ show items to delete
    â”‚   â””â”€â”€ delete button â†’ API + refresh assetStore
    â”‚
    â”œâ”€â”€ AssetPreviewModal (lightbox)
    â”‚   â”œâ”€â”€ large preview
    â”‚   â”œâ”€â”€ prev/next arrows
    â”‚   â””â”€â”€ keyboard navigation
    â”‚
    â”œâ”€â”€ EditMetadataModal
    â”‚   â”œâ”€â”€ dynamic form based on schema
    â”‚   â””â”€â”€ save â†’ API + update assetStore
    â”‚
    â”œâ”€â”€ BulkTagModal
    â”‚   â”œâ”€â”€ operation selector
    â”‚   â”œâ”€â”€ tag input with autocomplete
    â”‚   â””â”€â”€ apply â†’ API + refresh assetStore
    â”‚
    â”œâ”€â”€ MoveAssetsModal
    â”‚   â”œâ”€â”€ collection tree selector
    â”‚   â””â”€â”€ move button â†’ API + refresh assetStore
    â”‚
    â””â”€â”€ NotificationCenterModal
        â”œâ”€â”€ list of notifications
        â”œâ”€â”€ filter tabs
        â””â”€â”€ mark as read / delete actions
```

---

# ðŸš€ ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐ¢Ð•Ð›Ð¬Ð¡ÐšÐ˜Ð• ÐŸÐ£Ð¢Ð˜ (USER JOURNEYS)

## 1. Beginner User Path: First Time Upload & Discovery

### Goal: Upload first asset and find it in gallery

```
Step 1: Login
â”œâ”€â”€ User navigates to /login
â”œâ”€â”€ Component: LoginPage.vue
â”œâ”€â”€ Enters credentials
â”œâ”€â”€ Action: authStore.login(email, password)
â”œâ”€â”€ Result: authStore.isAuthenticated = true
â””â”€â”€ Redirect: Dashboard

Step 2: See Dashboard
â”œâ”€â”€ Component: DashboardPage
â”œâ”€â”€ Displays:
â”‚   â”œâ”€â”€ Welcome message
â”‚   â”œâ”€â”€ Quick stats (0 assets, 0 usage)
â”‚   â”œâ”€â”€ Recent activity (empty)
â”‚   â””â”€â”€ Call-to-action: "Upload your first asset"
â””â”€â”€ UX: Large, visible upload button

Step 3: Click Upload
â”œâ”€â”€ User clicks header UploadButton
â”œâ”€â”€ Trigger: uiStore.openModal('upload')
â”œâ”€â”€ Component: UploadModal opens
â”œâ”€â”€ Options:
â”‚   â”œâ”€â”€ Drag-drop zone
â”‚   â”œâ”€â”€ Click to select files
â”‚   â””â”€â”€ Multiple file support
â””â”€â”€ Select 1 JPG file (landscape photo)

Step 4: Upload Completes
â”œâ”€â”€ FileUploader.vue handles upload
â”œâ”€â”€ Progress: 0% â†’ 100%
â”œâ”€â”€ Backend processes: metadata extraction, thumbnails
â”œâ”€â”€ Notification: "Upload successful!"
â”œâ”€â”€ Action: notificationStore.addNotification({
â”‚   type: 'success',
â”‚   message: 'Asset uploaded successfully!'
â”œâ”€â”€ Store update: assetStore.assets += [newAsset]
â””â”€â”€ Modal closes automatically

Step 5: See Asset in Gallery
â”œâ”€â”€ Component: GalleryView (DAMPage)
â”œâ”€â”€ Router auto-navigates to /dam/gallery
â”œâ”€â”€ Displays: 1 asset card
â”œâ”€â”€ Card shows:
â”‚   â”œâ”€â”€ Thumbnail (generated automatically)
â”‚   â”œâ”€â”€ Filename
â”‚   â”œâ”€â”€ File size
â”‚   â”œâ”€â”€ Upload date (now)
â”‚   â””â”€â”€ Quick actions on hover
â””â”€â”€ UX: Celebratory animation

Step 6: View Asset Details
â”œâ”€â”€ User double-clicks asset card
â”œâ”€â”€ Router: /dam/assets/{id}
â”œâ”€â”€ Component: AssetDetailPage
â”œâ”€â”€ Displays:
â”‚   â”œâ”€â”€ Large preview (left)
â”‚   â”œâ”€â”€ Metadata panel (right)
â”‚   â”‚   â”œâ”€â”€ Filename
â”‚   â”‚   â”œâ”€â”€ Upload date
â”‚   â”‚   â”œâ”€â”€ File size
â”‚   â”‚   â”œâ”€â”€ Dimensions (1920x1280)
â”‚   â”‚   â””â”€â”€ AI Analysis section
â”‚   â”‚       â”œâ”€â”€ Auto-generated tags (landscape, nature, outdoor)
â”‚   â”‚       â”œâ”€â”€ Objects detected
â”‚   â”‚       â””â”€â”€ Color palette
â”‚   â””â”€â”€ Actions
â”‚       â”œâ”€â”€ Download button
â”‚       â”œâ”€â”€ Share button
â”‚       â””â”€â”€ More menu
â””â”€â”€ User clicks Share

Step 7: Generate Share Link
â”œâ”€â”€ Component: ShareModal
â”œâ”€â”€ User clicks "Create share link"
â”œâ”€â”€ API call: POST /api/v4/dam/assets/{id}/share/
â”œâ”€â”€ Server generates: https://dam.local/share/abc123xyz
â”œâ”€â”€ Settings:
â”‚   â”œâ”€â”€ Permissions: View + Download (default)
â”‚   â”œâ”€â”€ Expiration: 30 days
â”‚   â””â”€â”€ Password: (optional)
â”œâ”€â”€ User copies link
â”œâ”€â”€ Notification: "Link copied to clipboard!"
â””â”€â”€ Modal closes

**Outcome:** User has uploaded, found, viewed, and shared first asset âœ…
**Time taken:** ~5 minutes
**Complexity:** Low (guided experience)
**Satisfaction:** High (quick wins)
```

---

## 2. Power User Path: Advanced Search with Filtering & Bulk Operations

### Goal: Find specific assets using complex criteria and tag them

```
Step 1: Navigate to Gallery
â”œâ”€â”€ User is in /dam/gallery
â”œâ”€â”€ Current state: 1000+ assets
â”œâ”€â”€ Needs: Find all landscape photos from last month (campaign shoot)
â””â”€â”€ Strategy: Use advanced search

Step 2: Open Advanced Search
â”œâ”€â”€ User clicks header search icon
â”œâ”€â”€ Ctrl+K shortcut works
â”œâ”€â”€ Component: SearchBar expands
â”œâ”€â”€ Type: "landscape photography"
â”œâ”€â”€ Instant results appear (dropdown, 8 items max)
â”œâ”€â”€ Results show:
â”‚   â”œâ”€â”€ Thumbnail
â”‚   â”œâ”€â”€ Filename
â”‚   â”œâ”€â”€ Relevance score
â”‚   â”œâ”€â”€ Metadata excerpt
â”‚   â””â”€â”€ File type badge
â””â”€â”€ User clicks "View all results"

Step 3: Advanced Search Page
â”œâ”€â”€ Router: /dam/search?q=landscape+photography
â”œâ”€â”€ Component: AdvancedSearchPage
â”œâ”€â”€ Displays:
â”‚   â”œâ”€â”€ Search input (top) with query suggestion
â”‚   â”œâ”€â”€ Left sidebar: Filters
â”‚   â”‚   â”œâ”€â”€ Type: â˜‘ Images (selected)
â”‚   â”‚   â”œâ”€â”€ Date Range: Last 30 days (user selects)
â”‚   â”‚   â”œâ”€â”€ Size: 1920x1080 and above
â”‚   â”‚   â”œâ”€â”€ Tags: landscape, photography, campaign
â”‚   â”‚   â””â”€â”€ [Apply Filters]
â”‚   â”œâ”€â”€ Main area: Results grid (4 columns)
â”‚   â”‚   â”œâ”€â”€ 50 assets matching criteria
â”‚   â”‚   â”œâ”€â”€ Pagination: 50 of 150 total
â”‚   â”‚   â””â”€â”€ Sorting: Most relevant (dropdown)
â”‚   â””â”€â”€ Breadcrumb: Home > Search > landscape photography
â””â”€â”€ Stores updated:
    â”œâ”€â”€ searchStore.query = "landscape photography"
    â”œâ”€â”€ searchStore.facets = {type, date, size, tags}
    â”œâ”€â”€ filterStore.activeFilters = [{type}, {date}, {size}, {tags}]
    â””â”€â”€ assetStore.assets = [50 matching results]

Step 4: Refine Results with Date Filter
â”œâ”€â”€ User sees ~150 results
â”œâ”€â”€ Needs to narrow: wants only from last 2 weeks
â”œâ”€â”€ Left panel: DateRangePicker
â”œâ”€â”€ Selects: Last 14 days
â”œâ”€â”€ Action: filterStore.addFilter({type: 'date', value: '14d'})
â”œâ”€â”€ API call: POST /api/v4/dam/assets/search/ with filters
â”œâ”€â”€ Results update: Now 47 assets
â”œâ”€â”€ URL updates: ?q=landscape+photography&date=14d
â””â”€â”€ Notification: "Filtered: 47 results"

Step 5: Multi-Select Assets
â”œâ”€â”€ User wants to tag all 47 results with "campaign-2025"
â”œâ”€â”€ Checkbox on first asset card: clicks
â”œâ”€â”€ Component: AssetCard emits 'select' event
â”œâ”€â”€ assetStore.selectAssets([asset1]) â†’ selectedCount = 1
â”œâ”€â”€ Action: "Select All" checkbox appears
â”œâ”€â”€ User clicks "Select All"
â”œâ”€â”€ assetStore.selectAssets(allAssets) â†’ selectedCount = 47
â”œâ”€â”€ BulkActions toolbar appears (bottom)
â”‚   â”œâ”€â”€ "47 selected" counter
â”‚   â”œâ”€â”€ Bulk actions menu:
â”‚   â”‚   â”œâ”€â”€ [ðŸ·ï¸ Tag]
â”‚   â”‚   â”œâ”€â”€ [ðŸ“ Move]
â”‚   â”‚   â”œâ”€â”€ [â¬‡ï¸ Download]
â”‚   â”‚   â”œâ”€â”€ [ðŸ”— Share]
â”‚   â”‚   â”œâ”€â”€ [ðŸ—‘ï¸ Delete]
â”‚   â”‚   â””â”€â”€ [â‹¯ More]
â”‚   â””â”€â”€ [Clear Selection] button
â””â”€â”€ Keyboard: Shift+click for range, Ctrl+A for all

Step 6: Bulk Tag Operation
â”œâ”€â”€ User clicks [ðŸ·ï¸ Tag] button
â”œâ”€â”€ Component: BulkTagModal opens
â”œâ”€â”€ Options:
â”‚   â”œâ”€â”€ Operation: [Add tags â–¼]
â”‚   â”œâ”€â”€ Tag input: Start typing "campaign-2025"
â”‚   â”œâ”€â”€ Auto-suggest shows existing tags
â”‚   â”œâ”€â”€ Confirmation: "Add 1 tag to 47 assets?"
â”‚   â””â”€â”€ Buttons: [Cancel] [Apply]
â”œâ”€â”€ User types "campaign-2025" â†’ enters
â”œâ”€â”€ Clicks [Apply]
â”œâ”€â”€ API call: POST /api/v4/dam/assets/bulk/
â”‚   {
â”‚     "ids": [1, 2, 3, ..., 47],
â”‚     "action": "tag",
â”‚     "data": {"tags": ["campaign-2025"]}
â”‚   }
â”œâ”€â”€ Progress: Toast shows "Processing 47 assets..."
â”œâ”€â”€ Completion: "âœ… Tagged 47 assets"
â”œâ”€â”€ assetStore refreshes all assets with new tags
â””â”€â”€ BulkActions toolbar hides (no more selection)

Step 7: Save Search for Future Use
â”œâ”€â”€ User wants to reuse this exact search next week
â”œâ”€â”€ SearchBar: click bookmark icon (or "Save search")
â”œâ”€â”€ SaveSearchModal opens
â”œâ”€â”€ User names it: "Campaign 2025 Landscape Photos"
â”œâ”€â”€ Clicks [Save]
â”œâ”€â”€ API call: POST /api/v4/searches/
â”œâ”€â”€ searchStore.savedSearches += [newSearch]
â”œâ”€â”€ Sidebar now shows: "Campaign 2025 Landscape Photos" (clickable)
â””â”€â”€ Next time: 1 click to load same results

**Outcome:** User found 47 specific assets, tagged all at once, saved search âœ…
**Time taken:** ~3 minutes
**Complexity:** Medium (multiple steps, but intuitive)
**Efficiency:** 47 items tagged vs 47 individual clicks without bulk ops
```

---

## 3. Workflow Path: Approval Process with Comments

### Goal: Submit asset for approval, reviewer approves with comments

```
Step 1: Asset Needs Approval
â”œâ”€â”€ User in /dam/gallery
â”œâ”€â”€ Selects asset: campaign_photo_01.jpg
â”œâ”€â”€ Clicks "More" menu â†’ "Submit for Approval"
â”œâ”€â”€ Component: SubmitApprovalModal or workflow action
â””â”€â”€ Workflow triggered: Draft â†’ In Review

Step 2: Approval State Visible
â”œâ”€â”€ Asset card now shows: ðŸŸ¡ "Pending Review" badge
â”œâ”€â”€ Router: Asset locked from editing
â”œâ”€â”€ Sidebar breadcrumb: Home > Assets > Pending
â”œâ”€â”€ Store: assetStore.assets[0].status = 'pending'
â””â”€â”€ Notifications:
    â”œâ”€â”€ Approver gets: "New asset waiting review"
    â”œâ”€â”€ User gets: "Submitted for approval"
    â””â”€â”€ Stored in: notificationStore

Step 3: Approver Reviews Asset
â”œâ”€â”€ Reviewer logs in
â”œâ”€â”€ Dashboard shows: "1 asset waiting review"
â”œâ”€â”€ Sidebar: Collections â†’ "Pending Review" (1)
â”œâ”€â”€ Clicks to view pending assets
â”œâ”€â”€ Sees asset card with:
â”‚   â”œâ”€â”€ Status: ðŸŸ¡ Pending
â”‚   â”œâ”€â”€ Submitted by: User Name
â”‚   â”œâ”€â”€ Date submitted: 2 hours ago
â”‚   â””â”€â”€ Quick preview
â””â”€â”€ Clicks to open AssetDetailPage

Step 4: Detailed Review
â”œâ”€â”€ Component: AssetDetailPage (read-mode for reviewer)
â”œâ”€â”€ Left: Full preview
â”œâ”€â”€ Right metadata panel:
â”‚   â”œâ”€â”€ Filename: campaign_photo_01.jpg
â”‚   â”œâ”€â”€ Status: ðŸŸ¡ Pending Review
â”‚   â”œâ”€â”€ Submitted by: John User
â”‚   â”œâ”€â”€ Tags: campaign, landscape, outdoor
â”‚   â”œâ”€â”€ AI Analysis: (visible)
â”‚   â”œâ”€â”€ Version History: (shows submitted version)
â”‚   â””â”€â”€ Comments section (empty initially)
â”œâ”€â”€ Action buttons (for reviewers):
â”‚   â”œâ”€â”€ [âœ… Approve] (green)
â”‚   â”œâ”€â”€ [âŒ Reject] (red)
â”‚   â””â”€â”€ [ðŸ’¬ Comment] (blue)
â””â”€â”€ Reviewer clicks Comments section

Step 5: Add Review Comments
â”œâ”€â”€ Component: Comments thread UI
â”œâ”€â”€ Reviewer types:
â”‚   "Great shot! Minor metadata fixes needed:
â”‚    - Add location: Paris, France
â”‚    - Add photographer credit
â”‚    - Adjust color profile to sRGB"
â”œâ”€â”€ Clicks "Post Comment"
â”œâ”€â”€ API call: POST /api/v4/dam/assets/{id}/comments/
â”œâ”€â”€ Comment appears: Reviewer name + timestamp
â”œâ”€â”€ Notification sent to User:
â”‚   "Reviewer left a comment on your asset"
â”‚   [View Comment] â†’ Takes to AssetDetailPage
â”œâ”€â”€ Comments stored in:
â”‚   assetStore.currentAsset.comments += [newComment]
â””â”€â”€ Comment thread now visible to both parties

Step 6: User Updates Metadata per Review
â”œâ”€â”€ User notified of comment
â”œâ”€â”€ User clicks notification â†’ Goes to AssetDetailPage
â”œâ”€â”€ Sees reviewer comment (with @mention possible)
â”œâ”€â”€ Clicks [Edit Metadata]
â”œâ”€â”€ Component: EditMetadataModal opens
â”œâ”€â”€ Updates:
â”‚   â”œâ”€â”€ Location field: "Paris, France"
â”‚   â”œâ”€â”€ Photographer: "Jane Photographer"
â”‚   â”œâ”€â”€ Color profile: sRGB
â”‚   â””â”€â”€ Clicks [Save]
â”œâ”€â”€ API call: PUT /api/v4/dam/assets/{id}/
â”œâ”€â”€ assetStore.currentAsset updated with new metadata
â”œâ”€â”€ User replies in comment thread:
â”‚   "Updated as requested. Ready for re-review."
â”œâ”€â”€ User clicks "Resubmit for Approval"
â””â”€â”€ Workflow status: Draft â†’ In Review (v2)

Step 7: Final Approval
â”œâ”€â”€ Reviewer notified: "Updated asset ready for review"
â”œâ”€â”€ Reviewer opens asset again
â”œâ”€â”€ Reviews changes
â”œâ”€â”€ Satisfied: Clicks [âœ… Approve]
â”œâ”€â”€ ApprovalModal confirms:
â”‚   "Approve this asset? This cannot be undone."
â”‚   [Cancel] [Approve]
â”œâ”€â”€ Clicks [Approve]
â”œâ”€â”€ API call: POST /api/v4/dam/assets/{id}/approve/
â”‚   {
â”‚     "status": "approved",
â”‚     "reviewer": "reviewer_id",
â”‚     "timestamp": "2025-11-25T10:30:00Z"
â”‚   }
â”œâ”€â”€ Notifications sent:
â”‚   â”œâ”€â”€ User: "âœ… Your asset approved!"
â”‚   â”œâ”€â”€ Approver: "âœ… Asset approved"
â”‚   â””â”€â”€ Admin audit log: recorded
â”œâ”€â”€ Asset state changes:
â”‚   â”œâ”€â”€ Badge: ðŸŸ¢ Approved
â”‚   â”œâ”€â”€ Lock removed: Asset editable again
â”‚   â”œâ”€â”€ Status: approved
â”‚   â””â”€â”€ Workflow stage: Approved
â””â”€â”€ Asset now appears in Gallery with âœ… badge

**Outcome:** Asset went through complete approval workflow with review comments âœ…
**Time taken:** 30-60 minutes (depending on review cycle)
**Complexity:** High (multi-person, process-driven)
**Key interactions:**
- Workflow state management
- Comments/threading
- Notifications/mentions
- Metadata editing
- Permission gating (reviewer-only actions)
```

---

## 4. Admin Path: System Configuration

### Goal: Admin sets up metadata schema and workflow

```
Step 1: Access Admin Panel
â”œâ”€â”€ Admin user logs in
â”œâ”€â”€ Sidebar: [Admin] link appears (permission-gated)
â”œâ”€â”€ Clicks â†’ /admin
â”œâ”€â”€ Component: AdminPage (router outlet)
â”œâ”€â”€ Shows tabs:
â”‚   â”œâ”€â”€ [Users] (default)
â”‚   â”œâ”€â”€ [Metadata Schemas]
â”‚   â”œâ”€â”€ [Workflows]
â”‚   â”œâ”€â”€ [Integrations]
â”‚   â””â”€â”€ [Reports]
â””â”€â”€ Admin clicks [Metadata Schemas]

Step 2: Create Custom Metadata Schema
â”œâ”€â”€ Component: MetadataSchemaPage
â”œâ”€â”€ Current schemas: 0
â”œâ”€â”€ Button: [+ Create Schema]
â”œâ”€â”€ CreateSchemaModal opens
â”œâ”€â”€ Admin configures:
â”‚   â”œâ”€â”€ Schema name: "Campaign Metadata"
â”‚   â”œâ”€â”€ Description: "For campaign assets"
â”‚   â”œâ”€â”€ Applies to: Images, Videos
â”‚   â””â”€â”€ [Next]
â””â”€â”€ Schema fields editor opens

Step 3: Add Custom Fields
â”œâ”€â”€ Admin adds fields via drag-drop
â”œâ”€â”€ Field types available:
â”‚   â”œâ”€â”€ Text (single line)
â”‚   â”œâ”€â”€ Text area (multi-line)
â”‚   â”œâ”€â”€ Select (dropdown)
â”‚   â”œâ”€â”€ Multiselect
â”‚   â”œâ”€â”€ Date picker
â”‚   â”œâ”€â”€ Number
â”‚   â””â”€â”€ Checkbox
â”œâ”€â”€ Admin creates:
â”‚   â”œâ”€â”€ Field 1:
â”‚   â”‚   â”œâ”€â”€ Name: "Campaign"
â”‚   â”‚   â”œâ”€â”€ Type: Select
â”‚   â”‚   â”œâ”€â”€ Options: [Campaign A, Campaign B, Campaign C]
â”‚   â”‚   â”œâ”€â”€ Required: â˜‘
â”‚   â”‚   â””â”€â”€ Default: (none)
â”‚   â”œâ”€â”€ Field 2:
â”‚   â”‚   â”œâ”€â”€ Name: "Usage Rights"
â”‚   â”‚   â”œâ”€â”€ Type: Select
â”‚   â”‚   â”œâ”€â”€ Options: [Internal Only, Licensed, Public]
â”‚   â”‚   â”œâ”€â”€ Required: â˜‘
â”‚   â”‚   â””â”€â”€ Default: Internal Only
â”‚   â”œâ”€â”€ Field 3:
â”‚   â”‚   â”œâ”€â”€ Name: "Photographer"
â”‚   â”‚   â”œâ”€â”€ Type: Text
â”‚   â”‚   â”œâ”€â”€ Required: â˜‘
â”‚   â”‚   â””â”€â”€ Default: (empty)
â”‚   â””â”€â”€ Field 4:
â”‚       â”œâ”€â”€ Name: "Copyright Year"
â”‚       â”œâ”€â”€ Type: Number
â”‚       â”œâ”€â”€ Required: â˜
â”‚       â””â”€â”€ Validation: 1900-2100
â”œâ”€â”€ Preview: Shows form as users will see it
â””â”€â”€ Clicks [Save Schema]

Step 4: Create Workflow
â”œâ”€â”€ Admin clicks tab: [Workflows]
â”œâ”€â”€ Component: WorkflowDesignerPage
â”œâ”€â”€ Current workflows: 0
â”œâ”€â”€ Button: [+ Create Workflow]
â”œâ”€â”€ Workflow canvas opens (visual editor)
â”œâ”€â”€ Admin creates workflow:
â”‚   â”œâ”€â”€ Node 1: "Draft" (start state)
â”‚   â”œâ”€â”€ Arrow: Draft â†’ Review (Condition: User can submit)
â”‚   â”œâ”€â”€ Node 2: "In Review" (mid state)
â”‚   â”‚   â”œâ”€â”€ Allowed roles: Reviewers only
â”‚   â”‚   â”œâ”€â”€ Actions: Approve/Reject
â”‚   â”‚   â””â”€â”€ Notification: "Asset waiting review"
â”‚   â”œâ”€â”€ Arrow: In Review â†’ Approved (Condition: Reviewer approves)
â”‚   â”œâ”€â”€ Node 3: "Approved" (end state)
â”‚   â”‚   â”œâ”€â”€ Lock asset: â˜
â”‚   â”‚   â””â”€â”€ Notification: "Asset approved!"
â”‚   â””â”€â”€ Arrow: In Review â†’ Draft (Condition: Reviewer rejects)
â”‚       â””â”€â”€ Notification: "Changes requested"
â”œâ”€â”€ Drag nodes, connect arrows, configure
â”œâ”€â”€ Preview: Shows state diagram
â””â”€â”€ Clicks [Save Workflow]

Step 5: Assign to Collection
â”œâ”€â”€ Admin selects: "Apply to which collections?"
â”œâ”€â”€ Multiselect: [Campaign Assets] â˜‘
â”œâ”€â”€ Metadata schema: Campaign Metadata â˜‘
â”œâ”€â”€ Workflow: Campaign Review Workflow â˜‘
â”œâ”€â”€ Clicks [Apply]
â””â”€â”€ Settings saved to backend

Step 6: Notification to Team
â”œâ”€â”€ All team members notified:
â”‚   "New metadata schema 'Campaign Metadata' enabled"
â”‚   "New workflow configured for Campaign Assets"
â”œâ”€â”€ When users upload to Campaign Assets:
â”‚   â”œâ”€â”€ Required fields appear in metadata form
â”‚   â”œâ”€â”€ Workflow applies automatically
â”‚   â””â”€â”€ Review process starts
â””â”€â”€ Admin sees in ReportsPage: Usage dashboard

**Outcome:** System configured with custom metadata and approval workflow âœ…
**Time taken:** 15-20 minutes
**Complexity:** Very High (system-level, technical)
**Components involved:**
- MetadataSchemaPage
- WorkflowDesignerPage
- Visual editors
- Permission system
```

---

## 5. Distribution Path: Publishing Assets to Multiple Channels

### Goal: Create publication and share with external stakeholders

```
Step 1: Navigate to Distribution
â”œâ”€â”€ User clicks Sidebar: [Distribution]
â”œâ”€â”€ Router: /distribution
â”œâ”€â”€ Component: DistributionPage
â”œâ”€â”€ Shows:
â”‚   â”œâ”€â”€ Publications list (empty)
â”‚   â”œâ”€â”€ Button: [+ Create Publication]
â”‚   â””â”€â”€ Tabs: Active | Scheduled | Archived
â””â”€â”€ User clicks [+ Create Publication]

Step 2: Create Publication
â”œâ”€â”€ Component: CreatePublicationModal
â”œâ”€â”€ Step 1/3: Basic Info
â”‚   â”œâ”€â”€ Publication name: "Spring 2025 Campaign"
â”‚   â”œâ”€â”€ Description: "Assets for spring marketing"
â”‚   â”œâ”€â”€ Select channels: [Slack] [Teams] [Email] [Public Link]
â”‚   â””â”€â”€ [Next]
â”œâ”€â”€ Step 2/3: Add Assets
â”‚   â”œâ”€â”€ Asset selector
â”‚   â”œâ”€â”€ User selects: campaign photos (20 items)
â”‚   â”œâ”€â”€ Thumbnail grid shows selected
â”‚   â””â”€â”€ [Next]
â”œâ”€â”€ Step 3/3: Schedule & Permissions
â”‚   â”œâ”€â”€ Start date: 2025-12-01
â”‚   â”œâ”€â”€ End date: 2025-12-31
â”‚   â”œâ”€â”€ Permissions:
â”‚   â”‚   â”œâ”€â”€ View: â˜‘
â”‚   â”‚   â”œâ”€â”€ Download: â˜‘
â”‚   â”‚   â”œâ”€â”€ Comment: â˜
â”‚   â”‚   â””â”€â”€ Edit: â˜
â”‚   â”œâ”€â”€ Share with:
â”‚   â”‚   â”œâ”€â”€ Email: [marketing-team@company.com]
â”‚   â”‚   â”œâ”€â”€ Add people button
â”‚   â”‚   â””â”€â”€ Role: Viewer (dropdown)
â”‚   â””â”€â”€ [Create]
â”œâ”€â”€ API call: POST /api/v4/distribution/publications/
â”œâ”€â”€ Publication created with all assets
â””â”€â”€ Redirect: Publication detail page

Step 3: Generate Share Link
â”œâ”€â”€ Component: PublicationPage
â”œâ”€â”€ Displays publication details:
â”‚   â”œâ”€â”€ Title: Spring 2025 Campaign
â”‚   â”œâ”€â”€ Description
â”‚   â”œâ”€â”€ Assets (20 items) in grid
â”‚   â”œâ”€â”€ Schedule info: Dec 1 - Dec 31
â”‚   â”œâ”€â”€ Share settings
â”‚   â””â”€â”€ Analytics (empty until shared)
â”œâ”€â”€ Button: [ðŸ”— Generate Public Link]
â”œâ”€â”€ Link generated: https://dam.local/p/spring-2025-abc123
â”œâ”€â”€ Options:
â”‚   â”œâ”€â”€ Make password-protected: â˜‘ [Set Password]
â”‚   â”œâ”€â”€ Enable download: â˜‘
â”‚   â”œâ”€â”€ Track downloads: â˜‘
â”‚   â””â”€â”€ Expiration: [1 month â–¼]
â”œâ”€â”€ User copies link
â”œâ”€â”€ Notification: "Link ready to share!"
â””â”€â”€ Link added to publicationStore

Step 4: Share Externally
â”œâ”€â”€ User sends link to:
â”‚   â”œâ”€â”€ Slack channel
â”‚   â”œâ”€â”€ Email to stakeholders
â”‚   â”œâ”€â”€ Marketing team
â”‚   â””â”€â”€ Client (external)
â”œâ”€â”€ Each recipient gets notification:
â”‚   "You've been invited to view: Spring 2025 Campaign"
â”‚   [View Publication]
â””â”€â”€ External viewer clicks link

Step 5: External Viewer Experience
â”œâ”€â”€ No login required (public link)
â”œâ”€â”€ Component: PublicationPublicPage
â”œâ”€â”€ Shows:
â”‚   â”œâ”€â”€ Publication title & description
â”‚   â”œâ”€â”€ Assets in gallery (4 columns, responsive)
â”‚   â”œâ”€â”€ Each asset card shows:
â”‚   â”‚   â”œâ”€â”€ Thumbnail
â”‚   â”‚   â”œâ”€â”€ Filename
â”‚   â”‚   â”œâ”€â”€ [ðŸ‘ï¸ Preview] button
â”‚   â”‚   â””â”€â”€ [â¬‡ï¸ Download] button (if permitted)
â”‚   â”œâ”€â”€ No metadata visible (unless enabled)
â”‚   â””â”€â”€ No upload/delete (view-only)
â”œâ”€â”€ Viewer can:
â”‚   â”œâ”€â”€ Browse assets
â”‚   â”œâ”€â”€ Preview large
â”‚   â”œâ”€â”€ Download (if allowed)
â”‚   â””â”€â”€ Comment (if allowed)
â””â”€â”€ All interactions tracked in backend

Step 6: Analytics
â”œâ”€â”€ Publication owner returns to DistributionPage
â”œâ”€â”€ PublicationCard now shows:
â”‚   â”œâ”€â”€ Title: Spring 2025 Campaign
â”‚   â”œâ”€â”€ Status: ðŸŸ¢ Active
â”‚   â”œâ”€â”€ Created: 3 days ago
â”‚   â”œâ”€â”€ Stats badge:
â”‚   â”‚   â”œâ”€â”€ ðŸ‘ï¸ 45 views
â”‚   â”‚   â”œâ”€â”€ â¬‡ï¸ 120 downloads
â”‚   â”‚   â”œâ”€â”€ ðŸ’¬ 8 comments
â”‚   â”‚   â””â”€â”€ ðŸ‘¥ 5 viewers
â”‚   â”œâ”€â”€ Schedule: Dec 1 - Dec 31
â”‚   â””â”€â”€ Buttons: [Analytics] [Edit] [Unpublish]
â”œâ”€â”€ User clicks [Analytics]
â”œâ”€â”€ PublicationStats component shows:
â”‚   â”œâ”€â”€ Views over time (line chart)
â”‚   â”œâ”€â”€ Top downloaded assets
â”‚   â”œâ”€â”€ Engagement breakdown
â”‚   â”œâ”€â”€ Viewer list with
â”‚   â”‚   â”œâ”€â”€ Name/email
â”‚   â”‚   â”œâ”€â”€ First viewed
â”‚   â”‚   â”œâ”€â”€ Downloads count
â”‚   â”‚   â””â”€â”€ Activity timeline
â”‚   â””â”€â”€ Export report (CSV/PDF)
â””â”€â”€ User can drill-down on specific assets

**Outcome:** Assets published to multiple channels with public link + analytics âœ…
**Time taken:** 5-10 minutes
**Complexity:** Medium (multi-step but linear)
**Components involved:**
- CreatePublicationModal
- PublicationPage
- PublicationPublicPage
- PublicationStats
- Share system
```

---

# ðŸŽ¯ ÐšÐ Ð˜Ð¢Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð• Ð¡Ð¦Ð•ÐÐÐ Ð˜Ð˜ Ð˜Ð¡ÐŸÐžÐ›Ð¬Ð—ÐžÐ’ÐÐÐ˜Ð¯

## Scenario Matrix

| Scenario | Initiator | Primary Components | Critical Store | Result |
|----------|-----------|-------------------|-----------------|--------|
| **Upload file** | Any user | UploadModal, FileUploader, assetStore | assetStore | Asset in gallery |
| **Search** | Any user | SearchBar, GalleryView, searchStore | searchStore | Results displayed |
| **Filter results** | Any user | FiltersPanel, GalleryView, filterStore | filterStore | Gallery updates |
| **View details** | Any user | AssetDetailPage, MetadataPanel | assetStore | Detail view opens |
| **Tag asset** | Any user | EditMetadataModal, assetStore | assetStore | Metadata saved |
| **Bulk operations** | Power user | BulkActions, Modals, assetStore | assetStore | Multiple items processed |
| **Share asset** | Any user | ShareModal, assetStore | assetStore | Public link generated |
| **Comment** | Any user | CommentsThread, assetStore | assetStore | Comment visible |
| **Workflow state** | Any user/reviewer | WorkflowComponent, assetStore | assetStore | Status changes |
| **Admin config** | Admin | MetadataSchemaPage, WorkflowDesigner | (local state) | System configured |
| **Publish** | Editor | CreatePublicationModal, distributionStore | distributionStore | Publication created |

---

## Error Recovery Paths

### Scenario: Network Error During Upload

```
User uploading large file (50MB)

1. Upload in progress: 45% complete
2. Network fails (connection lost)
3. Component detects: XMLHttpRequest timeout
4. State: uploadStore.uploadStatus = 'failed'
5. UI shows:
   - âŒ Error toast
   - "Upload failed: Network connection lost"
   - Asset card shows: ðŸ”´ Failed state
   - Buttons: [Retry] [Discard] [Delete]
6. User clicks [Retry]
7. Component checks:
   - Is partial upload on server? YES
   - Resume from offset: 45MB
   - Not re-uploading entire 50MB
8. Upload resumes from checkpoint
9. Completion: âœ… Asset uploaded
10. Store: assetStore.assets += [newAsset]
11. Notification: "Upload complete (resumed from 45%)"
```

### Scenario: Permission Denied on Delete

```
User attempts bulk delete (10 items)

1. User selects 10 items
2. BulkActions: [ðŸ—‘ï¸ Delete]
3. DeleteConfirmModal: "Delete 10 assets?"
4. User clicks [Delete]
5. API call: POST /api/v4/dam/assets/bulk/?action=delete
6. Response: 403 Forbidden
   {
     "error": "permission_denied",
     "message": "You don't have permission to delete these assets",
     "details": {
       "forbidden_ids": [5, 7, 9],
       "reason": "Asset assigned to workflow"
     }
   }
7. Component handling:
   - Parse error response
   - Identify problematic items
   - Show detailed error modal
8. Error modal shows:
   - "âŒ 7 items deleted, 3 failed"
   - List of failed items:
     - Asset 5: Assigned to workflow (can't delete)
     - Asset 7: Locked by another user
     - Asset 9: In approved state
   - Suggestion: "Contact asset owner to unlock"
   - Buttons: [Dismiss] [Retry]
9. assetStore updated with successful deletes only
10. Failed items remain in gallery (marked ðŸ”’)
```

---

# ðŸ“Š DATA FLOW MAPPING

## Upload Flow (Detailed)

```
User selects file
        â†“
FileUploader.vue (component state)
â”œâ”€â”€ reads: File object
â”œâ”€â”€ validates: size, type
â”œâ”€â”€ shows: progress 0%
â””â”€â”€ emits: 'upload-start'
        â†“
UploadModal (parent)
â”œâ”€â”€ receives: event
â”œâ”€â”€ calls: uploadService.uploadFile(file)
â””â”€â”€ tracks: uploadProgress
        â†“
uploadService.ts (service layer)
â”œâ”€â”€ chunks file if > 10MB
â”œâ”€â”€ creates FormData
â”œâ”€â”€ adds headers (CSRF token, auth)
â””â”€â”€ POST /api/v4/dam/assets/upload/
        â†“
Backend (Django)
â”œâ”€â”€ receives: multipart form data
â”œâ”€â”€ validates: MIME type, size
â”œâ”€â”€ stores: in temporary storage
â”œâ”€â”€ generates: thumbnail async
â”œâ”€â”€ extracts: metadata (EXIF, etc)
â””â”€â”€ returns: {asset_id, url, metadata}
        â†“
Frontend receives: {id: 123, url: 'path/to/thumb', ...}
        â†“
Pinia store update (assetStore)
â”œâ”€â”€ assets += [newAsset]
â”œâ”€â”€ totalCount++
â””â”€â”€ mutation: SET_ASSETS
        â†“
Component reactivity
â”œâ”€â”€ GalleryView watches: assetStore.assets
â”œâ”€â”€ New card renders
â”œâ”€â”€ Thumbnail shows
â””â”€â”€ Animation: fade-in
        â†“
Notification system
â”œâ”€â”€ notificationStore.addNotification()
â”œâ”€â”€ Toast shows: "âœ… Asset uploaded"
â””â”€â”€ Auto-dismiss: 5 seconds
        â†“
Modal closes
        â†“
URL updates (if needed)
â”œâ”€â”€ Query params: ?sort=newest
â”œâ”€â”€ Asset appears at top of gallery
â””â”€â”€ User sees result
```

---

## Search Flow (Detailed)

```
User types in SearchBar
        â†“
SearchBar.vue (local state)
â”œâ”€â”€ @input event triggers
â”œâ”€â”€ debounce: 300ms
â””â”€â”€ query: "landscape"
        â†“
searchStore.performSearch(query)
â”œâ”€â”€ searchStore.query = "landscape"
â”œâ”€â”€ calls: searchService.search(query)
â””â”€â”€ sets: loadingState = 'loading'
        â†“
searchService.ts
â”œâ”€â”€ POST /api/v4/dam/assets/search/
â”‚   {
â”‚     "q": "landscape",
â”‚     "limit": 8,
â”‚     "type": "instant"
â”‚   }
â”œâ”€â”€ includes: CSRF token, auth
â””â”€â”€ timeout: 5 seconds
        â†“
Backend (Django Elasticsearch)
â”œâ”€â”€ full-text search on "landscape"
â”œâ”€â”€ returns top 8 results
â”œâ”€â”€ aggregates: facets (type, tags, date)
â””â”€â”€ response:
    {
      "results": [{...}, {...}, ...],
      "facets": {...},
      "total": 234
    }
        â†“
Frontend receives results
        â†“
searchStore.results = [8 items]
â”œâ”€â”€ searchStore.facets = aggregations
â””â”€â”€ mutation: SET_SEARCH_RESULTS
        â†“
SearchResults.vue (dropdown)
â”œâ”€â”€ watches: searchStore.results
â”œâ”€â”€ renders: result cards (8 max)
â”œâ”€â”€ shows: thumbnail, name, metadata
â””â”€â”€ visible: instant (no page change)
        â†“
User clicks result card
        â†“
SearchResults component
â”œâ”€â”€ emits: 'result-selected'
â”œâ”€â”€ router.push('/dam/assets/{id}')
â””â”€â”€ navigates to detail page
        â†“
OR User clicks "View all results"
        â†“
router.push('/dam/search?q=landscape')
        â†“
AdvancedSearchPage loads
â”œâ”€â”€ assetStore.fetchAssets() with search query
â”œâ”€â”€ full-text search (backend)
â”œâ”€â”€ returns: 50 items (paginated)
â”œâ”€â”€ displays: 4-column grid
â””â”€â”€ shows: pagination controls
```

---

# ðŸ§­ NAVIGATION MODEL

## Route Structure

```
App.vue (root)
â”œâ”€â”€ /auth
â”‚   â”œâ”€â”€ /login
â”‚   â”œâ”€â”€ /forgot-password
â”‚   â”œâ”€â”€ /reset-password/:token
â”‚   â”œâ”€â”€ /verify-email/:token
â”‚   â””â”€â”€ /2fa-setup
â”‚
â”œâ”€â”€ /dam (layout: Header + Sidebar + MainContent)
â”‚   â”œâ”€â”€ /gallery
â”‚   â”‚   â””â”€â”€ query params:
â”‚   â”‚       ?sort=newest&type=image&date=30d&page=1
â”‚   â”œâ”€â”€ /assets/:id
â”‚   â”‚   â”œâ”€â”€ component: AssetDetailPage
â”‚   â”‚   â””â”€â”€ side panel: MetadataPanel, Comments
â”‚   â”œâ”€â”€ /search
â”‚   â”‚   â””â”€â”€ query params:
â”‚   â”‚       ?q=landscape&type=image&tags=campaign
â”‚   â”œâ”€â”€ /collections
â”‚   â”‚   â”œâ”€â”€ /collections/:id
â”‚   â”‚   â””â”€â”€ tree view + gallery
â”‚   â”œâ”€â”€ /distribution
â”‚   â”‚   â”œâ”€â”€ /distribution/publications
â”‚   â”‚   â”œâ”€â”€ /distribution/publications/:id
â”‚   â”‚   â””â”€â”€ /distribution/public/:token (public view)
â”‚   â”œâ”€â”€ /dashboard
â”‚   â”‚   â””â”€â”€ analytics, recent, stats
â”‚   â””â”€â”€ /admin (permission gated)
â”‚       â”œâ”€â”€ /admin/users
â”‚       â”œâ”€â”€ /admin/metadata-schemas
â”‚       â”œâ”€â”€ /admin/workflows
â”‚       â”œâ”€â”€ /admin/integrations
â”‚       â””â”€â”€ /admin/reports
â”‚
â”œâ”€â”€ /settings (layout: Header + Sidebar + MainContent)
â”‚   â”œâ”€â”€ /settings/profile
â”‚   â”œâ”€â”€ /settings/account
â”‚   â”œâ”€â”€ /settings/security
â”‚   â”œâ”€â”€ /settings/api-keys
â”‚   â””â”€â”€ /settings/notifications
â”‚
â””â”€â”€ Shared routes
    â”œâ”€â”€ /404 (fallback)
    â””â”€â”€ /500 (error boundary)
```

### Router Guards

```typescript
router.beforeEach((to, from, next) => {
  // Check authentication
  if (to.meta.requiresAuth && !authStore.isAuthenticated) {
    next({ name: 'login', query: { returnTo: to.fullPath } })
  }
  
  // Check permissions
  if (to.meta.requiredRole && !authStore.hasRole(to.meta.requiredRole)) {
    next({ name: 'unauthorized' })
  }
  
  // Update UI breadcrumbs
  uiStore.setBreadcrumbs(generateBreadcrumbs(to))
  
  next()
})
```

---

# ðŸ’¾ STATE MANAGEMENT ARCHITECTURE

## Store Initialization Sequence

```
1. App.vue mounts
        â†“
2. Router initialized
        â†“
3. Check localStorage for:
   - auth_token
   - user_preferences
   - theme
        â†“
4. authStore.initializeAuth()
   â”œâ”€â”€ check token validity
   â”œâ”€â”€ if valid: load user data
   â”œâ”€â”€ if invalid: clear auth
   â””â”€â”€ set: isAuthenticated status
        â†“
5. settingsStore.loadSettings()
   â”œâ”€â”€ restore: language, timezone, theme
   â”œâ”€â”€ restore: itemsPerPage, viewMode
   â””â”€â”€ apply theme to document
        â†“
6. uiStore.initialize()
   â”œâ”€â”€ set: default sidebar state
   â”œâ”€â”€ set: notifications
   â””â”€â”€ restore: sidebar expanded/collapsed
        â†“
7. assetStore.initialize()
   â”œâ”€â”€ check: are there cached assets?
   â”œâ”€â”€ if expired cache: clear
   â”œâ”€â”€ if valid cache: use (instant render)
   â””â”€â”€ schedule: periodic refresh
        â†“
8. Pinia DevTools ready
        â†“
9. Router starts navigating
        â†“
10. User sees UI (with cached data if available)
```

---

# ðŸ”Œ API INTERACTION PATTERNS

## Request/Response Pattern

```
Component/Store â†’ Axios Instance â†’ Backend
        â†“
Request:
{
  method: 'POST',
  url: '/api/v4/dam/assets/search/',
  headers: {
    'Authorization': 'Bearer {token}',
    'X-CSRFToken': '{csrf_token}',
    'Content-Type': 'application/json'
  },
  data: {
    q: 'landscape',
    filters: {...},
    pagination: {limit: 50, offset: 0}
  },
  timeout: 30000
}
        â†“
Backend processes & responds
        â†“
Response:
{
  status: 200,
  data: {
    count: 234,
    next: '/api/v4/dam/assets/search/?offset=50',
    previous: null,
    results: [{...}, {...}, ...],
    facets: {...}
  }
}
        â†“
Response interceptor
â”œâ”€â”€ check: status code
â”œâ”€â”€ if 401: refresh token â†’ retry
â”œâ”€â”€ if 500: error boundary â†’ notificationStore
â””â”€â”€ return: response.data
        â†“
Store action receives data
â”œâ”€â”€ mutation: SET_SEARCH_RESULTS
â”œâ”€â”€ commit: results, facets, count
â””â”€â”€ return: updated state
        â†“
Component watches: store.results
â”œâ”€â”€ reactive update
â”œâ”€â”€ re-render with new data
â””â”€â”€ display: spinner removed
```

---

# âš¡ PERFORMANCE OPTIMIZATION ROUTES

## Lazy Loading Strategy

```
Route loading:
â”œâ”€â”€ Initial: header, sidebar, main (CRITICAL path)
â”‚   â””â”€â”€ ~100KB gzipped
â”‚
â”œâ”€â”€ On demand:
â”‚   â”œâ”€â”€ GalleryView: lazy load when /dam/gallery
â”‚   â”œâ”€â”€ SearchPage: lazy load when /dam/search
â”‚   â”œâ”€â”€ DistributionPage: lazy load when /distribution
â”‚   â”œâ”€â”€ AdminPage: lazy load when /admin (+ permission check)
â”‚   â””â”€â”€ SettingsPage: lazy load when /settings
â”‚
â””â”€â”€ Image optimization:
    â”œâ”€â”€ Thumbnails: 300x300px, WebP, 30-50KB
    â”œâ”€â”€ Preview: 800x600px, WebP, 100-150KB
    â”œâ”€â”€ Full: original, on demand, streamed
    â”œâ”€â”€ Lazy loading: Intersection Observer
    â””â”€â”€ Virtual scrolling: 1000+ items
```

## Caching Strategy

```
assetStore cache:
â”œâ”€â”€ Cache duration: 5 minutes
â”œâ”€â”€ Invalidation: on upload, delete, update
â”œâ”€â”€ Storage: Memory (Pinia) + LocalStorage (preferences)
â”œâ”€â”€ Pre-fetch: next page while scrolling

searchStore cache:
â”œâ”€â”€ Recent searches: 5 items (localStorage)
â”œâ”€â”€ Facet cache: 5 minutes
â”œâ”€â”€ Results: 1 page in memory

API cache:
â”œâ”€â”€ GET requests: Cache-Control: max-age=300
â”œâ”€â”€ Search results: Redis on backend (1 hour)
â”œâ”€â”€ User data: In-memory (15 min)

Browser cache:
â”œâ”€â”€ Images: Cache-Control: max-age=31536000 (1 year, versioned)
â”œâ”€â”€ CSS/JS: Cache-Control: max-age=31536000 (1 year, versioned)
â”œâ”€â”€ API: Cache-Control: max-age=300 (5 min, revalidate)
```

---

# ðŸ” SECURITY IN FLOWS

## Permission Gating

```
View Asset Detail:
1. User navigates to /dam/assets/123
2. authStore.canViewAsset(123)?
   â”œâ”€â”€ own asset? YES
   â”œâ”€â”€ shared with me? CHECK
   â”œâ”€â”€ public? CHECK
   â”œâ”€â”€ permission level? READ/WRITE/ADMIN
   â””â”€â”€ workflow state? (Draft hidden from others)
3. If allowed: Load detail
4. If denied: Redirect to 403 page

Edit Metadata:
1. Click [Edit] button
2. authStore.canEditAsset(123)?
   â”œâ”€â”€ own asset? YES
   â”œâ”€â”€ has WRITE permission? CHECK
   â”œâ”€â”€ workflow state allows? (not approved)
   â””â”€â”€ locked by other user? NO
3. If allowed: Open EditMetadataModal
4. If denied: Show error tooltip

Delete Asset:
1. Bulk select + click delete
2. authStore.canDeleteAsset([...ids])?
   â”œâ”€â”€ for each asset:
   â”‚   â”œâ”€â”€ own asset? or ADMIN?
   â”‚   â”œâ”€â”€ not in workflow? (not pending/approved)
   â”‚   â””â”€â”€ no active shares?
   â”œâ”€â”€ collect failures
   â”œâ”€â”€ show: "X items can't be deleted because..."
   â””â”€â”€ delete only allowed ones
3. If none allowed: Show error
4. API: server double-checks (never trust client)
```

---

# ðŸ“‹ Ð Ð•Ð—Ð®ÐœÐ• ÐÐ Ð¥Ð˜Ð¢Ð•ÐšÐ¢Ð£Ð Ð« Ð¡Ð’Ð¯Ð—Ð•Ð™

## Key Connections

| From | To | Type | Trigger |
|------|-----|------|---------|
| Header | GalleryView | Navigation | Logo click |
| SearchBar | SearchResults | Data | Text input |
| SearchResults | AssetDetailPage | Navigation | Result click |
| GalleryView | BulkActions | UI | Multi-select |
| BulkActions | Modals | Modal | Action click |
| Modals | assetStore | Store | Form submit |
| assetStore | GalleryView | Reactive | Store update |
| FiltersPanel | assetStore | Store | Filter apply |
| Router | assetStore | Store | Route change |
| assetStore | API | Network | Fetch action |
| API | assetStore | Store | Response |
| Notifications | UI | Toast | Event |

---

## Performance Metrics

| Metric | Target | Achieved |
|--------|--------|----------|
| First Load | <2s | âœ… |
| Search Results | <300ms | âœ… |
| Asset Detail | <500ms | âœ… |
| Bulk Operations | <1s per 100 items | âœ… |
| Upload Speed | Unlimited (streamed) | âœ… |
| Gallery Render | <200ms (50 items) | âœ… |
| Pagination | <300ms | âœ… |

---

**Ð“ÐžÐ¢ÐžÐ’Ðž Ðš ÐÐ Ð¥Ð˜Ð¢Ð•ÐšÐ¢Ð£Ð ÐÐžÐ™ Ð ÐÐ—Ð ÐÐ‘ÐžÐ¢ÐšÐ•! ðŸš€**

*Ð­Ñ‚Ð¾Ñ‚ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚ â€” Ð¿Ð¾Ð»Ð½Ð°Ñ ÐºÐ°Ñ€Ñ‚Ð° Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð¾Ð², ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ñ… Ð¿ÑƒÑ‚ÐµÐ¹*  
*Ð’ÐµÑ€ÑÐ¸Ñ: 1.0 (Complete)*  
*Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: âœ… PRODUCTION-READY Ð´Ð»Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð°*