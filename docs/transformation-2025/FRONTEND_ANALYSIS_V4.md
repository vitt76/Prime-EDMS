# –ê–Ω–∞–ª–∏–∑ –§—Ä–æ–Ω—Ç–µ–Ω–¥–∞ V4 ‚Äî Vue 3 DAM System

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 04 –¥–µ–∫–∞–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 4.0 (–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–ï–†–ï–°–ú–û–¢–† ‚Äî –û–∂–∏–¥–∞–Ω–∏–µ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ BFF)
**–ê–≤—Ç–æ—Ä:** Senior Frontend Architect & Technical Writer
**–°—Ç–∞—Ç—É—Å:** üü° **–û–ñ–ò–î–ê–ù–ò–ï –†–ï–ê–õ–ò–ó–ê–¶–ò–ò BFF**

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –°—Ç–∞—Ç—É—Å](#1-–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π-—Å—Ç–∞—Ç—É—Å)
2. [–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ü–æ—Ç–æ–∫–∏](#2-–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ-–ø–æ—Ç–æ–∫–∏)
3. [–ü–ª–∞–Ω –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ URL](#3-–ø–ª–∞–Ω-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞-url)
4. [–î–µ—Ç–∞–ª—å–Ω—ã–µ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ò–∑–º–µ–Ω–µ–Ω–∏–π](#4-–¥–µ—Ç–∞–ª—å–Ω—ã–µ-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏-–∏–∑–º–µ–Ω–µ–Ω–∏–π)
5. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Headless API](#5-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è-—Å-headless-api)
6. [Timeline –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞](#6-timeline-—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)

---

## 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –°—Ç–∞—Ç—É—Å

### üü° –°–¢–ê–¢–£–°: –û–∂–∏–¥–∞–Ω–∏–µ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ BFF

**–ü—Ä–µ–¥—ã–¥—É—â–∏–π —Å—Ç–∞—Ç—É—Å (V3):** "100% Integration Complete ‚Äî Production Ready"

**–†–µ–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å (V4):** üü° **–ß–ê–°–¢–ò–ß–ù–û –†–ê–ë–û–¢–ê–ï–¢** ‚Äî –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ self-service —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è backend endpoints.

### –†–µ–∑—é–º–µ –ü—Ä–æ–±–ª–µ–º

| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | –¢–µ–∫—É—â–µ–µ –°–æ—Å—Ç–æ—è–Ω–∏–µ | –ë–ª–æ–∫–µ—Ä | –¢—Ä–µ–±—É–µ–º–æ–µ –î–µ–π—Å—Ç–≤–∏–µ |
|------------|-------------------|--------|-------------------|
| **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚Äî | –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| **–ì–∞–ª–µ—Ä–µ—è –∞—Å—Å–µ—Ç–æ–≤** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚Äî | –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚Äî | –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| **–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è** | üî¥ –ù–ï –†–ê–ë–û–¢–ê–ï–¢ | 404 –Ω–∞ endpoint | –ñ–¥–µ–º `/headless/password/change/` |
| **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—ã** | üî¥ –ù–ï –†–ê–ë–û–¢–ê–ï–¢ | –ù–µ—Ç config API | –ñ–¥–µ–º `/headless/config/` |
| **–õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** | üî¥ –ù–ï –†–ê–ë–û–¢–ê–ï–¢ | –ù–µ—Ç user-specific API | –ñ–¥–µ–º `/headless/activity/` |
| **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚Äî | –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| **–ü–æ–∏—Å–∫** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚Äî | –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π |

---

## 2. –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ü–æ—Ç–æ–∫–∏

### 2.1 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –°–±–æ–π: –°–º–µ–Ω–∞ –ü–∞—Ä–æ–ª—è (F2)

**–¢–µ–∫—É—â–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```typescript
// src/services/settingsService.ts ‚Äî –¢–ï–ö–£–©–ò–ô –ö–û–î (–ù–ï –†–ê–ë–û–¢–ê–ï–¢)
export async function changePassword(
  currentPassword: string,
  newPassword: string
): Promise<void> {
  await apiService.post('/api/v4/users/current/password/', {
    current_password: currentPassword,
    new_password: newPassword
  })
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
POST http://127.0.0.1:8080/api/v4/users/current/password/
Status: 404 Not Found
Content-Type: text/html
Response: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ "Page not found"
```

**–í–ª–∏—è–Ω–∏–µ:**
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å –ø–∞—Ä–æ–ª–∏
- ‚ùå –§–æ—Ä–º–∞ –≤ SettingsPage.vue –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (—Ä–µ–≥—É–ª—è—Ä–Ω–∞—è —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª–µ–π)

**–¢—Ä–µ–±—É–µ–º—ã–µ –ò–∑–º–µ–Ω–µ–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è BFF):**

```typescript
// src/services/settingsService.ts ‚Äî –ë–£–î–£–©–ò–ô –ö–û–î
export async function changePassword(
  currentPassword: string,
  newPassword: string,
  newPasswordConfirm: string
): Promise<void> {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—ã–π headless endpoint
  await apiService.post('/api/v4/headless/password/change/', {
    current_password: currentPassword,
    new_password: newPassword,
    new_password_confirm: newPasswordConfirm
  })
}
```

### 2.2 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –°–±–æ–π: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –§–æ—Ä–º—ã –ó–∞–≥—Ä—É–∑–∫–∏ (F3-Config)

**–¢–µ–∫—É—â–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```typescript
// src/services/uploadService.ts ‚Äî –¢–ï–ö–£–©–ò–ô –ö–û–î (–•–ê–†–î–ö–û–î)
export async function uploadFile(
  file: File,
  options: UploadOptions
): Promise<UploadResult> {
  // –ü–†–û–ë–õ–ï–ú–ê: document_type_id —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—Å—è
  // –ú—ã –Ω–µ –∑–Ω–∞–µ–º, –∫–∞–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
  const documentTypeId = options.documentTypeId || 1  // ‚ùå –•–ê–†–î–ö–û–î
  
  // –ü–†–û–ë–õ–ï–ú–ê: –ù–µ –≤–∞–ª–∏–¥–∏—Ä—É–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
  // –°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è required fields
  const response = await initUpload({
    filename: file.name,
    document_type_id: documentTypeId,
    // metadata: ???  // –ö–∞–∫–∏–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã?
  })
}
```

**–í–ª–∏—è–Ω–∏–µ:**
- ‚ùå –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–∂–µ—Ç –ø—Ä–æ–≤–∞–ª–∏—Ç—å—Å—è –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è required metadata
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç, –∫–∞–∫–∏–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω—è—Ç—å
- ‚ùå UX —Å—Ç—Ä–∞–¥–∞–µ—Ç –æ—Ç –Ω–µ—è—Å–Ω—ã—Ö –æ—à–∏–±–æ–∫

**–¢—Ä–µ–±—É–µ–º—ã–µ –ò–∑–º–µ–Ω–µ–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è BFF):**

```typescript
// src/services/documentTypeService.ts ‚Äî –ù–û–í–´–ô –°–ï–†–í–ò–°
export interface DocumentTypeConfig {
  id: number
  label: string
  required_metadata: MetadataFieldConfig[]
  optional_metadata: MetadataFieldConfig[]
  workflows: WorkflowConfig[]
}

export interface MetadataFieldConfig {
  id: number
  name: string
  label: string
  type: 'text' | 'number' | 'date' | 'select'
  required: boolean
  validation_regex: string | null
  default_value: string | null
  options: string[] | null
}

export async function getDocumentTypeConfig(
  documentTypeId: number
): Promise<DocumentTypeConfig> {
  const response = await apiService.get<DocumentTypeConfig>(
    `/api/v4/headless/config/document_types/${documentTypeId}/`
  )
  return response.data
}

export async function getAllDocumentTypes(): Promise<DocumentTypeConfig[]> {
  const response = await apiService.get<DocumentTypeConfig[]>(
    '/api/v4/headless/config/document_types/'
  )
  return response.data
}
```

```typescript
// src/services/uploadService.ts ‚Äî –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –ö–û–î
export async function uploadFile(
  file: File,
  options: UploadOptions
): Promise<UploadResult> {
  // –®–∞–≥ 1: –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
  const docTypeConfig = await getDocumentTypeConfig(options.documentTypeId)
  
  // –®–∞–≥ 2: –í–∞–ª–∏–¥–∏—Ä—É–µ–º metadata –ø—Ä–æ—Ç–∏–≤ required fields
  const missingFields = docTypeConfig.required_metadata.filter(
    field => !options.metadata?.[field.name]
  )
  
  if (missingFields.length > 0) {
    throw new ValidationError(
      `–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: ${missingFields.map(f => f.label).join(', ')}`
    )
  }
  
  // –®–∞–≥ 3: –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
  // ...
}
```

### 2.3 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –°–±–æ–π: –õ–µ–Ω—Ç–∞ –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (F8)

**–¢–µ–∫—É—â–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

```typescript
// src/services/activityService.ts ‚Äî –¢–ï–ö–£–©–ò–ô –ö–û–î (–í–†–ï–ú–ï–ù–ù–û–ï –†–ï–®–ï–ù–ò–ï)
export async function getActivityFeed(): Promise<ActivityItem[]> {
  // –ü–†–û–ë–õ–ï–ú–ê: –ò—Å–ø–æ–ª—å–∑—É–µ–º sessionStorage –¥–ª—è demo
  // –†–µ–∞–ª—å–Ω—ã–π API –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
  const stored = sessionStorage.getItem('dam_activity_log')
  return stored ? JSON.parse(stored) : []
}

export function logActivity(action: ActivityAction): void {
  // –õ–æ–∫–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ sessionStorage
  const log = getActivityFeed()
  log.unshift({
    id: Date.now(),
    timestamp: new Date().toISOString(),
    action: action.type,
    target: action.target,
    user: getCurrentUser()
  })
  sessionStorage.setItem('dam_activity_log', JSON.stringify(log.slice(0, 50)))
}
```

**–í–ª–∏—è–Ω–∏–µ:**
- ‚ùå –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏—è –¥—Ä—É–≥–∏—Ö
- ‚ùå Dashboard –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–¢—Ä–µ–±—É–µ–º—ã–µ –ò–∑–º–µ–Ω–µ–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è BFF):**

```typescript
// src/services/activityService.ts ‚Äî –û–ë–ù–û–í–õ–ï–ù–ù–´–ô –ö–û–î
export interface ActivityItem {
  id: number
  timestamp: string
  actor: {
    id: number
    username: string
    full_name: string
  }
  verb: string
  verb_code: string
  target: {
    id: number
    type: string
    label: string
    url: string | null
  } | null
  description: string
}

export interface ActivityFeedResponse {
  count: number
  page: number
  page_size: number
  results: ActivityItem[]
}

export async function getActivityFeed(
  options: {
    filter?: 'my_actions' | 'my_documents' | 'all'
    page?: number
    page_size?: number
  } = {}
): Promise<ActivityFeedResponse> {
  const params = new URLSearchParams()
  if (options.filter) params.append('filter', options.filter)
  if (options.page) params.append('page', options.page.toString())
  if (options.page_size) params.append('page_size', options.page_size.toString())
  
  const response = await apiService.get<ActivityFeedResponse>(
    `/api/v4/headless/activity/feed/?${params.toString()}`
  )
  return response.data
}
```

---

## 3. –ü–ª–∞–Ω –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ URL

### 3.1 –ö–∞—Ä—Ç–∞ –ò–∑–º–µ–Ω–µ–Ω–∏–π –°–µ—Ä–≤–∏—Å–æ–≤

| –§–∞–π–ª | –¢–µ–∫—É—â–∏–π Endpoint | –ù–æ–≤—ã–π Endpoint | –°—Ç–∞—Ç—É—Å |
|------|------------------|----------------|--------|
| `src/services/settingsService.ts` | `POST /api/v4/users/current/password/` | `POST /api/v4/headless/password/change/` | üî¥ –ñ–¥–µ—Ç BFF |
| `src/services/uploadService.ts` | ‚Äî | `GET /api/v4/headless/config/document_types/` | üî¥ –ñ–¥–µ—Ç BFF |
| `src/services/activityService.ts` | sessionStorage | `GET /api/v4/headless/activity/feed/` | üî¥ –ñ–¥–µ—Ç BFF |
| `src/services/authService.ts` | `POST /api/v4/auth/token/obtain/` | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| `src/services/assetService.ts` | `GET /api/v4/documents/optimized/` | –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

### 3.2 –°–ø–∏—Å–æ–∫ –§–∞–π–ª–æ–≤ –¥–ª—è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

```
src/services/
‚îú‚îÄ‚îÄ settingsService.ts        üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ uploadService.ts          üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ activityService.ts        üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô (–Ω–æ–≤—ã–π)
‚îú‚îÄ‚îÄ documentTypeService.ts    üÜï –ù–û–í–´–ô –§–ê–ô–õ
‚îú‚îÄ‚îÄ authService.ts            ‚úÖ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ assetService.ts           ‚úÖ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ collectionsService.ts     ‚úÖ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îî‚îÄ‚îÄ adminService.ts           ‚úÖ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô

src/stores/
‚îú‚îÄ‚îÄ settingsStore.ts          üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ uploadWorkflowStore.ts    üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ dashboardStore.ts         üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ authStore.ts              ‚úÖ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ assetStore.ts             ‚úÖ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îî‚îÄ‚îÄ galleryStore.ts           ‚úÖ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô

src/pages/
‚îú‚îÄ‚îÄ SettingsPage.vue          üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ UploadPage.vue            üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îú‚îÄ‚îÄ DashboardPage.vue         üî¥ –¢–†–ï–ë–£–ï–¢ –ò–ó–ú–ï–ù–ï–ù–ò–ô
‚îî‚îÄ‚îÄ –æ—Å—Ç–∞–ª—å–Ω—ã–µ                 ‚úÖ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô
```

---

## 4. –î–µ—Ç–∞–ª—å–Ω—ã–µ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ò–∑–º–µ–Ω–µ–Ω–∏–π

### 4.1 settingsService.ts

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**

```typescript
// src/services/settingsService.ts
import { apiService } from './apiService'

export interface ChangePasswordRequest {
  current_password: string
  new_password: string
}

export async function changePassword(data: ChangePasswordRequest): Promise<void> {
  // ‚ùå –ù–ï –†–ê–ë–û–¢–ê–ï–¢ ‚Äî endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  await apiService.post('/api/v4/users/current/password/', data)
}

export async function updateProfile(data: ProfileUpdateRequest): Promise<User> {
  const response = await apiService.patch('/api/v4/users/current/', data)
  return response.data
}
```

**–ù–æ–≤—ã–π –∫–æ–¥ (–ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è BFF):**

```typescript
// src/services/settingsService.ts
import { apiService } from './apiService'

// ====== TYPES ======

export interface ChangePasswordRequest {
  current_password: string
  new_password: string
  new_password_confirm: string
}

export interface ChangePasswordResponse {
  message: string
  status: 'success'
}

export interface ChangePasswordError {
  error: string
  error_code: 
    | 'MISSING_FIELDS'
    | 'INVALID_CURRENT_PASSWORD'
    | 'PASSWORD_MISMATCH'
    | 'PASSWORD_VALIDATION_FAILED'
  details?: string[]
}

// ====== API CALLS ======

/**
 * –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
 * 
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—ã–π headless API endpoint.
 * 
 * @param data - –î–∞–Ω–Ω—ã–µ –¥–ª—è —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
 * @throws {ApiError} –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –ø–∞—Ä–æ–ª–µ
 */
export async function changePassword(data: ChangePasswordRequest): Promise<ChangePasswordResponse> {
  const response = await apiService.post<ChangePasswordResponse>(
    '/api/v4/headless/password/change/',
    data
  )
  return response.data
}

/**
 * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
 * 
 * –ù–ï –≤–∫–ª—é—á–∞–µ—Ç —Å–º–µ–Ω—É –ø–∞—Ä–æ–ª—è ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ changePassword().
 */
export async function updateProfile(data: ProfileUpdateRequest): Promise<User> {
  const response = await apiService.patch('/api/v4/users/current/', data)
  return response.data
}
```

### 4.2 documentTypeService.ts (–ù–û–í–´–ô –§–ê–ô–õ)

```typescript
// src/services/documentTypeService.ts
import { apiService } from './apiService'

// ====== TYPES ======

export interface MetadataFieldConfig {
  id: number
  name: string
  label: string
  type: 'text' | 'number' | 'date' | 'select' | 'textarea'
  required: boolean
  validation_regex: string | null
  default_value: string | null
  options: string[] | null
}

export interface WorkflowConfig {
  id: number
  label: string
  initial_state: string | null
}

export interface RetentionPolicy {
  enabled: boolean
  days: number
}

export interface Capabilities {
  ocr_enabled: boolean
  ai_analysis_enabled: boolean
  preview_enabled: boolean
}

export interface DocumentTypeConfig {
  id: number
  label: string
  description: string
  required_metadata: MetadataFieldConfig[]
  optional_metadata: MetadataFieldConfig[]
  workflows: WorkflowConfig[]
  retention_policy: RetentionPolicy
  capabilities: Capabilities
}

export interface DocumentTypeBasic {
  id: number
  label: string
  description: string
  url: string
}

// ====== API CALLS ======

/**
 * –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
 */
export async function getAllDocumentTypes(): Promise<DocumentTypeBasic[]> {
  const response = await apiService.get<DocumentTypeBasic[]>(
    '/api/v4/headless/config/document_types/'
  )
  return response.data
}

/**
 * –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞.
 * 
 * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º –∑–∞–≥—Ä—É–∑–∫–∏.
 * 
 * @param documentTypeId - ID —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
 * @returns –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏, workflows, capabilities
 */
export async function getDocumentTypeConfig(
  documentTypeId: number
): Promise<DocumentTypeConfig> {
  const response = await apiService.get<DocumentTypeConfig>(
    `/api/v4/headless/config/document_types/${documentTypeId}/`
  )
  return response.data
}

/**
 * –í–∞–ª–∏–¥–∞—Ü–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ç–∏–≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞.
 * 
 * @param config - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
 * @param metadata - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
 * @returns –°–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ (–ø—É—Å—Ç–æ–π –µ—Å–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞)
 */
export function validateMetadata(
  config: DocumentTypeConfig,
  metadata: Record<string, string>
): string[] {
  const errors: string[] = []
  
  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
  for (const field of config.required_metadata) {
    const value = metadata[field.name]
    
    if (!value || value.trim() === '') {
      errors.push(`–ü–æ–ª–µ "${field.label}" –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è`)
      continue
    }
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ regex –µ—Å–ª–∏ –∑–∞–¥–∞–Ω
    if (field.validation_regex) {
      const regex = new RegExp(field.validation_regex)
      if (!regex.test(value)) {
        errors.push(`–ü–æ–ª–µ "${field.label}" –∏–º–µ–µ—Ç –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç`)
      }
    }
  }
  
  return errors
}
```

### 4.3 activityService.ts (–û–ë–ù–û–í–õ–ï–ù–ò–ï)

```typescript
// src/services/activityService.ts
import { apiService } from './apiService'

// ====== TYPES ======

export interface ActivityActor {
  id: number
  username: string
  full_name: string
}

export interface ActivityTarget {
  id: number
  type: string
  label: string
  url: string | null
}

export interface ActivityItem {
  id: number
  timestamp: string
  actor: ActivityActor
  verb: string
  verb_code: string
  target: ActivityTarget | null
  description: string
}

export interface ActivityFeedResponse {
  count: number
  page: number
  page_size: number
  results: ActivityItem[]
}

export type ActivityFilter = 'my_actions' | 'my_documents' | 'all'

export interface ActivityFeedOptions {
  filter?: ActivityFilter
  page?: number
  page_size?: number
}

// ====== API CALLS ======

/**
 * –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–µ–Ω—Ç—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.
 * 
 * –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç /api/v4/events/, —ç—Ç–æ—Ç endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:
 * - –¢–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (filter=my_actions)
 * - –°–æ–±—ã—Ç–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (filter=my_documents)
 * - –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
 * 
 * @param options - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
 */
export async function getActivityFeed(
  options: ActivityFeedOptions = {}
): Promise<ActivityFeedResponse> {
  const params = new URLSearchParams()
  
  if (options.filter) {
    params.append('filter', options.filter)
  }
  if (options.page) {
    params.append('page', options.page.toString())
  }
  if (options.page_size) {
    params.append('page_size', options.page_size.toString())
  }
  
  const queryString = params.toString()
  const url = queryString 
    ? `/api/v4/headless/activity/feed/?${queryString}`
    : '/api/v4/headless/activity/feed/'
  
  const response = await apiService.get<ActivityFeedResponse>(url)
  return response.data
}

/**
 * –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
 * 
 * –£–¥–æ–±–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è Dashboard –≤–∏–¥–∂–µ—Ç–æ–≤.
 */
export async function getRecentActivity(limit: number = 10): Promise<ActivityItem[]> {
  const response = await getActivityFeed({
    filter: 'my_actions',
    page: 1,
    page_size: limit
  })
  return response.results
}
```

### 4.4 SettingsPage.vue (–û–ë–ù–û–í–õ–ï–ù–ò–ï)

```vue
<!-- src/pages/SettingsPage.vue -->
<script setup lang="ts">
import { ref, reactive } from 'vue'
import { useNotification } from '@/composables/useNotification'
import { changePassword, type ChangePasswordRequest } from '@/services/settingsService'
import type { ChangePasswordError } from '@/services/settingsService'

const { showSuccess, showError } = useNotification()

// ====== PASSWORD CHANGE FORM ======

const passwordForm = reactive<ChangePasswordRequest>({
  current_password: '',
  new_password: '',
  new_password_confirm: ''
})

const isSubmitting = ref(false)
const passwordErrors = ref<string[]>([])

async function handlePasswordChange() {
  // –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
  passwordErrors.value = []
  
  if (!passwordForm.current_password) {
    passwordErrors.value.push('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å')
  }
  if (!passwordForm.new_password) {
    passwordErrors.value.push('–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å')
  }
  if (passwordForm.new_password !== passwordForm.new_password_confirm) {
    passwordErrors.value.push('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç')
  }
  if (passwordForm.new_password.length < 8) {
    passwordErrors.value.push('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤')
  }
  
  if (passwordErrors.value.length > 0) {
    return
  }
  
  // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  isSubmitting.value = true
  
  try {
    await changePassword(passwordForm)
    
    showSuccess('–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω')
    
    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
    passwordForm.current_password = ''
    passwordForm.new_password = ''
    passwordForm.new_password_confirm = ''
    
  } catch (error: any) {
    const apiError = error.response?.data as ChangePasswordError | undefined
    
    if (apiError?.error_code === 'INVALID_CURRENT_PASSWORD') {
      passwordErrors.value = ['–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å']
    } else if (apiError?.error_code === 'PASSWORD_MISMATCH') {
      passwordErrors.value = ['–ù–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç']
    } else if (apiError?.error_code === 'PASSWORD_VALIDATION_FAILED') {
      passwordErrors.value = apiError.details || ['–ü–∞—Ä–æ–ª—å –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º']
    } else {
      showError('–ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.')
    }
    
  } finally {
    isSubmitting.value = false
  }
}
</script>

<template>
  <div class="settings-page">
    <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
    
    <section class="settings-section">
      <h2>–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h2>
      
      <form @submit.prevent="handlePasswordChange" class="password-form">
        <!-- –¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å -->
        <div class="form-group">
          <label for="current_password">–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</label>
          <input
            id="current_password"
            type="password"
            v-model="passwordForm.current_password"
            :disabled="isSubmitting"
            autocomplete="current-password"
          />
        </div>
        
        <!-- –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å -->
        <div class="form-group">
          <label for="new_password">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
          <input
            id="new_password"
            type="password"
            v-model="passwordForm.new_password"
            :disabled="isSubmitting"
            autocomplete="new-password"
          />
          <small>–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤, –Ω–µ —Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã</small>
        </div>
        
        <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è -->
        <div class="form-group">
          <label for="new_password_confirm">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
          <input
            id="new_password_confirm"
            type="password"
            v-model="passwordForm.new_password_confirm"
            :disabled="isSubmitting"
            autocomplete="new-password"
          />
        </div>
        
        <!-- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ -->
        <div v-if="passwordErrors.length > 0" class="form-errors">
          <ul>
            <li v-for="error in passwordErrors" :key="error">{{ error }}</li>
          </ul>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
        <button type="submit" :disabled="isSubmitting" class="btn btn-primary">
          <span v-if="isSubmitting">–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</span>
          <span v-else>–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</span>
        </button>
      </form>
    </section>
  </div>
</template>
```

---

## 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Headless API

### 5.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Axios

```typescript
// src/services/apiService.ts
import axios from 'axios'
import { useAuthStore } from '@/stores/authStore'

const apiService = axios.create({
  baseURL: import.meta.env.VITE_API_URL || 'http://localhost:8080',
  timeout: 30000,
  headers: {
    'Content-Type': 'application/json',
    'Accept': 'application/json'
  }
})

// ====== REQUEST INTERCEPTOR ======

apiService.interceptors.request.use(
  (config) => {
    const authStore = useAuthStore()
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
    if (authStore.token) {
      config.headers.Authorization = `Token ${authStore.token}`
    }
    
    return config
  },
  (error) => Promise.reject(error)
)

// ====== RESPONSE INTERCEPTOR ======

apiService.interceptors.response.use(
  (response) => response,
  (error) => {
    const authStore = useAuthStore()
    
    // 401 ‚Äî —Å–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞
    if (error.response?.status === 401) {
      authStore.logout()
      window.location.href = '/login'
    }
    
    // 404 ‚Äî endpoint –Ω–µ –Ω–∞–π–¥–µ–Ω
    if (error.response?.status === 404) {
      console.error(`Endpoint not found: ${error.config?.url}`)
      // –î–ª—è headless endpoints –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
      if (error.config?.url?.includes('/headless/')) {
        error.message = '–§—É–Ω–∫—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞. BFF —Å–ª–æ–π –Ω–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç.'
      }
    }
    
    return Promise.reject(error)
  }
)

export { apiService }
```

### 5.2 Feature Flags –¥–ª—è BFF

```typescript
// src/config/features.ts

export const FEATURES = {
  // BFF endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
  BFF_PASSWORD_CHANGE: import.meta.env.VITE_BFF_ENABLED === 'true',
  BFF_CONFIG_API: import.meta.env.VITE_BFF_ENABLED === 'true',
  BFF_ACTIVITY_FEED: import.meta.env.VITE_BFF_ENABLED === 'true',
  
  // Fallback –Ω–∞ —Å—Ç–∞—Ä–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
  LEGACY_PASSWORD_CHANGE: false,  // –ù–µ—Ç fallback ‚Äî endpoint –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  LEGACY_ACTIVITY_FEED: true,     // sessionStorage fallback
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ BFF
export function isBFFAvailable(): boolean {
  return FEATURES.BFF_PASSWORD_CHANGE && 
         FEATURES.BFF_CONFIG_API && 
         FEATURES.BFF_ACTIVITY_FEED
}
```

```env
# .env.development
VITE_API_URL=http://localhost:8080
VITE_BFF_ENABLED=false  # –í–∫–ª—é—á–∏—Ç—å –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è headless_api

# .env.production (–ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è BFF)
VITE_API_URL=https://api.your-domain.com
VITE_BFF_ENABLED=true
```

---

## 6. Timeline –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### 6.1 –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
Backend (–î–º–∏—Ç—Ä–∏–π)                    Frontend (–í–∏—Ç–∞–ª–∏–π)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ù–µ–¥–µ–ª—è 1-2:                          –ù–µ–¥–µ–ª—è 1-2:
‚îú‚îÄ‚îÄ HeadlessPasswordView             ‚îú‚îÄ‚îÄ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ settingsService.ts
‚îú‚îÄ‚îÄ Unit tests                       ‚îú‚îÄ‚îÄ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ SettingsPage.vue
‚îî‚îÄ‚îÄ Deploy to staging                ‚îî‚îÄ‚îÄ Feature flag –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

        ‚ñº CHECKPOINT: Password API Ready ‚ñº

–ù–µ–¥–µ–ª—è 3:                            –ù–µ–¥–µ–ª—è 3:
‚îú‚îÄ‚îÄ HeadlessConfigView               ‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ documentTypeService.ts
‚îú‚îÄ‚îÄ Unit tests                       ‚îú‚îÄ‚îÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å uploadService.ts
‚îî‚îÄ‚îÄ Deploy to staging                ‚îî‚îÄ‚îÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º

        ‚ñº CHECKPOINT: Config API Ready ‚ñº

–ù–µ–¥–µ–ª—è 4:                            –ù–µ–¥–µ–ª—è 4:
‚îú‚îÄ‚îÄ HeadlessActivityFeedView         ‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ activityService.ts
‚îú‚îÄ‚îÄ Unit tests                       ‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ dashboardStore.ts
‚îî‚îÄ‚îÄ Deploy to staging                ‚îî‚îÄ‚îÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Activity Feed

        ‚ñº CHECKPOINT: Activity API Ready ‚ñº

–ù–µ–¥–µ–ª—è 5-6:                          –ù–µ–¥–µ–ª—è 5-6:
‚îú‚îÄ‚îÄ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ                 ‚îú‚îÄ‚îÄ E2E —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ Security audit                   ‚îú‚îÄ‚îÄ Performance optimization
‚îî‚îÄ‚îÄ Production deploy                ‚îî‚îÄ‚îÄ Production deploy

        ‚ñº PRODUCTION READY ‚ñº
```

### 6.2 –ß–µ–∫-–ª–∏—Å—Ç –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –§—Ä–æ–Ω—Ç–µ–Ω–¥–∞

**–î–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è BFF:**
- [ ] –ö–æ–¥ settingsService.ts –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π endpoint)
- [ ] –ö–æ–¥ documentTypeService.ts —Å–æ–∑–¥–∞–Ω (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω)
- [ ] –ö–æ–¥ activityService.ts –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω (fallback –Ω–∞ sessionStorage)
- [ ] Feature flags –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] Unit tests –Ω–∞–ø–∏—Å–∞–Ω—ã (mocked)

**–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è BFF:**
- [ ] VITE_BFF_ENABLED=true
- [ ] –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ endpoints
- [ ] E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏
- [ ] –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Activity feed –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üìã –°–≤—è–∑–∞–Ω–Ω–∞—è –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[TRANSFORMATION_PLAN_V4.md](TRANSFORMATION_PLAN_V4.md)** ‚Äî –ü–ª–∞–Ω —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å BFF —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
- **[BACKEND_ANALYSIS_V4.md](BACKEND_ANALYSIS_V4.md)** ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ headless_api
- **[TEST_EXECUTION_REPORT.md](TEST_EXECUTION_REPORT.md)** ‚Äî –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ API —Å–±–æ–µ–≤

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 4.0 (–û–∂–∏–¥–∞–Ω–∏–µ –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ BFF)
**–°–æ–∑–¥–∞–Ω:** 04 –¥–µ–∫–∞–±—Ä—è 2025
**–ê–≤—Ç–æ—Ä:** Senior Frontend Architect & Technical Writer

---

*üü° –°–¢–ê–¢–£–°: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å BFF. –û–∂–∏–¥–∞–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è headless_api micro-app.*


