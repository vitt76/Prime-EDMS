{"version":3,"file":"DistributionPage-Dh5LvRCZ.js","sources":["../../src/components/Distribution/PublicationCard.vue","../../src/components/Distribution/CreatePublicationModal.vue","../../src/components/Distribution/EditPublicationModal.vue","../../src/pages/DistributionPage.vue"],"sourcesContent":["<template>\n  <div class=\"publication-card\" role=\"article\" :aria-label=\"`Публикация: ${publication.title}`\">\n    <Card>\n      <div class=\"flex items-start justify-between\">\n        <div class=\"flex-1\">\n          <!-- Header -->\n          <div class=\"flex items-center gap-3 mb-3\">\n            <h3 class=\"text-lg font-semibold text-neutral-900 dark:text-neutral-900\" id=\"publication-title\">\n              {{ publication.title }}\n            </h3>\n            <Badge :variant=\"statusVariant\" size=\"sm\">\n              {{ statusLabel }}\n            </Badge>\n          </div>\n\n          <!-- Description -->\n          <p v-if=\"publication.description\" class=\"text-sm text-neutral-600 dark:text-neutral-600 mb-3 line-clamp-2\">\n            {{ publication.description }}\n          </p>\n\n          <!-- Metadata -->\n          <div class=\"flex flex-wrap items-center gap-4 text-xs text-neutral-600 dark:text-neutral-600 mb-3\">\n            <div class=\"flex items-center gap-1\">\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                />\n              </svg>\n              <span>{{ formatDate(publication.created_date) }}</span>\n            </div>\n            <div class=\"flex items-center gap-1\">\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n                />\n              </svg>\n              <span>{{ publication.created_by }}</span>\n            </div>\n            <div class=\"flex items-center gap-1\">\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                />\n              </svg>\n              <span>{{ publication.assets.length }} активов</span>\n            </div>\n          </div>\n\n          <!-- Channels -->\n          <div v-if=\"publication.channels && publication.channels.length > 0\" class=\"flex flex-wrap gap-2 mb-3\">\n            <Badge\n              v-for=\"channel in publication.channels\"\n              :key=\"channel.id\"\n              variant=\"info\"\n              size=\"sm\"\n            >\n              {{ channel.name }}\n            </Badge>\n          </div>\n\n          <!-- Analytics -->\n          <div v-if=\"publication.analytics\" class=\"flex items-center gap-4 text-sm\">\n            <div class=\"flex items-center gap-1 text-neutral-600 dark:text-neutral-600\">\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                />\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n                />\n              </svg>\n              <span>{{ publication.analytics.views }} просмотров</span>\n            </div>\n            <div class=\"flex items-center gap-1 text-neutral-600 dark:text-neutral-600\">\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"\n                />\n              </svg>\n              <span>{{ publication.analytics.downloads }} скачиваний</span>\n            </div>\n            <div class=\"flex items-center gap-1 text-neutral-600 dark:text-neutral-600\">\n              <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  stroke-width=\"2\"\n                  d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.552 3.546a2 2 0 002.938-2.187l.546-2.59A4.998 4.998 0 0017 12c0-.482-.114-.938-.316-1.342m0 2.684L12.448 8.454a2 2 0 00-2.938-2.187l-.546 2.59A4.998 4.998 0 007 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684\"\n                />\n              </svg>\n              <span>{{ publication.analytics.shares }} репостов</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Actions -->\n        <div class=\"flex items-center gap-2 ml-4\">\n          <button\n            type=\"button\"\n            class=\"p-2 text-neutral-600 dark:text-neutral-600 hover:text-primary-500 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-100 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center\"\n            @click=\"$emit('preview')\"\n            aria-label=\"Предпросмотр публикации\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n              />\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n              />\n            </svg>\n          </button>\n          <button\n            type=\"button\"\n            class=\"p-2 text-neutral-600 dark:text-neutral-600 hover:text-primary-500 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-100 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center\"\n            @click=\"$emit('edit')\"\n            aria-label=\"Редактировать публикацию\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n              />\n            </svg>\n          </button>\n          <button\n            type=\"button\"\n            class=\"p-2 text-neutral-600 dark:text-neutral-600 hover:text-error rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-100 transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center\"\n            @click=\"$emit('delete')\"\n            aria-label=\"Удалить публикацию\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n                stroke-width=\"2\"\n                d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n              />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </Card>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Publication } from '@/types/api'\nimport { formatDate } from '@/utils/formatters'\nimport Card from '@/components/Common/Card.vue'\nimport Badge from '@/components/Common/Badge.vue'\nimport { computed } from 'vue'\n\ninterface Props {\n  publication: Publication\n}\n\nconst props = defineProps<Props>()\n\ndefineEmits<{\n  preview: []\n  edit: []\n  delete: []\n}>()\n\nconst statusVariant = computed(() => {\n  const statusMap: Record<Publication['status'], 'success' | 'warning' | 'info' | 'error'> = {\n    published: 'success',\n    scheduled: 'warning',\n    draft: 'info',\n    archived: 'error'\n  }\n  return statusMap[props.publication.status] || 'info'\n})\n\nconst statusLabel = computed(() => {\n  const labelMap: Record<Publication['status'], string> = {\n    published: 'Опубликовано',\n    scheduled: 'Запланировано',\n    draft: 'Черновик',\n    archived: 'Архив'\n  }\n  return labelMap[props.publication.status] || props.publication.status\n})\n</script>\n\n<style scoped>\n.publication-card {\n  margin-bottom: 1rem;\n}\n</style>\n\n","<template>\r\n  <Modal :is-open=\"isOpen\" @close=\"$emit('close')\" size=\"lg\">\r\n    <template #header>\r\n      <h2 class=\"text-xl font-semibold text-neutral-900 dark:text-neutral-900\">\r\n        Создать публикацию\r\n      </h2>\r\n    </template>\r\n\r\n    <template #body>\r\n      <!-- Step Indicator -->\r\n      <div class=\"mb-6\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <div\r\n            v-for=\"(step, index) in steps\"\r\n            :key=\"index\"\r\n            class=\"flex items-center\"\r\n          >\r\n            <div\r\n              :class=\"[\r\n                'w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold',\r\n                currentStep > index\r\n                  ? 'bg-primary-500 text-white'\r\n                  : currentStep === index\r\n                  ? 'bg-primary-500 text-white'\r\n                  : 'bg-neutral-200 dark:bg-neutral-200 text-neutral-600 dark:text-neutral-600'\r\n              ]\"\r\n            >\r\n              <span v-if=\"currentStep > index\">✓</span>\r\n              <span v-else>{{ index + 1 }}</span>\r\n            </div>\r\n            <span\r\n              :class=\"[\r\n                'ml-2 text-sm',\r\n                currentStep >= index\r\n                  ? 'text-neutral-900 dark:text-neutral-900 font-medium'\r\n                  : 'text-neutral-600 dark:text-neutral-600'\r\n              ]\"\r\n            >\r\n              {{ step.label }}\r\n            </span>\r\n            <div\r\n              v-if=\"index < steps.length - 1\"\r\n              :class=\"[\r\n                'w-12 h-0.5 mx-4',\r\n                currentStep > index ? 'bg-primary-500' : 'bg-neutral-200 dark:bg-neutral-200'\r\n              ]\"\r\n            ></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Step 1: Select Assets -->\r\n      <div v-if=\"currentStep === 0\" class=\"space-y-4\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Выберите активы\r\n          </label>\r\n          <div class=\"border border-neutral-300 dark:border-neutral-300 rounded-md p-4 min-h-[200px]\">\r\n            <div v-if=\"selectedAssets.length === 0\" class=\"text-center py-8 text-neutral-600 dark:text-neutral-600\">\r\n              <p>Выберите активы для публикации</p>\r\n              <Button variant=\"outline\" size=\"sm\" class=\"mt-4\" @click=\"openAssetSelector\">\r\n                Выбрать активы\r\n              </Button>\r\n            </div>\r\n            <div v-else class=\"space-y-2\">\r\n              <div\r\n                v-for=\"asset in selectedAssets\"\r\n                :key=\"asset.id\"\r\n                class=\"flex items-center justify-between p-2 bg-neutral-50 dark:bg-neutral-50 rounded-md\"\r\n              >\r\n                <div class=\"flex items-center gap-3\">\r\n                  <img\r\n                    v-if=\"asset.thumbnail_url\"\r\n                    :src=\"asset.thumbnail_url\"\r\n                    :alt=\"asset.label\"\r\n                    class=\"w-12 h-12 object-cover rounded\"\r\n                  />\r\n                  <div>\r\n                    <div class=\"font-medium text-sm text-neutral-900 dark:text-neutral-900\">\r\n                      {{ asset.label }}\r\n                    </div>\r\n                    <div class=\"text-xs text-neutral-600 dark:text-neutral-600\">\r\n                      {{ formatFileSize(asset.size) }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  class=\"text-error hover:text-error-dark\"\r\n                  @click=\"removeAsset(asset.id)\"\r\n                >\r\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M6 18L18 6M6 6l12 12\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Step 2: Configure Channels -->\r\n      <div v-if=\"currentStep === 1\" class=\"space-y-4\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Выберите каналы\r\n          </label>\r\n          <div v-if=\"availableChannels.length === 0\" class=\"text-center py-8 text-neutral-600 dark:text-neutral-600\">\r\n            <p>Загрузка каналов...</p>\r\n          </div>\r\n          <div v-else class=\"space-y-2\">\r\n            <label\r\n              v-for=\"channel in availableChannels\"\r\n              :key=\"channel.id\"\r\n              class=\"flex items-center p-3 border border-neutral-300 dark:border-neutral-300 rounded-md hover:bg-neutral-50 dark:hover:bg-neutral-50 cursor-pointer\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                :value=\"channel.id\"\r\n                :checked=\"selectedChannels.includes(channel.id)\"\r\n                @change=\"toggleChannel(channel.id)\"\r\n                class=\"mr-3\"\r\n              />\r\n              <div class=\"flex-1\">\r\n                <div class=\"font-medium text-sm text-neutral-900 dark:text-neutral-900\">\r\n                  {{ channel.name }}\r\n                </div>\r\n                <div class=\"text-xs text-neutral-600 dark:text-neutral-600\">\r\n                  {{ channel.type }}\r\n                </div>\r\n              </div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Step 3: Set Schedule & Permissions -->\r\n      <div v-if=\"currentStep === 2\" class=\"space-y-4\">\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Название публикации\r\n          </label>\r\n          <Input\r\n            v-model=\"publicationData.title\"\r\n            placeholder=\"Введите название\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Описание (необязательно)\r\n          </label>\r\n          <textarea\r\n            v-model=\"publicationData.description\"\r\n            class=\"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-neutral-0 dark:text-neutral-900\"\r\n            rows=\"3\"\r\n            placeholder=\"Введите описание\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div class=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n              Дата начала\r\n            </label>\r\n            <input\r\n              v-model=\"publicationData.schedule.start_date\"\r\n              type=\"datetime-local\"\r\n              class=\"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-neutral-0 dark:text-neutral-900\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n              Дата окончания\r\n            </label>\r\n            <input\r\n              v-model=\"publicationData.schedule.end_date\"\r\n              type=\"datetime-local\"\r\n              class=\"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-neutral-0 dark:text-neutral-900\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Step 4: Preview & Publish -->\r\n      <div v-if=\"currentStep === 3\" class=\"space-y-4\">\r\n        <div class=\"bg-neutral-50 dark:bg-neutral-50 rounded-lg p-4\">\r\n          <h3 class=\"font-semibold text-neutral-900 dark:text-neutral-900 mb-3\">\r\n            Предпросмотр публикации\r\n          </h3>\r\n          <div class=\"space-y-2 text-sm\">\r\n            <div>\r\n              <span class=\"text-neutral-600 dark:text-neutral-600\">Название:</span>\r\n              <span class=\"ml-2 text-neutral-900 dark:text-neutral-900\">{{ publicationData.title }}</span>\r\n            </div>\r\n            <div>\r\n              <span class=\"text-neutral-600 dark:text-neutral-600\">Активов:</span>\r\n              <span class=\"ml-2 text-neutral-900 dark:text-neutral-900\">{{ selectedAssets.length }}</span>\r\n            </div>\r\n            <div>\r\n              <span class=\"text-neutral-600 dark:text-neutral-600\">Каналов:</span>\r\n              <span class=\"ml-2 text-neutral-900 dark:text-neutral-900\">{{ selectedChannels.length }}</span>\r\n            </div>\r\n            <div v-if=\"publicationData.schedule.start_date\">\r\n              <span class=\"text-neutral-600 dark:text-neutral-600\">Начало:</span>\r\n              <span class=\"ml-2 text-neutral-900 dark:text-neutral-900\">\r\n                {{ formatDate(publicationData.schedule.start_date) }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label class=\"flex items-center gap-2\">\r\n            <input\r\n              v-model=\"publishImmediately\"\r\n              type=\"checkbox\"\r\n              class=\"rounded\"\r\n            />\r\n            <span class=\"text-sm text-neutral-900 dark:text-neutral-900\">\r\n              Опубликовать сразу\r\n            </span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <div class=\"flex justify-between\">\r\n        <Button\r\n          v-if=\"currentStep > 0\"\r\n          variant=\"outline\"\r\n          @click=\"previousStep\"\r\n        >\r\n          Назад\r\n        </Button>\r\n        <div></div>\r\n        <div class=\"flex gap-2\">\r\n          <Button variant=\"outline\" @click=\"$emit('close')\">\r\n            Отмена\r\n          </Button>\r\n          <Button\r\n            v-if=\"currentStep < steps.length - 1\"\r\n            variant=\"primary\"\r\n            :disabled=\"!canProceed\"\r\n            @click=\"nextStep\"\r\n          >\r\n            Далее\r\n          </Button>\r\n          <Button\r\n            v-else\r\n            variant=\"primary\"\r\n            :disabled=\"!canPublish || isSubmitting\"\r\n            :loading=\"isSubmitting\"\r\n            @click=\"handlePublish\"\r\n          >\r\n            {{ publishImmediately ? 'Опубликовать' : 'Создать' }}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </template>\r\n  </Modal>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport type { Asset, Publication, PublicationChannel, CreatePublicationRequest } from '@/types/api'\r\nimport { distributionService } from '@/services/distributionService'\r\nimport { formatFileSize, formatDate } from '@/utils/formatters'\r\nimport Modal from '@/components/Common/Modal.vue'\r\nimport Button from '@/components/Common/Button.vue'\r\nimport Input from '@/components/Common/Input.vue'\r\n\r\ninterface Props {\r\n  isOpen: boolean\r\n}\r\n\r\nconst props = defineProps<Props>()\r\n\r\nconst emit = defineEmits<{\r\n  close: []\r\n  created: [publication: Publication]\r\n}>()\r\n\r\nconst steps = [\r\n  { label: 'Выбор активов', key: 'assets' },\r\n  { label: 'Каналы', key: 'channels' },\r\n  { label: 'Настройки', key: 'settings' },\r\n  { label: 'Предпросмотр', key: 'preview' }\r\n]\r\n\r\nconst currentStep = ref(0)\r\nconst selectedAssets = ref<Asset[]>([])\r\nconst availableChannels = ref<PublicationChannel[]>([])\r\nconst selectedChannels = ref<number[]>([])\r\nconst publishImmediately = ref(false)\r\nconst isSubmitting = ref(false)\r\n\r\nconst publicationData = ref<CreatePublicationRequest>({\r\n  title: '',\r\n  description: '',\r\n  asset_ids: [],\r\n  channel_ids: [],\r\n  schedule: {}\r\n})\r\n\r\nconst canProceed = computed(() => {\r\n  switch (currentStep.value) {\r\n    case 0:\r\n      return selectedAssets.value.length > 0\r\n    case 1:\r\n      return selectedChannels.value.length > 0\r\n    case 2:\r\n      return publicationData.value.title.trim().length > 0\r\n    default:\r\n      return true\r\n  }\r\n})\r\n\r\nconst canPublish = computed(() => {\r\n  return (\r\n    publicationData.value.title.trim().length > 0 &&\r\n    selectedAssets.value.length > 0 &&\r\n    selectedChannels.value.length > 0\r\n  )\r\n})\r\n\r\nonMounted(async () => {\r\n  await loadChannels()\r\n})\r\n\r\nasync function loadChannels() {\r\n  try {\r\n    availableChannels.value = await distributionService.getChannels()\r\n  } catch (error) {\r\n    console.error('Failed to load channels:', error)\r\n  }\r\n}\r\n\r\nfunction nextStep() {\r\n  if (currentStep.value < steps.length - 1 && canProceed.value) {\r\n    currentStep.value++\r\n    updatePublicationData()\r\n  }\r\n}\r\n\r\nfunction previousStep() {\r\n  if (currentStep.value > 0) {\r\n    currentStep.value--\r\n  }\r\n}\r\n\r\nfunction updatePublicationData() {\r\n  publicationData.value.asset_ids = selectedAssets.value.map((a) => a.id)\r\n  publicationData.value.channel_ids = selectedChannels.value\r\n}\r\n\r\nfunction openAssetSelector() {\r\n  // TODO: Open asset selector modal\r\n  // For now, we'll use a placeholder\r\n  console.log('Open asset selector')\r\n}\r\n\r\nfunction removeAsset(assetId: number) {\r\n  selectedAssets.value = selectedAssets.value.filter((a) => a.id !== assetId)\r\n}\r\n\r\nfunction toggleChannel(channelId: number) {\r\n  const index = selectedChannels.value.indexOf(channelId)\r\n  if (index === -1) {\r\n    selectedChannels.value.push(channelId)\r\n  } else {\r\n    selectedChannels.value.splice(index, 1)\r\n  }\r\n}\r\n\r\nasync function handlePublish() {\r\n  if (!canPublish.value || isSubmitting.value) return\r\n\r\n  isSubmitting.value = true\r\n  updatePublicationData()\r\n\r\n  try {\r\n    const publication = await distributionService.createPublication(publicationData.value)\r\n    \r\n    if (publishImmediately.value) {\r\n      await distributionService.publishPublication(publication.id)\r\n    }\r\n\r\n    emit('created', publication)\r\n    emit('close')\r\n    \r\n    // Reset form\r\n    resetForm()\r\n  } catch (error) {\r\n    console.error('Failed to create publication:', error)\r\n    // TODO: Show error toast\r\n  } finally {\r\n    isSubmitting.value = false\r\n  }\r\n}\r\n\r\nfunction resetForm() {\r\n  currentStep.value = 0\r\n  selectedAssets.value = []\r\n  selectedChannels.value = []\r\n  publishImmediately.value = false\r\n  publicationData.value = {\r\n    title: '',\r\n    description: '',\r\n    asset_ids: [],\r\n    channel_ids: [],\r\n    schedule: {}\r\n  }\r\n}\r\n</script>\r\n\r\n","<template>\r\n  <Modal :is-open=\"isOpen\" @close=\"$emit('close')\" size=\"lg\">\r\n    <template #header>\r\n      <h2 class=\"text-xl font-semibold text-neutral-900 dark:text-neutral-900\">\r\n        Редактировать публикацию\r\n      </h2>\r\n    </template>\r\n\r\n    <template #body>\r\n      <div class=\"space-y-4\">\r\n        <!-- Title -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Название публикации\r\n          </label>\r\n          <Input\r\n            v-model=\"publicationData.title\"\r\n            placeholder=\"Введите название\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <!-- Description -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Описание (необязательно)\r\n          </label>\r\n          <textarea\r\n            v-model=\"publicationData.description\"\r\n            class=\"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-neutral-0 dark:text-neutral-900\"\r\n            rows=\"3\"\r\n            placeholder=\"Введите описание\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <!-- Assets -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Активы\r\n          </label>\r\n          <div class=\"border border-neutral-300 dark:border-neutral-300 rounded-md p-4 min-h-[150px]\">\r\n            <div v-if=\"selectedAssets.length === 0\" class=\"text-center py-8 text-neutral-600 dark:text-neutral-600\">\r\n              <p>Нет активов</p>\r\n              <Button variant=\"outline\" size=\"sm\" class=\"mt-4\" @click=\"openAssetSelector\">\r\n                Добавить активы\r\n              </Button>\r\n            </div>\r\n            <div v-else class=\"space-y-2\">\r\n              <div\r\n                v-for=\"asset in selectedAssets\"\r\n                :key=\"asset.id\"\r\n                class=\"flex items-center justify-between p-2 bg-neutral-50 dark:bg-neutral-50 rounded-md\"\r\n              >\r\n                <div class=\"flex items-center gap-3\">\r\n                  <img\r\n                    v-if=\"asset.thumbnail_url\"\r\n                    :src=\"asset.thumbnail_url\"\r\n                    :alt=\"asset.label\"\r\n                    class=\"w-12 h-12 object-cover rounded\"\r\n                  />\r\n                  <div>\r\n                    <div class=\"font-medium text-sm text-neutral-900 dark:text-neutral-900\">\r\n                      {{ asset.label }}\r\n                    </div>\r\n                    <div class=\"text-xs text-neutral-600 dark:text-neutral-600\">\r\n                      {{ formatFileSize(asset.size) }}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  class=\"text-error hover:text-error-dark\"\r\n                  @click=\"removeAsset(asset.id)\"\r\n                >\r\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M6 18L18 6M6 6l12 12\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Channels -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Каналы\r\n          </label>\r\n          <div v-if=\"availableChannels.length === 0\" class=\"text-center py-4 text-neutral-600 dark:text-neutral-600\">\r\n            <p>Загрузка каналов...</p>\r\n          </div>\r\n          <div v-else class=\"space-y-2\">\r\n            <label\r\n              v-for=\"channel in availableChannels\"\r\n              :key=\"channel.id\"\r\n              class=\"flex items-center p-3 border border-neutral-300 dark:border-neutral-300 rounded-md hover:bg-neutral-50 dark:hover:bg-neutral-50 cursor-pointer\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                :value=\"channel.id\"\r\n                :checked=\"selectedChannels.includes(channel.id)\"\r\n                @change=\"toggleChannel(channel.id)\"\r\n                class=\"mr-3\"\r\n              />\r\n              <div class=\"flex-1\">\r\n                <div class=\"font-medium text-sm text-neutral-900 dark:text-neutral-900\">\r\n                  {{ channel.name }}\r\n                </div>\r\n                <div class=\"text-xs text-neutral-600 dark:text-neutral-600\">\r\n                  {{ channel.type }}\r\n                </div>\r\n              </div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Schedule -->\r\n        <div class=\"grid grid-cols-2 gap-4\">\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n              Дата начала\r\n            </label>\r\n            <input\r\n              v-model=\"publicationData.schedule.start_date\"\r\n              type=\"datetime-local\"\r\n              class=\"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-neutral-0 dark:text-neutral-900\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n              Дата окончания\r\n            </label>\r\n            <input\r\n              v-model=\"publicationData.schedule.end_date\"\r\n              type=\"datetime-local\"\r\n              class=\"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-neutral-0 dark:text-neutral-900\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Status -->\r\n        <div>\r\n          <label class=\"block text-sm font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\r\n            Статус\r\n          </label>\r\n          <select\r\n            v-model=\"publicationData.status\"\r\n            class=\"w-full px-4 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-neutral-0 dark:text-neutral-900\"\r\n          >\r\n            <option value=\"draft\">Черновик</option>\r\n            <option value=\"scheduled\">Запланировано</option>\r\n            <option value=\"published\">Опубликовано</option>\r\n            <option value=\"archived\">Архив</option>\r\n          </select>\r\n        </div>\r\n\r\n        <!-- Error Display -->\r\n        <div v-if=\"error\" class=\"p-3 bg-error-50 dark:bg-error-50 rounded-md\">\r\n          <p class=\"text-sm font-medium text-error\">{{ error }}</p>\r\n        </div>\r\n      </div>\r\n    </template>\r\n\r\n    <template #footer>\r\n      <div class=\"flex justify-end gap-2\">\r\n        <Button variant=\"outline\" @click=\"$emit('close')\">\r\n          Отмена\r\n        </Button>\r\n        <Button\r\n          variant=\"primary\"\r\n          :disabled=\"!canSave || isSubmitting\"\r\n          :loading=\"isSubmitting\"\r\n          @click=\"handleSave\"\r\n        >\r\n          Сохранить\r\n        </Button>\r\n      </div>\r\n    </template>\r\n  </Modal>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, watch } from 'vue'\r\nimport type { Asset, Publication, PublicationChannel, UpdatePublicationRequest } from '@/types/api'\r\nimport { distributionService } from '@/services/distributionService'\r\nimport { formatFileSize } from '@/utils/formatters'\r\nimport Modal from '@/components/Common/Modal.vue'\r\nimport Button from '@/components/Common/Button.vue'\r\nimport Input from '@/components/Common/Input.vue'\r\n\r\ninterface Props {\r\n  isOpen: boolean\r\n  publication: Publication | null\r\n}\r\n\r\nconst props = defineProps<Props>()\r\n\r\nconst emit = defineEmits<{\r\n  close: []\r\n  updated: [publication: Publication]\r\n}>()\r\n\r\nconst selectedAssets = ref<Asset[]>([])\r\nconst availableChannels = ref<PublicationChannel[]>([])\r\nconst selectedChannels = ref<number[]>([])\r\nconst isSubmitting = ref(false)\r\nconst error = ref<string | null>(null)\r\n\r\nconst publicationData = ref<UpdatePublicationRequest>({\r\n  title: '',\r\n  description: '',\r\n  asset_ids: [],\r\n  channel_ids: [],\r\n  schedule: {},\r\n  status: 'draft'\r\n})\r\n\r\nconst canSave = computed(() => {\r\n  return (\r\n    publicationData.value.title.trim().length > 0 &&\r\n    selectedAssets.value.length > 0 &&\r\n    selectedChannels.value.length > 0\r\n  )\r\n})\r\n\r\n// Load publication data when modal opens\r\nwatch(\r\n  () => props.isOpen,\r\n  async (isOpen) => {\r\n    if (isOpen && props.publication) {\r\n      await loadPublicationData()\r\n      await loadChannels()\r\n    } else if (!isOpen) {\r\n      resetForm()\r\n    }\r\n  },\r\n  { immediate: true }\r\n)\r\n\r\nonMounted(async () => {\r\n  await loadChannels()\r\n})\r\n\r\nasync function loadChannels() {\r\n  try {\r\n    availableChannels.value = await distributionService.getChannels()\r\n  } catch (err) {\r\n    console.error('Failed to load channels:', err)\r\n  }\r\n}\r\n\r\nfunction loadPublicationData() {\r\n  if (!props.publication) return\r\n\r\n  publicationData.value = {\r\n    title: props.publication.title,\r\n    description: props.publication.description || '',\r\n    asset_ids: props.publication.assets.map((a) => a.id),\r\n    channel_ids: props.publication.channels.map((c) => c.id),\r\n    schedule: props.publication.schedule || {},\r\n    status: props.publication.status\r\n  }\r\n\r\n  selectedAssets.value = [...props.publication.assets]\r\n  selectedChannels.value = props.publication.channels.map((c) => c.id)\r\n}\r\n\r\nfunction openAssetSelector() {\r\n  // TODO: Open asset selector modal\r\n  console.log('Open asset selector')\r\n}\r\n\r\nfunction removeAsset(assetId: number) {\r\n  selectedAssets.value = selectedAssets.value.filter((a) => a.id !== assetId)\r\n  publicationData.value.asset_ids = selectedAssets.value.map((a) => a.id)\r\n}\r\n\r\nfunction toggleChannel(channelId: number) {\r\n  const index = selectedChannels.value.indexOf(channelId)\r\n  if (index === -1) {\r\n    selectedChannels.value.push(channelId)\r\n  } else {\r\n    selectedChannels.value.splice(index, 1)\r\n  }\r\n  publicationData.value.channel_ids = selectedChannels.value\r\n}\r\n\r\nasync function handleSave() {\r\n  if (!canSave.value || isSubmitting.value || !props.publication) return\r\n\r\n  isSubmitting.value = true\r\n  error.value = null\r\n\r\n  try {\r\n    publicationData.value.asset_ids = selectedAssets.value.map((a) => a.id)\r\n    publicationData.value.channel_ids = selectedChannels.value\r\n\r\n    const updated = await distributionService.updatePublication(props.publication.id, publicationData.value)\r\n    emit('updated', updated)\r\n    emit('close')\r\n  } catch (err: any) {\r\n    error.value = err.message || 'Не удалось сохранить публикацию'\r\n    console.error('Failed to update publication:', err)\r\n  } finally {\r\n    isSubmitting.value = false\r\n  }\r\n}\r\n\r\nfunction resetForm() {\r\n  selectedAssets.value = []\r\n  selectedChannels.value = []\r\n  error.value = null\r\n  publicationData.value = {\r\n    title: '',\r\n    description: '',\r\n    asset_ids: [],\r\n    channel_ids: [],\r\n    schedule: {},\r\n    status: 'draft'\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n\r\n","<template>\n  <div class=\"distribution-page\">\n    <!-- Header -->\n    <div class=\"flex items-center justify-between mb-6\">\n      <div>\n        <h1 class=\"text-2xl font-bold text-neutral-900 dark:text-neutral-900\">\n          Публикации\n        </h1>\n        <p class=\"text-sm text-neutral-600 dark:text-neutral-600 mt-1\">\n          Управление публикациями и их распространением\n        </p>\n      </div>\n      <Button variant=\"primary\" @click=\"showCreateModal = true\">\n        <svg class=\"w-5 h-5 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M12 4v16m8-8H4\"\n          />\n        </svg>\n        Создать публикацию\n      </Button>\n    </div>\n\n    <!-- Filters -->\n    <div class=\"mb-6 flex items-center gap-4\">\n      <Select\n        v-model=\"statusFilter\"\n        :options=\"statusOptions\"\n        placeholder=\"Все статусы\"\n        class=\"w-48\"\n        @change=\"handleStatusFilterChange\"\n      />\n      <Input\n        v-model=\"searchQuery\"\n        placeholder=\"Поиск публикаций...\"\n        class=\"flex-1 max-w-md\"\n        @input=\"handleSearch\"\n      >\n        <template #prefix>\n          <svg class=\"w-5 h-5 text-neutral-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n              stroke-width=\"2\"\n              d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n            />\n          </svg>\n        </template>\n      </Input>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"distributionStore.isLoading && distributionStore.publications.length === 0\" class=\"text-center py-12\">\n      <div class=\"animate-spin h-8 w-8 mx-auto text-primary-500\"></div>\n      <p class=\"mt-4 text-neutral-600 dark:text-neutral-600\">Загрузка публикаций...</p>\n    </div>\n\n    <!-- Error State -->\n    <div v-else-if=\"distributionStore.error && distributionStore.publications.length === 0\" class=\"text-center py-12\">\n      <div class=\"max-w-md mx-auto\">\n        <svg\n          class=\"mx-auto h-12 w-12 text-error\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n          />\n        </svg>\n        <h3 class=\"mt-4 text-lg font-medium text-neutral-900 dark:text-neutral-900\">\n          Ошибка загрузки\n        </h3>\n        <p class=\"mt-2 text-sm text-neutral-600 dark:text-neutral-600\">\n          {{ distributionStore.error }}\n        </p>\n        <Button variant=\"primary\" class=\"mt-4\" @click=\"handleRetry\">\n          Попробовать снова\n        </Button>\n      </div>\n    </div>\n\n    <!-- Publications List -->\n    <div v-else-if=\"distributionStore.publications.length > 0\" class=\"space-y-4\">\n      <PublicationCard\n        v-for=\"publication in distributionStore.publications\"\n        :key=\"publication.id\"\n        :publication=\"publication\"\n        @preview=\"handlePreview(publication)\"\n        @edit=\"handleEdit(publication)\"\n        @delete=\"handleDelete(publication)\"\n      />\n    </div>\n\n    <!-- Empty State -->\n    <div v-else class=\"text-center py-12\">\n      <svg\n        class=\"mx-auto h-16 w-16 text-neutral-400 mb-4\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n          stroke-width=\"2\"\n          d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\n        />\n      </svg>\n      <h3 class=\"text-lg font-medium text-neutral-900 dark:text-neutral-900 mb-2\">\n        Нет публикаций\n      </h3>\n      <p class=\"text-sm text-neutral-600 dark:text-neutral-600 mb-4\">\n        Создайте первую публикацию для распространения активов\n      </p>\n      <Button variant=\"primary\" @click=\"showCreateModal = true\">\n        Создать публикацию\n      </Button>\n    </div>\n\n    <!-- Pagination -->\n    <div v-if=\"distributionStore.totalCount > 0\" class=\"mt-6\">\n      <Pagination\n        :current-page=\"distributionStore.currentPage\"\n        :total-items=\"distributionStore.totalCount\"\n        :page-size=\"distributionStore.pageSize\"\n        @page-change=\"handlePageChange\"\n      />\n    </div>\n\n    <!-- Create Publication Modal -->\n    <CreatePublicationModal\n      :is-open=\"showCreateModal\"\n      @close=\"showCreateModal = false\"\n      @created=\"handlePublicationCreated\"\n    />\n\n    <!-- Edit Publication Modal -->\n    <EditPublicationModal\n      :is-open=\"showEditModal\"\n      :publication=\"publicationToEdit\"\n      @close=\"showEditModal = false\"\n      @updated=\"handlePublicationUpdated\"\n    />\n    <!-- Delete Confirmation Modal -->\n    <Modal\n      :is-open=\"showDeleteModal\"\n      @close=\"showDeleteModal = false\"\n    >\n      <template #header>\n        <h2 class=\"text-xl font-semibold text-neutral-900 dark:text-neutral-900\">\n          Удалить публикацию?\n        </h2>\n      </template>\n      <template #body>\n        <p class=\"text-neutral-900 dark:text-neutral-900\">\n          Вы уверены, что хотите удалить публикацию \"{{ publicationToDelete?.title }}\"?\n          Это действие нельзя отменить.\n        </p>\n      </template>\n      <template #footer>\n        <div class=\"flex justify-end gap-2\">\n          <Button variant=\"outline\" @click=\"showDeleteModal = false\">\n            Отмена\n          </Button>\n          <Button\n            variant=\"danger\"\n            :loading=\"isDeleting\"\n            @click=\"confirmDelete\"\n          >\n            Удалить\n          </Button>\n        </div>\n      </template>\n    </Modal>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, watch } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { useDistributionStore } from '@/stores/distributionStore'\nimport type { Publication } from '@/types/api'\nimport Button from '@/components/Common/Button.vue'\nimport Input from '@/components/Common/Input.vue'\nimport Select from '@/components/Common/Select.vue'\nimport Modal from '@/components/Common/Modal.vue'\nimport Pagination from '@/components/Common/Pagination.vue'\nimport PublicationCard from '@/components/Distribution/PublicationCard.vue'\nimport CreatePublicationModal from '@/components/Distribution/CreatePublicationModal.vue'\nimport EditPublicationModal from '@/components/Distribution/EditPublicationModal.vue'\n\nconst router = useRouter()\nconst distributionStore = useDistributionStore()\n\nconst showCreateModal = ref(false)\nconst showEditModal = ref(false)\nconst showDeleteModal = ref(false)\nconst publicationToEdit = ref<Publication | null>(null)\nconst publicationToDelete = ref<Publication | null>(null)\nconst isDeleting = ref(false)\nconst statusFilter = ref<string>('')\nconst searchQuery = ref('')\n\nconst statusOptions = [\n  { value: '', label: 'Все статусы' },\n  { value: 'draft', label: 'Черновик' },\n  { value: 'scheduled', label: 'Запланировано' },\n  { value: 'published', label: 'Опубликовано' },\n  { value: 'archived', label: 'Архив' }\n]\n\nonMounted(async () => {\n  await distributionStore.fetchPublications()\n})\n\nwatch(() => distributionStore.filters, () => {\n  // Auto-refresh when filters change\n}, { deep: true })\n\nfunction handleStatusFilterChange(value: string) {\n  const status = value ? (value as Publication['status']) : undefined\n  distributionStore.applyFilters({ status })\n}\n\nfunction handleSearch() {\n  distributionStore.applyFilters({ search: searchQuery.value || undefined })\n}\n\nfunction handlePageChange(page: number) {\n  distributionStore.setPage(page)\n}\n\nfunction handleRetry() {\n  distributionStore.fetchPublications()\n}\n\nfunction handlePreview(publication: Publication) {\n  // TODO: Open preview modal or navigate to detail page\n  console.log('Preview publication:', publication.id)\n}\n\nfunction handleEdit(publication: Publication) {\n  publicationToEdit.value = publication\n  showEditModal.value = true\n}\n\nfunction handleDelete(publication: Publication) {\n  publicationToDelete.value = publication\n  showDeleteModal.value = true\n}\n\nasync function confirmDelete() {\n  if (!publicationToDelete.value) return\n\n  isDeleting.value = true\n  try {\n    await distributionStore.deletePublication(publicationToDelete.value.id)\n    showDeleteModal.value = false\n    publicationToDelete.value = null\n    // TODO: Show success toast\n  } catch (error) {\n    console.error('Failed to delete publication:', error)\n    // TODO: Show error toast\n  } finally {\n    isDeleting.value = false\n  }\n}\n\nfunction handlePublicationCreated(publication: Publication) {\n  // Refresh publications list\n  distributionStore.fetchPublications()\n  // TODO: Show success toast\n}\n\nfunction handlePublicationUpdated(publication: Publication) {\n  // Refresh publications list\n  distributionStore.fetchPublications()\n  showEditModal.value = false\n  publicationToEdit.value = null\n  // TODO: Show success toast\n}\n</script>\n\n<style scoped>\n.distribution-page {\n  padding: 1.5rem;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n</style>\n"],"names":["props","__props","statusVariant","computed","published","scheduled","draft","archived","publication","status","statusLabel","_createElementBlock","class","role","title","_createVNode","Card","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","Badge","variant","value","size","description","_openBlock","_hoisted_6","_hoisted_7","_hoisted_8","fill","stroke","viewBox","d","_unref","formatDate","created_date","_hoisted_9","created_by","_hoisted_10","assets","length","channels","_hoisted_11","_Fragment","_renderList","channel","_createBlock","key","id","_createTextVNode","name","analytics","_hoisted_12","_hoisted_13","views","_hoisted_14","downloads","_hoisted_15","shares","_hoisted_16","type","onClick","$emit","emit","__emit","steps","label","currentStep","ref","selectedAssets","availableChannels","selectedChannels","publishImmediately","isSubmitting","publicationData","asset_ids","channel_ids","schedule","canProceed","trim","canPublish","nextStep","updatePublicationData","previousStep","map","a","openAssetSelector","handlePublish","__async","this","distributionService","createPublication","publishPublication","error","onMounted","getChannels","loadChannels","Modal","isOpen","onClose","header","_cache","body","_hoisted_1","step","index","_normalizeClass","Button","asset","thumbnail_url","src","alt","$event","removeAsset","assetId","filter","checked","includes","onChange","channelId","indexOf","push","splice","toggleChannel","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","Input","modelValue","placeholder","required","rows","_vModelText","_hoisted_22","start_date","end_date","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","footer","_hoisted_32","_hoisted_33","disabled","loading","canSave","err","handleSave","updated","updatePublication","message","watch","c","loadPublicationData","immediate","_vModelSelect","_hoisted_17","useRouter","distributionStore","useDistributionStore","showCreateModal","showEditModal","showDeleteModal","publicationToEdit","publicationToDelete","isDeleting","statusFilter","searchQuery","statusOptions","handleStatusFilterChange","applyFilters","handleSearch","search","handlePageChange","page","setPage","handleRetry","fetchPublications","confirmDelete","deletePublication","handlePublicationCreated","handlePublicationUpdated","filters","deep","Select","options","onInput","prefix","isLoading","publications","PublicationCard","onPreview","onEdit","handleEdit","onDelete","handleDelete","totalCount","Pagination","currentPage","pageSize","onPageChange","CreatePublicationModal","onCreated","EditPublicationModal","onUpdated","_a"],"mappings":"y3DAuLA,MAAMA,EAAQC,EAQRC,EAAgBC,EAAS,KAC8D,CACzFC,UAAW,UACXC,UAAW,UACXC,MAAO,OACPC,SAAU,SAEKP,EAAMQ,YAAYC,SAAW,SAG1CC,EAAcP,EAAS,KAC6B,CACtDC,UAAW,eACXC,UAAW,gBACXC,MAAO,WACPC,SAAU,SAEIP,EAAMQ,YAAYC,SAAWT,EAAMQ,YAAYC,2BA/M/DE,EAwKM,MAAA,CAxKDC,MAAM,mBAAmBC,KAAK,UAAW,aAAU,eAAiBZ,EAAAO,YAAYM,UACnFC,EAsKOC,EAAA,KAAA,WArKL,IAoKM,CApKNC,EAoKM,MApKNC,EAoKM,CAnKJD,EA2GM,MA3GNE,EA2GM,CAzGJF,EAOM,MAPNG,EAOM,CANJH,EAEK,KAFLI,EAEKC,EADArB,EAAAO,YAAYM,OAAK,GAEtBC,EAEQQ,EAAA,CAFAC,QAAStB,EAAAuB,MAAeC,KAAK,iBACnC,IAAiB,KAAdhB,EAAAe,OAAW,2BAKTxB,EAAAO,YAAYmB,aAArBC,IAAAjB,EAEI,IAFJkB,EAEIP,EADCrB,EAAAO,YAAYmB,aAAW,aAI5BV,EAkCM,MAlCNa,EAkCM,CAjCJb,EAUM,MAVNc,EAUM,aATJd,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,sDAGNlB,EAAuD,OAAA,KAAAK,EAA9Cc,EAAAC,EAAAD,CAAWnC,EAAAO,YAAY8B,eAAY,KAE9CrB,EAUM,MAVNsB,EAUM,aATJtB,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,8EAGNlB,EAAyC,OAAA,KAAAK,EAAhCrB,EAAAO,YAAYgC,YAAU,KAEjCvB,EAUM,MAVNwB,EAUM,aATJxB,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,oKAGNlB,EAAoD,cAA3ChB,EAAAO,YAAYkC,OAAOC,QAAS,WAAQ,OAKtC1C,EAAAO,YAAYoC,UAAY3C,cAAY2C,SAASD,OAAM,GAA9Df,IAAAjB,EASM,MATNkC,EASM,EARJjB,GAAA,GAAAjB,EAOQmC,EAAA,KAAAC,EANY9C,EAAAO,YAAYoC,SAAvBI,QADTC,EAOQ1B,EAAA,CALL2B,IAAKF,EAAQG,GACd3B,QAAQ,OACRE,KAAK,iBAEL,IAAkB,CAAf0B,EAAA9B,EAAA0B,EAAQK,MAAI,oCAKRpD,EAAAO,YAAY8C,WAAvB1B,IAAAjB,EAwCM,MAxCN4C,EAwCM,CAvCJtC,EAgBM,MAhBNuC,EAgBM,aAfJvC,EAaM,MAAA,CAbDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,qCAEJlB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,kIAGNlB,EAAyD,cAAhDhB,EAAAO,YAAY8C,UAAUG,OAAQ,cAAW,KAEpDxC,EAUM,MAVNyC,EAUM,aATJzC,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,yEAGNlB,EAA6D,cAApDhB,EAAAO,YAAY8C,UAAUK,WAAY,cAAW,KAExD1C,EAUM,MAVN2C,EAUM,aATJ3C,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,yUAGNlB,EAAwD,cAA/ChB,EAAAO,YAAY8C,UAAUO,QAAS,YAAS,mBAMvD5C,EAoDM,MApDN6C,EAoDM,CAnDJ7C,EAoBS,SAAA,CAnBP8C,KAAK,SACLnD,MAAM,2MACLoD,uBAAOC,EAAAA,MAAK,YACb,aAAW,4CAEXhD,EAaM,MAAA,CAbDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,qCAEJlB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,qIAIRlB,EAcS,SAAA,CAbP8C,KAAK,SACLnD,MAAM,2MACLoD,uBAAOC,EAAAA,MAAK,SACb,aAAW,+CAEXhD,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,oIAIRlB,EAcS,SAAA,CAbP8C,KAAK,SACLnD,MAAM,qMACLoD,uBAAOC,EAAAA,MAAK,WACb,aAAW,yCAEXhD,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,0nDC0HlB,MAAM+B,EAAOC,EAKPC,EAAQ,CACZ,CAAEC,MAAO,gBAAiBnB,IAAK,UAC/B,CAAEmB,MAAO,SAAUnB,IAAK,YACxB,CAAEmB,MAAO,YAAanB,IAAK,YAC3B,CAAEmB,MAAO,eAAgBnB,IAAK,YAG1BoB,EAAcC,EAAI,GAClBC,EAAiBD,EAAa,IAC9BE,EAAoBF,EAA0B,IAC9CG,EAAmBH,EAAc,IACjCI,EAAqBJ,GAAI,GACzBK,EAAeL,GAAI,GAEnBM,EAAkBN,EAA8B,CACpDzD,MAAO,GACPa,YAAa,GACbmD,UAAW,GACXC,YAAa,GACbC,SAAU,CAAA,IAGNC,EAAa9E,EAAS,KAC1B,OAAQmE,EAAY7C,OAClB,KAAK,EACH,OAAO+C,EAAe/C,MAAMkB,OAAS,EACvC,KAAK,EACH,OAAO+B,EAAiBjD,MAAMkB,OAAS,EACzC,KAAK,EACH,OAAOkC,EAAgBpD,MAAMX,MAAMoE,OAAOvC,OAAS,EACrD,QACE,OAAO,KAIPwC,EAAahF,EAAS,IAExB0E,EAAgBpD,MAAMX,MAAMoE,OAAOvC,OAAS,GAC5C6B,EAAe/C,MAAMkB,OAAS,GAC9B+B,EAAiBjD,MAAMkB,OAAS,GAgBpC,SAASyC,IACHd,EAAY7C,MAAQ2C,EAAMzB,OAAS,GAAKsC,EAAWxD,QACrD6C,EAAY7C,QACZ4D,IAEJ,CAEA,SAASC,IACHhB,EAAY7C,MAAQ,GACtB6C,EAAY7C,OAEhB,CAEA,SAAS4D,IACPR,EAAgBpD,MAAMqD,UAAYN,EAAe/C,MAAM8D,IAAKC,GAAMA,EAAErC,IACpE0B,EAAgBpD,MAAMsD,YAAcL,EAAiBjD,KACvD,CAEA,SAASgE,IAIT,CAeA,SAAeC,IAAgB,OAAAC,EAAAC,KAAA,KAAA,YAC7B,GAAKT,EAAW1D,QAASmD,EAAanD,MAAtC,CAEAmD,EAAanD,OAAQ,EACrB4D,IAEA,IACE,MAAM7E,QAAoBqF,EAAoBC,kBAAkBjB,EAAgBpD,OAE5EkD,EAAmBlD,cACfoE,EAAoBE,mBAAmBvF,EAAY2C,KAG3De,EAAK,UAAW1D,GAChB0D,EAAK,SAaPI,EAAY7C,MAAQ,EACpB+C,EAAe/C,MAAQ,GACvBiD,EAAiBjD,MAAQ,GACzBkD,EAAmBlD,OAAQ,EAC3BoD,EAAgBpD,MAAQ,CACtBX,MAAO,GACPa,YAAa,GACbmD,UAAW,GACXC,YAAa,GACbC,SAAU,CAAA,EAlBZ,OAASgB,GAGT,CAAA,QACEpB,EAAanD,OAAQ,CACvB,CAtB6C,CAuB/C,EAAA,QAzEAwE,EAAU,IAAYN,EAAAC,KAAA,KAAA,kBAItB,WAA8B,OAAAD,EAAAC,KAAA,KAAA,YAC5B,IACEnB,EAAkBhD,YAAcoE,EAAoBK,aACtD,OAASF,GAET,CACF,EAAA,CATQG,EACR,gBA7UElD,EAyQQmD,EAAA,CAzQA,UAASnG,EAAAoG,OAASC,uBAAOrC,EAAAA,MAAK,UAAWvC,KAAK,OACzC6E,SACT,IAEK,IAAAC,EAAA,KAAAA,EAAA,GAAA,CAFLvF,EAEK,KAAA,CAFDL,MAAM,gEAA+D,wBAEzE,OAGS6F,OAET,IAuCM,CAvCNxF,EAuCM,MAvCNyF,EAuCM,CAtCJzF,EAqCM,MArCNC,GAqCM,EApCJU,IAAAjB,EAmCMmC,EAAA,KAAAC,EAlCoBqB,EAAK,CAArBuC,EAAMC,IADhB3F,EAmCM,MAAA,CAjCHiC,IAAK0D,EACNhG,MAAM,sBAENK,EAYM,MAAA,CAXHL,MAAKiG,EAAA,+EAAqHvC,EAAA7C,MAAcmF,GAA4EtC,EAAA7C,QAAgBmF,8GASzNtC,EAAA7C,MAAcmF,GAA1BhF,IAAAjB,EAAyC,UAAR,OACjCiB,IAAAjB,EAAmC,YAAnBiG,EAAK,GAAA,QAEvB3F,EASO,OAAA,CARJL,MAAKiG,EAAA,gBAAsDvC,EAAA7C,OAAemF,mGAOxEtF,EAAAqF,EAAKtC,OAAK,GAGPuC,EAAQxC,EAAMzB,OAAM,OAD5BhC,EAMO,MAAA,OAJJC,MAAKiG,EAAA,mBAAyDvC,EAAA7C,MAAcmF,EAAK,iBAAA,sEAUpE,IAAXtC,EAAA7C,OAAXG,IAAAjB,EAmDM,MAnDNU,GAmDM,CAlDJJ,EAiDM,MAAA,KAAA,CAhDJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,qBAErF,IACAK,EA4CM,MA5CNY,GA4CM,CA3C4B,IAArB2C,EAAA/C,MAAekB,QAA1Bf,IAAAjB,EAKM,MALNmB,GAKM,CAJJ0E,EAAA,KAAAA,EAAA,GAAAvF,EAAqC,SAAlC,kCAA8B,IACjCF,EAES+F,EAAA,CAFDtF,QAAQ,UAAUE,KAAK,KAAKd,MAAM,OAAQoD,QAAOyB,cAAmB,IAE5E,IAAAe,EAAA,KAAAA,EAAA,GAAA,GAF4E,oBAE5E,iBAEF5E,IAAAjB,EAoCM,MApCNoB,GAoCM,QAnCJpB,EAkCMmC,EAAA,KAAAC,EAjCYyB,EAAA/C,MAATsF,QADTpG,EAkCM,MAAA,CAhCHuC,IAAK6D,EAAM5D,GACZvC,MAAM,sFAENK,EAeM,MAfNsB,GAeM,CAbIwE,EAAMC,mBADdrG,EAKE,MAAA,OAHCsG,IAAKF,EAAMC,cACXE,IAAKH,EAAM1C,MACZzD,MAAM,uDAERK,EAOM,MAAA,KAAA,CANJA,EAEM,MAFN4B,GAEMvB,EADDyF,EAAM1C,OAAK,GAEhBpD,EAEM,MAFNsC,GAEMjC,EADDc,IAAAA,CAAe2E,EAAMrF,OAAI,OAIlCT,EAYS,SAAA,CAXPL,MAAM,mCACLoD,QAAKmD,IAAEC,OAwRLC,EAxRiBN,EAAM5D,QAyR1CqB,EAAe/C,MAAQ+C,EAAe/C,MAAM6F,OAAQ9B,GAAMA,EAAErC,KAAOkE,IADrE,IAAqBA,uBAtRHpG,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,oEAWI,IAAXmC,EAAA7C,OAAXG,IAAAjB,EAgCM,MAhCN+C,GAgCM,CA/BJzC,EA8BM,MAAA,KAAA,CA7BJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,qBAErF,IACmC,IAAxB6D,EAAAhD,MAAkBkB,QAA7Bf,IAAAjB,EAEM,MAFNiD,GAEM,IAAA4C,EAAA,MAAAA,EAAA,IAAA,CADJvF,EAA0B,SAAvB,uBAAmB,SAExBW,IAAAjB,EAsBM,MAtBNmD,GAsBM,QArBJnD,EAoBQmC,EAAA,KAAAC,EAnBY0B,EAAAhD,MAAXuB,QADTrC,EAoBQ,QAAA,CAlBLuC,IAAKF,EAAQG,GACdvC,MAAM,mJAENK,EAME,QAAA,CALA8C,KAAK,WACJtC,MAAOuB,EAAQG,GACfoE,QAAS7C,EAAAjD,MAAiB+F,SAASxE,EAAQG,IAC3CsE,SAAMN,GAwPvB,SAAuBO,GACrB,MAAMd,EAAQlC,EAAiBjD,MAAMkG,QAAQD,IAC/B,IAAVd,EACFlC,EAAiBjD,MAAMmG,KAAKF,GAE5BhD,EAAiBjD,MAAMoG,OAAOjB,EAAO,EAEzC,CA/PyBkB,CAAc9E,EAAQG,IAC/BvC,MAAM,oBAERK,EAOM,MAPN8G,GAOM,CANJ9G,EAEM,MAFN+G,GAEM1G,EADD0B,EAAQK,MAAI,GAEjBpC,EAEM,MAFNgH,GAEM3G,EADD0B,EAAQe,MAAI,gCASL,IAAXO,EAAA7C,OAAXG,IAAAjB,EA8CM,MA9CNuH,GA8CM,CA7CJjH,EASM,MAAA,KAAA,CARJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,yBAErF,IACAG,EAIEoH,EAAA,CAHSC,WAAAvD,EAAApD,MAAgBX,MAAhB,sBAAA0F,EAAA,KAAAA,EAAA,GAAAW,GAAAtC,EAAApD,MAAgBX,MAAKqG,GAC9BkB,YAAY,mBACZC,SAAA,6BAIJrH,EAUM,MAAA,KAAA,CATJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,8BAErF,MACAK,EAKY,WAAA,CAJD,sBAAAuF,EAAA,KAAAA,EAAA,GAAAW,GAAAtC,EAAApD,MAAgBE,YAAWwF,GACpCvG,MAAM,2LACN2H,KAAK,IACLF,YAAY,+BAHH,CAAAG,EAAA3D,EAAApD,MAAgBE,iBAO7BV,EAqBM,MArBNwH,GAqBM,CApBJxH,EASM,MAAA,KAAA,CARJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,iBAErF,MACAK,EAIE,QAAA,sCAHS4D,EAAApD,MAAgBuD,SAAS0D,WAAUvB,GAC5CpD,KAAK,iBACLnD,MAAM,8LAFGiE,EAAApD,MAAgBuD,SAAS0D,gBAKtCzH,EASM,MAAA,KAAA,CARJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,oBAErF,MACAK,EAIE,QAAA,sCAHS4D,EAAApD,MAAgBuD,SAAS2D,SAAQxB,GAC1CpD,KAAK,iBACLnD,MAAM,8LAFGiE,EAAApD,MAAgBuD,SAAS2D,4BASpB,IAAXrE,EAAA7C,OAAXG,IAAAjB,EAuCM,MAvCNiI,GAuCM,CAtCJ3H,EAwBM,MAxBN4H,GAwBM,CAvBJrC,EAAA,MAAAA,EAAA,IAAAvF,EAEK,KAAA,CAFDL,MAAM,6DAA4D,6BAEtE,IACAK,EAmBM,MAnBN6H,GAmBM,CAlBJ7H,EAGM,MAAA,KAAA,CAFJuF,EAAA,MAAAA,EAAA,IAAAvF,EAAqE,OAAA,CAA/DL,MAAM,0CAAyC,aAAS,IAC9DK,EAA4F,OAA5F8H,GAA4FzH,EAA/BuD,EAAApD,MAAgBX,OAAK,KAEpFG,EAGM,MAAA,KAAA,CAFJuF,EAAA,MAAAA,EAAA,IAAAvF,EAAoE,OAAA,CAA9DL,MAAM,0CAAyC,YAAQ,IAC7DK,EAA4F,OAA5F+H,GAA4F1H,EAA/BkD,EAAA/C,MAAekB,QAAM,KAEpF1B,EAGM,MAAA,KAAA,CAFJuF,EAAA,MAAAA,EAAA,IAAAvF,EAAoE,OAAA,CAA9DL,MAAM,0CAAyC,YAAQ,IAC7DK,EAA8F,OAA9FgI,GAA8F3H,EAAjCoD,EAAAjD,MAAiBkB,QAAM,KAE3EkC,EAAApD,MAAgBuD,SAAS0D,gBAApC/H,EAKM,MAAAuI,GAAA,CAJJ1C,EAAA,MAAAA,EAAA,IAAAvF,EAAmE,OAAA,CAA7DL,MAAM,0CAAyC,WAAO,IAC5DK,EAEO,OAFPkI,GAEO7H,EADFc,EAAAC,EAAAD,CAAWyC,EAAApD,MAAgBuD,SAAS0D,aAAU,mBAMzDzH,EAWM,MAAA,KAAA,CAVJA,EASQ,QATRmI,GASQ,GARNnI,EAIE,QAAA,sCAHS0D,EAAkBlD,MAAA0F,GAC3BpD,KAAK,WACLnD,MAAM,yBAFG+D,EAAAlD,SAIX+E,EAAA,MAAAA,EAAA,IAAAvF,EAEO,OAAA,CAFDL,MAAM,kDAAiD,wBAE7D,sBAMGyI,SACT,IA+BM,CA/BNpI,EA+BM,MA/BNqI,GA+BM,CA7BIhF,EAAA7C,MAAW,OADnBwB,EAMS6D,EAAA,OAJPtF,QAAQ,UACPwC,QAAOsB,cACT,IAED,IAAAkB,EAAA,MAAAA,EAAA,IAAA,GAFC,WAED,qCACAvF,EAAW,MAAA,KAAA,MAAA,IACXA,EAqBM,MArBNsI,GAqBM,CApBJxI,EAES+F,EAAA,CAFDtF,QAAQ,UAAWwC,uBAAOC,EAAAA,MAAK,sBAAW,IAElD,IAAAuC,EAAA,MAAAA,EAAA,IAAA,GAFkD,YAElD,aAEQlC,EAAA7C,MAAc2C,EAAMzB,OAAM,OADlCM,EAOS6D,EAAA,OALPtF,QAAQ,UACPgI,UAAWvE,EAAAxD,MACXuC,QAAOoB,cACT,IAED,IAAAoB,EAAA,MAAAA,EAAA,IAAA,GAFC,WAED,kCACAvD,EAQS6D,EAAA,OANPtF,QAAQ,UACPgI,UAAWrE,EAAA1D,OAAcmD,EAAAnD,MACzBgI,QAAS7E,EAAAnD,MACTuC,QAAO0B,cAER,IAAqD,KAAlDf,EAAAlD,MAAkB,eAAA,WAAA,yjCC9DjC,MAAMzB,EAAQC,EAERiE,EAAOC,EAKPK,EAAiBD,EAAa,IAC9BE,EAAoBF,EAA0B,IAC9CG,EAAmBH,EAAc,IACjCK,EAAeL,GAAI,GACnByB,EAAQzB,EAAmB,MAE3BM,EAAkBN,EAA8B,CACpDzD,MAAO,GACPa,YAAa,GACbmD,UAAW,GACXC,YAAa,GACbC,SAAU,CAAA,EACVvE,OAAQ,UAGJiJ,EAAUvJ,EAAS,IAErB0E,EAAgBpD,MAAMX,MAAMoE,OAAOvC,OAAS,GAC5C6B,EAAe/C,MAAMkB,OAAS,GAC9B+B,EAAiBjD,MAAMkB,OAAS,GAsBpC,SAAewD,IAAe,OAAAR,EAAAC,KAAA,KAAA,YAC5B,IACEnB,EAAkBhD,YAAcoE,EAAoBK,aACtD,OAASyD,GAET,CACF,EAAA,CAkBA,SAASlE,IAGT,CAiBA,SAAemE,IAAa,OAAAjE,EAAAC,KAAA,KAAA,YAC1B,GAAK8D,EAAQjI,QAASmD,EAAanD,OAAUzB,EAAMQ,YAAnD,CAEAoE,EAAanD,OAAQ,EACrBuE,EAAMvE,MAAQ,KAEd,IACEoD,EAAgBpD,MAAMqD,UAAYN,EAAe/C,MAAM8D,IAAKC,GAAMA,EAAErC,IACpE0B,EAAgBpD,MAAMsD,YAAcL,EAAiBjD,MAErD,MAAMoI,QAAgBhE,EAAoBiE,kBAAkB9J,EAAMQ,YAAY2C,GAAI0B,EAAgBpD,OAClGyC,EAAK,UAAW2F,GAChB3F,EAAK,QACP,OAASyF,GACP3D,EAAMvE,MAAQkI,EAAII,SAAW,iCAE/B,CAAA,QACEnF,EAAanD,OAAQ,CACvB,CAjBgE,CAkBlE,EAAA,QAhFAuI,EACE,IAAMhK,EAAMqG,OACLA,GAAWV,EAAAC,KAAA,KAAA,YACZS,GAAUrG,EAAMQ,mBAsBxB,WACE,IAAKR,EAAMQ,YAAa,OAExBqE,EAAgBpD,MAAQ,CACtBX,MAAOd,EAAMQ,YAAYM,MACzBa,YAAa3B,EAAMQ,YAAYmB,aAAe,GAC9CmD,UAAW9E,EAAMQ,YAAYkC,OAAO6C,IAAKC,GAAMA,EAAErC,IACjD4B,YAAa/E,EAAMQ,YAAYoC,SAAS2C,IAAK0E,GAAMA,EAAE9G,IACrD6B,SAAUhF,EAAMQ,YAAYwE,UAAY,CAAA,EACxCvE,OAAQT,EAAMQ,YAAYC,QAG5B+D,EAAe/C,MAAQ,IAAIzB,EAAMQ,YAAYkC,QAC7CgC,EAAiBjD,MAAQzB,EAAMQ,YAAYoC,SAAS2C,IAAK0E,GAAMA,EAAE9G,GACnE,CAnCY+G,SACA/D,KACIE,IA6Ed7B,EAAe/C,MAAQ,GACvBiD,EAAiBjD,MAAQ,GACzBuE,EAAMvE,MAAQ,KACdoD,EAAgBpD,MAAQ,CACtBX,MAAO,GACPa,YAAa,GACbmD,UAAW,GACXC,YAAa,GACbC,SAAU,CAAA,EACVvE,OAAQ,SAnFV,GACA,CAAE0J,WAAW,IAGflE,EAAU,IAAYN,EAAAC,KAAA,KAAA,kBACdO,GACR,gBApPElD,EAqLQmD,EAAA,CArLA,UAASnG,EAAAoG,OAASC,uBAAOrC,EAAAA,MAAK,UAAWvC,KAAK,OACzC6E,SACT,IAEK,IAAAC,EAAA,KAAAA,EAAA,GAAA,CAFLvF,EAEK,KAAA,CAFDL,MAAM,gEAA+D,8BAEzE,OAGS6F,OACT,IA2JM,CA3JNxF,EA2JM,MA3JNyF,GA2JM,CAzJJzF,EASM,MAAA,KAAA,CARJuF,EAAA,KAAAA,EAAA,GAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,yBAErF,IACAG,EAIEoH,EAAA,CAHSC,WAAAvD,EAAApD,MAAgBX,MAAhB,sBAAA0F,EAAA,KAAAA,EAAA,GAAAW,GAAAtC,EAAApD,MAAgBX,MAAKqG,GAC9BkB,YAAY,mBACZC,SAAA,6BAKJrH,EAUM,MAAA,KAAA,CATJuF,EAAA,KAAAA,EAAA,GAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,8BAErF,MACAK,EAKY,WAAA,CAJD,sBAAAuF,EAAA,KAAAA,EAAA,GAAAW,GAAAtC,EAAApD,MAAgBE,YAAWwF,GACpCvG,MAAM,2LACN2H,KAAK,IACLF,YAAY,+BAHH,CAAAG,EAAA3D,EAAApD,MAAgBE,iBAQ7BV,EAiDM,MAAA,KAAA,CAhDJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,YAErF,IACAK,EA4CM,MA5CNC,GA4CM,CA3C4B,IAArBsD,EAAA/C,MAAekB,QAA1Bf,IAAAjB,EAKM,MALNQ,GAKM,CAJJqF,EAAA,MAAAA,EAAA,IAAAvF,EAAkB,SAAf,eAAW,IACdF,EAES+F,EAAA,CAFDtF,QAAQ,UAAUE,KAAK,KAAKd,MAAM,OAAQoD,QAAOyB,cAAmB,IAE5E,IAAAe,EAAA,MAAAA,EAAA,IAAA,GAF4E,qBAE5E,iBAEF5E,IAAAjB,EAoCM,MApCNS,GAoCM,QAnCJT,EAkCMmC,EAAA,KAAAC,EAjCYyB,EAAA/C,MAATsF,QADTpG,EAkCM,MAAA,CAhCHuC,IAAK6D,EAAM5D,GACZvC,MAAM,sFAENK,EAeM,MAfNI,GAeM,CAbI0F,EAAMC,mBADdrG,EAKE,MAAA,OAHCsG,IAAKF,EAAMC,cACXE,IAAKH,EAAM1C,MACZzD,MAAM,uDAERK,EAOM,MAAA,KAAA,CANJA,EAEM,MAFNa,GAEMR,EADDyF,EAAM1C,OAAK,GAEhBpD,EAEM,MAFNc,GAEMT,EADDc,IAAAA,CAAe2E,EAAMrF,OAAI,OAIlCT,EAYS,SAAA,CAXPL,MAAM,mCACLoD,QAAKmD,IAAEC,OA6MLC,EA7MiBN,EAAM5D,GA8M1CqB,EAAe/C,MAAQ+C,EAAe/C,MAAM6F,OAAQ9B,GAAMA,EAAErC,KAAOkE,QACnExC,EAAgBpD,MAAMqD,UAAYN,EAAe/C,MAAM8D,IAAKC,GAAMA,EAAErC,KAFtE,IAAqBkE,uBA3MHpG,EAOM,MAAA,CAPDL,MAAM,UAAUoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC7DjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,wDAUhBlB,EA8BM,MAAA,KAAA,CA7BJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,YAErF,IACmC,IAAxB6D,EAAAhD,MAAkBkB,QAA7Bf,IAAAjB,EAEM,MAFN8B,GAEM,IAAA+D,EAAA,MAAAA,EAAA,IAAA,CADJvF,EAA0B,SAAvB,uBAAmB,SAExBW,IAAAjB,EAsBM,MAtBNkC,GAsBM,QArBJlC,EAoBQmC,EAAA,KAAAC,EAnBY0B,EAAAhD,MAAXuB,QADTrC,EAoBQ,QAAA,CAlBLuC,IAAKF,EAAQG,GACdvC,MAAM,mJAENK,EAME,QAAA,CALA8C,KAAK,WACJtC,MAAOuB,EAAQG,GACfoE,QAAS7C,EAAAjD,MAAiB+F,SAASxE,EAAQG,IAC3CsE,SAAMN,GAgLvB,SAAuBO,GACrB,MAAMd,EAAQlC,EAAiBjD,MAAMkG,QAAQD,IAC/B,IAAVd,EACFlC,EAAiBjD,MAAMmG,KAAKF,GAE5BhD,EAAiBjD,MAAMoG,OAAOjB,EAAO,GAEvC/B,EAAgBpD,MAAMsD,YAAcL,EAAiBjD,KACvD,CAxLyBqG,CAAc9E,EAAQG,IAC/BvC,MAAM,oBAERK,EAOM,MAPNuC,GAOM,CANJvC,EAEM,MAFNyC,GAEMpC,EADD0B,EAAQK,MAAI,GAEjBpC,EAEM,MAFN2C,GAEMtC,EADD0B,EAAQe,MAAI,oBAQzB9C,EAqBM,MArBN6C,GAqBM,CApBJ7C,EASM,MAAA,KAAA,CARJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,iBAErF,MACAK,EAIE,QAAA,sCAHS4D,EAAApD,MAAgBuD,SAAS0D,WAAUvB,GAC5CpD,KAAK,iBACLnD,MAAM,8LAFGiE,EAAApD,MAAgBuD,SAAS0D,gBAKtCzH,EASM,MAAA,KAAA,CARJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,oBAErF,MACAK,EAIE,QAAA,sCAHS4D,EAAApD,MAAgBuD,SAAS2D,SAAQxB,GAC1CpD,KAAK,iBACLnD,MAAM,8LAFGiE,EAAApD,MAAgBuD,SAAS2D,gBAQxC1H,EAaM,MAAA,KAAA,CAZJuF,EAAA,MAAAA,EAAA,IAAAvF,EAEQ,QAAA,CAFDL,MAAM,yEAAwE,YAErF,MACAK,EAQS,SAAA,CAPE,sBAAAuF,EAAA,KAAAA,EAAA,GAAAW,GAAAtC,EAAApD,MAAgBhB,OAAM0G,GAC/BvG,MAAM,mMAENK,EAAuC,SAAA,CAA/BQ,MAAM,SAAQ,YAAQ,GAC9BR,EAAgD,SAAA,CAAxCQ,MAAM,aAAY,iBAAa,GACvCR,EAA+C,SAAA,CAAvCQ,MAAM,aAAY,gBAAY,GACtCR,EAAuC,SAAA,CAA/BQ,MAAM,YAAW,SAAK,YANrB,CAAA2I,EAAAvF,EAAApD,MAAgBhB,YAWlBuF,EAAAvE,OAAXG,IAAAjB,EAEM,MAFN0J,GAEM,CADJpJ,EAAyD,IAAzD8G,GAAyDzG,EAAZ0E,EAAAvE,OAAK,mBAK7C4H,SACT,IAYM,CAZNpI,EAYM,MAZN+G,GAYM,CAXJjH,EAES+F,EAAA,CAFDtF,QAAQ,UAAWwC,uBAAOC,EAAAA,MAAK,sBAAW,IAElD,IAAAuC,EAAA,MAAAA,EAAA,IAAA,GAFkD,YAElD,aACAzF,EAOS+F,EAAA,CANPtF,QAAQ,UACPgI,UAAWE,EAAAjI,OAAWmD,EAAAnD,MACtBgI,QAAS7E,EAAAnD,MACTuC,QAAO4F,cACT,IAED,IAAApD,EAAA,MAAAA,EAAA,IAAA,GAFC,eAED,qkBCkBO8D,IACf,MAAMC,EAAoBC,IAEpBC,EAAkBlG,GAAI,GACtBmG,EAAgBnG,GAAI,GACpBoG,EAAkBpG,GAAI,GACtBqG,EAAoBrG,EAAwB,MAC5CsG,EAAsBtG,EAAwB,MAC9CuG,EAAavG,GAAI,GACjBwG,EAAexG,EAAY,IAC3ByG,EAAczG,EAAI,IAElB0G,EAAgB,CACpB,CAAExJ,MAAO,GAAI4C,MAAO,eACpB,CAAE5C,MAAO,QAAS4C,MAAO,YACzB,CAAE5C,MAAO,YAAa4C,MAAO,iBAC7B,CAAE5C,MAAO,YAAa4C,MAAO,gBAC7B,CAAE5C,MAAO,WAAY4C,MAAO,UAW9B,SAAS6G,EAAyBzJ,GAChC,MAAMhB,EAASgB,QAA2C,EAC1D8I,EAAkBY,aAAa,CAAE1K,UACnC,CAEA,SAAS2K,IACPb,EAAkBY,aAAa,CAAEE,OAAQL,EAAYvJ,YAAS,GAChE,CAEA,SAAS6J,EAAiBC,GACxBhB,EAAkBiB,QAAQD,EAC5B,CAEA,SAASE,IACPlB,EAAkBmB,mBACpB,CAiBA,SAAeC,IAAgB,OAAAhG,EAAAC,KAAA,KAAA,YAC7B,GAAKiF,EAAoBpJ,MAAzB,CAEAqJ,EAAWrJ,OAAQ,EACnB,UACQ8I,EAAkBqB,kBAAkBf,EAAoBpJ,MAAM0B,IACpEwH,EAAgBlJ,OAAQ,EACxBoJ,EAAoBpJ,MAAQ,IAE9B,OAASuE,GAGT,CAAA,QACE8E,EAAWrJ,OAAQ,CACrB,CAbgC,CAclC,EAAA,CAEA,SAASoK,EAAyBrL,GAEhC+J,EAAkBmB,mBAEpB,CAEA,SAASI,EAAyBtL,GAEhC+J,EAAkBmB,oBAClBhB,EAAcjJ,OAAQ,EACtBmJ,EAAkBnJ,MAAQ,IAE5B,QArEAwE,EAAU,IAAYN,EAAAC,KAAA,KAAA,kBACd2E,EAAkBmB,mBAC1B,IAEA1B,EAAM,IAAMO,EAAkBwB,QAAS,OAEpC,CAAEC,MAAM,YA9NTpK,IAAAjB,EAmLM,MAnLN+F,GAmLM,CAjLJzF,EAoBM,MApBNC,GAoBM,aAnBJD,EAOM,MAAA,KAAA,CANJA,EAEK,KAAA,CAFDL,MAAM,6DAA4D,gBAGtEK,EAEI,IAAA,CAFDL,MAAM,uDAAsD,yDAIjEG,EAUS+F,EAAA,CAVDtF,QAAQ,UAAWwC,uBAAOyG,EAAAhJ,OAAe,eAC/C,IAOM,IAAA+E,EAAA,KAAAA,EAAA,GAAA,CAPNvF,EAOM,MAAA,CAPDL,MAAM,eAAeoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAClEjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,0BAEA,wBAER,eAIFlB,EAyBM,MAzBNE,GAyBM,CAxBJJ,EAMEkL,EAAA,YALSlB,EAAAtJ,2CAAAsJ,EAAYtJ,MAAA0F,GACpB+E,QAASjB,EACV5C,YAAY,cACZzH,MAAM,OACL6G,SAAQyD,0BAEXnK,EAgBQoH,EAAA,YAfG6C,EAAAvJ,2CAAAuJ,EAAWvJ,MAAA0F,GACpBkB,YAAY,sBACZzH,MAAM,kBACLuL,QAAOf,IAEGgB,SACT,IAOM,IAAA5F,EAAA,MAAAA,EAAA,IAAA,CAPNvF,EAOM,MAAA,CAPDL,MAAM,2BAA2BoB,KAAK,OAAOC,OAAO,eAAeC,QAAQ,cAC9EjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,kFAQDC,EAAAmI,GAAkB8B,WAAkD,IAArCjK,KAAkBkK,aAAa3J,QAAzEf,IAAAjB,EAGM,MAHNS,GAGM,IAAAoF,EAAA,MAAAA,EAAA,IAAA,CAFJvF,EAAiE,MAAA,CAA5DL,MAAM,iDAA+C,MAAA,GAC1DK,EAAiF,IAAA,CAA9EL,MAAM,+CAA8C,0BAAsB,QAI/DwB,EAAAmI,GAAkBvE,OAA8C,IAArC5D,KAAkBkK,aAAa3J,QAA1Ef,IAAAjB,EAyBM,MAzBNU,GAyBM,CAxBJJ,EAuBM,MAvBNY,GAuBM,eAtBJZ,EAYM,MAAA,CAXJL,MAAM,+BACNoB,KAAK,OACLC,OAAO,eACPC,QAAQ,cAERjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,4DAGNqE,EAAA,MAAAA,EAAA,IAAAvF,EAEK,KAAA,CAFDL,MAAM,mEAAkE,qBAE5E,IACAK,EAEI,IAFJa,GAEIR,EADCc,EAAAmI,GAAkBvE,OAAK,GAE5BjF,EAES+F,EAAA,CAFDtF,QAAQ,UAAUZ,MAAM,OAAQoD,QAAOyH,cAAa,IAE5D,IAAAjF,EAAA,MAAAA,EAAA,IAAA,GAF4D,uBAE5D,kBAKYpE,EAAAmI,GAAkB+B,aAAa3J,OAAM,GAArDf,IAAAjB,EASM,MATNoB,GASM,EARJH,GAAA,GAAAjB,EAOEmC,EAAA,KAAAC,EANsBX,EAAAmI,GAAkB+B,aAAjC9L,QADTyC,EAOEsJ,EAAA,CALCrJ,IAAK1C,EAAY2C,GACjB3C,cACAgM,UAAOrF,MACPsF,OAAItF,GAyJb,SAAoB3G,GAClBoK,EAAkBnJ,MAAQjB,EAC1BkK,EAAcjJ,OAAQ,CACxB,CA5JeiL,CAAWlM,GACjBmM,SAAMxF,GA6Jf,SAAsB3G,GACpBqK,EAAoBpJ,MAAQjB,EAC5BmK,EAAgBlJ,OAAQ,CAC1B,CAhKiBmL,CAAapM,wEAK1BoB,IAAAjB,EAuBM,MAvBN4B,GAuBM,eAtBJtB,EAYM,MAAA,CAXJL,MAAM,0CACNoB,KAAK,OACLC,OAAO,eACPC,QAAQ,cAERjB,EAKE,OAAA,CAJA,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbkB,EAAE,iKAGNqE,EAAA,MAAAA,EAAA,IAAAvF,EAEK,KAAA,CAFDL,MAAM,mEAAkE,oBAE5E,IACA4F,EAAA,MAAAA,EAAA,IAAAvF,EAEI,IAAA,CAFDL,MAAM,uDAAsD,4DAE/D,IACAG,EAES+F,EAAA,CAFDtF,QAAQ,UAAWwC,uBAAOyG,EAAAhJ,OAAe,eAAS,IAE1D,IAAA+E,EAAA,MAAAA,EAAA,IAAA,GAF0D,wBAE1D,gBAISpE,EAAAmI,GAAkBsC,WAAU,GAAvCjL,IAAAjB,EAOM,MAPN8B,GAOM,CANJ1B,EAKE+L,EAAA,CAJC,eAAc1K,EAAAmI,GAAkBwC,YAChC,cAAa3K,EAAAmI,GAAkBsC,WAC/B,YAAWzK,EAAAmI,GAAkByC,SAC7BC,aAAa3B,kEAKlBvK,EAIEmM,GAAA,CAHC,UAASzC,EAAAhJ,MACT6E,uBAAOmE,EAAAhJ,OAAe,GACtB0L,UAAStB,uBAIZ9K,EAKEqM,GAAA,CAJC,UAAS1C,EAAAjJ,MACTjB,YAAaoK,EAAAnJ,MACb6E,uBAAOoE,EAAAjJ,OAAa,GACpB4L,UAASvB,qCAGZ/K,EA6BQqF,EAAA,CA5BL,UAASuE,EAAAlJ,MACT6E,uBAAOqE,EAAAlJ,OAAe,KAEZ8E,SACT,IAEK,IAAAC,EAAA,MAAAA,EAAA,IAAA,CAFLvF,EAEK,KAAA,CAFDL,MAAM,gEAA+D,yBAEzE,OAES6F,OACT,WAGI,MAAA,CAHJxF,EAGI,IAHJ4B,GAAkD,iDACF,OAAAyK,EAAAzC,EAAApJ,YAAA,EAAA6L,EAAqBxM,OAAQ,oCAE7E,MAESuI,SACT,IAWM,CAXNpI,EAWM,MAXNsC,GAWM,CAVJxC,EAES+F,EAAA,CAFDtF,QAAQ,UAAWwC,uBAAO2G,EAAAlJ,OAAe,eAAU,IAE3D,IAAA+E,EAAA,MAAAA,EAAA,IAAA,GAF2D,YAE3D,aACAzF,EAMS+F,EAAA,CALPtF,QAAQ,SACPiI,QAASqB,EAAArJ,MACTuC,QAAO2H,cACT,IAED,IAAAnF,EAAA,MAAAA,EAAA,IAAA,GAFC,aAED"}