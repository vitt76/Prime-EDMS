var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,i=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,s=(e,s)=>{for(var o in s||(s={}))a.call(s,o)&&i(e,o,s[o]);if(l)for(var o of l(s))t.call(s,o)&&i(e,o,s[o]);return e},o=(e,l,a)=>new Promise((t,i)=>{var s=e=>{try{r(a.next(e))}catch(l){i(l)}},o=e=>{try{r(a.throw(e))}catch(l){i(l)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,o);r((a=a.apply(e,l)).next())});import{b as r,r as n,P as d,c as u,w as c,e as p,i as m,C as v,f,t as h,s as _,A as b,q as y,l as g,m as k,v as x,N as V,F as w,h as C,j as S,k as D,x as F,u as M,p as j,n as q}from"./vue-vendor-FOQ7SlVG.js";import{e as U,d as N,u as A,l as O}from"./index-Bkz-5-QE.js";import{u as z}from"./adminStore-DpbUuV6G.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-2ZgOsU_G.js";import{_ as P}from"./Badge.vue_vue_type_script_setup_true_lang-DSCw0GKm.js";import{_ as E}from"./Select.vue_vue_type_script_setup_true_lang-CMc7GAxK.js";import{D as L}from"./DeleteConfirmModal-BjEfmBHN.js";import{u as R}from"./utils-vendor-C6ZCcsv1.js";import"./Modal.vue_vue_type_script_setup_true_lang-DuZonOwY.js";const $={class:"field-editor"},B={class:"field-editor__header"},I={class:"field-editor__title"},H={class:"form-group"},J={class:"form-group"},Y={class:"form-group"},Z={class:"form-group"},K={class:"form-group"},W={class:"checkbox-label"},G={key:0,class:"form-group"},Q={key:1,class:"form-group"},X={class:"options-list"},ee={key:0,class:"form-error"},le={class:"form-group"},ae={class:"validation-rules"},te={key:0,class:"validation-rules__row"},ie={key:1,class:"validation-rules__row"},se={key:2,class:"form-group"},oe={class:"form-group"},re={class:"form-group"},ne={class:"field-editor__actions"},de=N(r({__name:"FieldEditor",props:{field:{default:null},existingFieldNames:{default:()=>[]}},emits:["save","cancel"],setup(e,{emit:l}){var a,t,i,s,o,r,D,F,M,j,q;const N=e,A=l,O=n(!1),z=d({}),P=u(()=>null!==N.field),L=d({name:(null==(a=N.field)?void 0:a.name)||"",label:(null==(t=N.field)?void 0:t.label)||"",type:(null==(i=N.field)?void 0:i.type)||"text",description:(null==(s=N.field)?void 0:s.description)||"",required:(null==(o=N.field)?void 0:o.required)||!1,default_value:null==(r=N.field)?void 0:r.default_value,options:(null==(D=N.field)?void 0:D.options)?[...N.field.options]:[],validation_rules:(null==(F=N.field)?void 0:F.validation_rules)||{},placeholder:(null==(M=N.field)?void 0:M.placeholder)||"",help_text:(null==(j=N.field)?void 0:j.help_text)||""}),R=n(void 0!==(null==(q=N.field)?void 0:q.default_value)?String(N.field.default_value):""),de=[{value:"text",label:"Text (single line)"},{value:"textarea",label:"Text Area (multi-line)"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"date_range",label:"Date Range"},{value:"select",label:"Select (dropdown)"},{value:"multi_select",label:"Multi-select"},{value:"checkbox",label:"Checkbox"},{value:"file_upload",label:"File Upload"},{value:"url",label:"URL"}],ue=u(()=>"select"===L.type||"multi_select"===L.type),ce=u(()=>"file_upload"!==L.type),pe=u(()=>"text"===L.type||"textarea"===L.type||"url"===L.type),me=u(()=>"number"===L.type),ve=u(()=>"text"===L.type||"url"===L.type);c(()=>N.field,e=>{e?(L.name=e.name,L.label=e.label,L.type=e.type,L.description=e.description||"",L.required=e.required,L.default_value=e.default_value,L.options=e.options?[...e.options]:[],L.validation_rules=e.validation_rules||{},L.placeholder=e.placeholder||"",L.help_text=e.help_text||"",R.value=void 0!==e.default_value?String(e.default_value):""):(L.name="",L.label="",L.type="text",L.description="",L.required=!1,L.default_value=void 0,L.options=[],L.validation_rules={},L.placeholder="",L.help_text="",R.value="")},{immediate:!0});const fe=()=>{ue.value||(L.options=[]),pe.value||me.value||(L.validation_rules={})},he=()=>{L.options||(L.options=[]),L.options.push("")},_e=()=>{var e;if(ue.value){0===((null==(e=L.options)?void 0:e.filter(e=>""!==e.trim()))||[]).length?z.options="At least one option is required for select/multi-select fields":delete z.options}},be=()=>{switch(L.type){case"number":return"number";case"date":return"date";case"url":return"url";default:return"text"}},ye=()=>{switch(L.type){case"number":return"Numeric default value";case"date":return"Date in YYYY-MM-DD format";case"url":return"Valid URL";default:return"Default text value"}},ge=()=>{var e,l,a,t;if((()=>{var e,l,a;Object.keys(z).forEach(e=>delete z[e]),L.name.trim()?/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(L.name)?!N.existingFieldNames.includes(L.name)||P.value&&(null==(e=N.field)?void 0:e.name)===L.name||(z.name="Field name must be unique"):z.name="Field name must be a valid identifier (letters, numbers, underscore, start with letter)":z.name="Field name is required",L.label.trim()||(z.label="Field label is required"),L.type||(z.type="Field type is required"),ue.value&&0===((null==(l=L.options)?void 0:l.filter(e=>""!==e.trim()))||[]).length&&(z.options="At least one option is required");if(null==(a=L.validation_rules)?void 0:a.pattern)try{new RegExp(L.validation_rules.pattern)}catch(t){z.pattern="Invalid regular expression"}return 0===Object.keys(z).length})()){O.value=!0;try{let i;if(R.value.trim())switch(L.type){case"number":i=Number(R.value);break;case"checkbox":i="true"===R.value;break;case"multi_select":i=R.value.split(",").map(e=>e.trim());break;default:i=R.value}const s={name:L.name.trim(),label:L.label.trim(),type:L.type,description:(null==(e=L.description)?void 0:e.trim())||void 0,required:L.required,default_value:i,options:ue.value?null==(l=L.options)?void 0:l.filter(e=>""!==e.trim()):void 0,validation_rules:Object.keys(L.validation_rules||{}).length>0?L.validation_rules:void 0,placeholder:(null==(a=L.placeholder)?void 0:a.trim())||void 0,help_text:(null==(t=L.help_text)?void 0:t.trim())||void 0};A("save",s)}finally{O.value=!1}}};return(e,l)=>(S(),p("div",$,[m("div",B,[m("h3",I,h(P.value?"Edit Field":"Add Field"),1),P.value?(S(),v(U,{key:0,variant:"ghost",size:"sm",onClick:l[0]||(l[0]=l=>e.$emit("cancel")),"aria-label":"Cancel editing"},{default:_(()=>[...l[15]||(l[15]=[b(" Cancel ",-1)])]),_:1})):f("",!0)]),m("form",{onSubmit:y(ge,["prevent"]),class:"field-editor__form"},[m("div",H,[g(T,{modelValue:L.name,"onUpdate:modelValue":l[1]||(l[1]=e=>L.name=e),label:"Field Name",placeholder:"e.g., photographer_name",required:"",error:z.name,hint:"Must be unique and valid identifier (letters, numbers, underscore)"},null,8,["modelValue","error"])]),m("div",J,[g(T,{modelValue:L.label,"onUpdate:modelValue":l[2]||(l[2]=e=>L.label=e),label:"Field Label",placeholder:"e.g., Photographer Name",required:"",error:z.label,hint:"Display name for users"},null,8,["modelValue","error"])]),m("div",Y,[g(E,{modelValue:L.type,"onUpdate:modelValue":l[3]||(l[3]=e=>L.type=e),options:de,label:"Field Type",required:"",error:z.type,onChange:fe},null,8,["modelValue","error"])]),m("div",Z,[l[16]||(l[16]=m("label",{class:"form-label"},"Description",-1)),k(m("textarea",{"onUpdate:modelValue":l[4]||(l[4]=e=>L.description=e),class:"form-textarea",rows:"3",placeholder:"Optional description for this field"},null,512),[[x,L.description]])]),m("div",K,[m("label",W,[k(m("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>L.required=e),type:"checkbox",class:"checkbox-input"},null,512),[[V,L.required]]),l[17]||(l[17]=m("span",null,"Required field",-1))])]),ce.value?(S(),p("div",G,[g(T,{modelValue:R.value,"onUpdate:modelValue":l[6]||(l[6]=e=>R.value=e),label:`Default Value (${L.type})`,type:be(),error:z.default_value,hint:ye()},null,8,["modelValue","label","type","error","hint"])])):f("",!0),ue.value?(S(),p("div",Q,[l[20]||(l[20]=m("label",{class:"form-label"},"Options",-1)),m("div",X,[(S(!0),p(w,null,C(L.options,(e,a)=>(S(),p("div",{key:a,class:"options-list__item"},[g(T,{modelValue:L.options[a],"onUpdate:modelValue":e=>L.options[a]=e,placeholder:`Option ${a+1}`,onBlur:_e},null,8,["modelValue","onUpdate:modelValue","placeholder"]),g(U,{variant:"ghost",size:"sm",onClick:e=>(e=>{L.options&&L.options.splice(e,1)})(a),"aria-label":"Remove option"},{default:_(()=>[...l[18]||(l[18]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),_:1},8,["onClick"])]))),128)),g(U,{variant:"secondary",size:"sm",onClick:he,type:"button"},{default:_(()=>[...l[19]||(l[19]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Add Option ",-1)])]),_:1})]),z.options?(S(),p("p",ee,h(z.options),1)):f("",!0)])):f("",!0),m("div",le,[l[21]||(l[21]=m("label",{class:"form-label"},"Validation Rules",-1)),m("div",ae,[pe.value?(S(),p("div",te,[g(T,{modelValue:L.validation_rules.min_length,"onUpdate:modelValue":l[7]||(l[7]=e=>L.validation_rules.min_length=e),modelModifiers:{number:!0},type:"number",label:"Min Length",placeholder:"0"},null,8,["modelValue"]),g(T,{modelValue:L.validation_rules.max_length,"onUpdate:modelValue":l[8]||(l[8]=e=>L.validation_rules.max_length=e),modelModifiers:{number:!0},type:"number",label:"Max Length",placeholder:"255"},null,8,["modelValue"])])):f("",!0),me.value?(S(),p("div",ie,[g(T,{modelValue:L.validation_rules.min_value,"onUpdate:modelValue":l[9]||(l[9]=e=>L.validation_rules.min_value=e),modelModifiers:{number:!0},type:"number",label:"Min Value",placeholder:"0"},null,8,["modelValue"]),g(T,{modelValue:L.validation_rules.max_value,"onUpdate:modelValue":l[10]||(l[10]=e=>L.validation_rules.max_value=e),modelModifiers:{number:!0},type:"number",label:"Max Value",placeholder:"100"},null,8,["modelValue"])])):f("",!0),ve.value?(S(),p("div",se,[g(T,{modelValue:L.validation_rules.pattern,"onUpdate:modelValue":l[11]||(l[11]=e=>L.validation_rules.pattern=e),label:"Pattern (Regex)",placeholder:"e.g., ^[A-Z]+$",error:z.pattern,hint:"Regular expression for validation"},null,8,["modelValue","error"])])):f("",!0)])]),m("div",oe,[g(T,{modelValue:L.help_text,"onUpdate:modelValue":l[12]||(l[12]=e=>L.help_text=e),label:"Help Text",placeholder:"Optional help text shown to users",hint:"Displayed below the field in forms"},null,8,["modelValue"])]),m("div",re,[g(T,{modelValue:L.placeholder,"onUpdate:modelValue":l[13]||(l[13]=e=>L.placeholder=e),label:"Placeholder",placeholder:"e.g., Enter photographer name",hint:"Placeholder text for input field"},null,8,["modelValue"])]),m("div",ne,[g(U,{variant:"ghost",onClick:l[14]||(l[14]=l=>e.$emit("cancel")),type:"button"},{default:_(()=>[...l[22]||(l[22]=[b(" Cancel ",-1)])]),_:1}),g(U,{variant:"primary",type:"submit",loading:O.value},{default:_(()=>[b(h(P.value?"Update Field":"Add Field"),1)]),_:1},8,["loading"])])],32)]))}}),[["__scopeId","data-v-7854882c"]]),ue={class:"metadata-schema-page"},ce={class:"metadata-schema-page__toolbar"},pe={class:"metadata-schema-page__search"},me={class:"metadata-schema-page__layout"},ve={class:"metadata-schema-page__sidebar"},fe={class:"schema-list"},he=["onClick","onKeydown","aria-label"],_e={class:"schema-list__header"},be={class:"schema-list__name"},ye={key:0,class:"schema-list__description"},ge={class:"schema-list__meta"},ke={class:"schema-list__fields-count"},xe={class:"schema-list__applies-to"},Ve={key:0,class:"schema-list__empty",role:"status","aria-live":"polite"},we={class:"metadata-schema-page__editor"},Ce={key:0,class:"editor-empty"},Se={key:1,class:"schema-editor"},De={class:"schema-editor__header"},Fe={class:"schema-editor__title-group"},Me={class:"schema-editor__actions"},je={class:"schema-editor__section"},qe={class:"applies-to-checkboxes"},Ue=["value","checked","onChange"],Ne={class:"schema-editor__section"},Ae={class:"fields-header"},Oe=["onDragstart","onDragover","onDrop","aria-label"],ze={class:"field-card__content"},Te={class:"field-card__header"},Pe={class:"field-card__name"},Ee={key:0,class:"field-card__description"},Le={class:"field-card__actions"},Re={key:0,class:"fields-list__empty",role:"status"},$e={class:"metadata-schema-page__field-editor"},Be={key:1,class:"field-editor-empty"},Ie=N(r({__name:"MetadataSchemaPage",setup(e){const l={props:{modelValue:String,label:String,placeholder:String},emits:["update:modelValue"],template:'\n    <div>\n      <label v-if="label" class="form-label">{{ label }}</label>\n      <textarea\n        :value="modelValue"\n        @input="$emit(\'update:modelValue\', $event.target.value)"\n        :placeholder="placeholder"\n        class="form-textarea"\n        rows="3"\n      />\n    </div>\n  '},a=F(),t=A(),i=z(),r=O(),c=n(""),k=n(null),x=n(null),V=n(-1),N=n(null),E=n(!1),$=n(-1),B=n(null),I=d({name:"",description:"",applies_to:[],fields:[]}),H=d({}),J=u(()=>t.hasPermission.value("admin.schema_manage")),Y=u(()=>t.hasPermission.value("admin.schema_manage")),Z=u(()=>{if(!c.value)return i.schemas;const e=c.value.toLowerCase();return i.schemas.filter(l=>{var a;return l.name.toLowerCase().includes(e)||(null==(a=l.description)?void 0:a.toLowerCase().includes(e))})}),K=u(()=>I.fields.map(e=>e.name).filter((e,l)=>l!==V.value)),W=u(()=>!!k.value&&(I.name!==k.value.name||I.description!==(k.value.description||"")||JSON.stringify(I.applies_to.sort())!==JSON.stringify(k.value.applies_to.sort())||JSON.stringify(I.fields)!==JSON.stringify(k.value.fields))),G=[{value:"image",label:"Images"},{value:"video",label:"Videos"},{value:"document",label:"Documents"},{value:"audio",label:"Audio"},{value:"all",label:"All Types"}],Q=()=>o(this,null,function*(){try{yield i.fetchSchemas()}catch(e){r.addNotification({type:"error",title:"Error",message:"Failed to load schemas"})}}),X=R(()=>{},300),ee=e=>o(this,null,function*(){try{const l=yield i.getSchema(e.id);k.value=l,x.value=null,V.value=-1,I.name=l.name,I.description=l.description||"",I.applies_to=[...l.applies_to],I.fields=l.fields.map(e=>s({},e))}catch(l){r.addNotification({type:"error",title:"Error",message:"Failed to load schema"})}}),le=()=>{k.value=null,x.value=null,I.name="",I.description="",I.applies_to=[],I.fields=[]},ae=()=>{x.value=null,V.value=-1},te=e=>{V.value>=0?I.fields[V.value]=e:I.fields.push(e),x.value=null,V.value=-1},ie=()=>{$.value=-1},se=()=>o(this,null,function*(){if(I.name.trim())if(0!==I.fields.length){E.value=!0;try{if(k.value){const e={name:I.name,description:I.description||void 0,applies_to:I.applies_to,fields:I.fields};yield i.updateSchema(k.value.id,e),r.addNotification({type:"success",title:"Success",message:"Schema updated successfully"})}else{const e={name:I.name,description:I.description||void 0,applies_to:I.applies_to,fields:I.fields,is_active:!0},l=yield i.createSchema(e);k.value=l,r.addNotification({type:"success",title:"Success",message:"Schema created successfully"})}yield Q()}catch(e){r.addNotification({type:"error",title:"Error",message:"Failed to save schema"})}finally{E.value=!1}}else r.addNotification({type:"warning",title:"Warning",message:"Schema must have at least one field"});else H.name="Schema name is required"}),oe=()=>{k.value&&(N.value=k.value)},re=()=>o(this,null,function*(){if(N.value)try{yield i.deleteSchema(N.value.id),N.value=null,k.value=null,r.addNotification({type:"success",title:"Success",message:"Schema deleted successfully"}),yield Q()}catch(e){r.addNotification({type:"error",title:"Error",message:"Failed to delete schema"})}}),ne=e=>({text:"Text",textarea:"Textarea",number:"Number",date:"Date",date_range:"Date Range",select:"Select",multi_select:"Multi-select",checkbox:"Checkbox",file_upload:"File Upload",url:"URL"}[e]||e);return D(()=>o(this,null,function*(){t.hasPermission.value("admin.schema_manage")?yield Q():yield a.push({name:"forbidden"})})),(e,a)=>(S(),p("div",ue,[m("div",ce,[J.value?(S(),v(U,{key:0,variant:"primary",onClick:le,"aria-label":"Create new schema"},{default:_(()=>[...a[5]||(a[5]=[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Create Schema ",-1)])]),_:1})):f("",!0),m("div",pe,[g(T,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),type:"search",placeholder:"Search schemas...",onInput:M(X),"aria-label":"Search schemas"},null,8,["modelValue","onInput"])])]),m("div",me,[m("div",ve,[m("div",fe,[(S(!0),p(w,null,C(Z.value,e=>{var l,a;return S(),p("div",{key:e.id,class:q(["schema-list__item",{"schema-list__item--active":(null==(l=k.value)?void 0:l.id)===e.id}]),onClick:l=>ee(e),role:"button",tabindex:"0",onKeydown:[j(l=>ee(e),["enter"]),j(y(l=>ee(e),["prevent"]),["space"])],"aria-label":`Select schema ${e.name}`},[m("div",_e,[m("h4",be,h(e.name),1),g(P,{variant:e.is_active?"success":"warning",size:"sm"},{default:_(()=>[b(h(e.is_active?"Active":"Inactive"),1)]),_:2},1032,["variant"])]),e.description?(S(),p("p",ye,h(e.description),1)):f("",!0),m("div",ge,[m("span",ke,h(e.fields.length)+" field"+h(1!==e.fields.length?"s":""),1),m("span",xe,h((a=e.applies_to,a.includes("all")?"All Types":a.map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(", "))),1)])],42,he)}),128)),0===Z.value.length?(S(),p("div",Ve,[a[7]||(a[7]=m("p",null,"No schemas found",-1)),J.value?(S(),v(U,{key:0,variant:"secondary",size:"sm",onClick:le},{default:_(()=>[...a[6]||(a[6]=[b(" Create First Schema ",-1)])]),_:1})):f("",!0)])):f("",!0)])]),m("div",we,[k.value?(S(),p("div",Se,[m("div",De,[m("div",Fe,[g(T,{modelValue:I.name,"onUpdate:modelValue":a[1]||(a[1]=e=>I.name=e),label:"Schema Name",required:"",error:H.name},null,8,["modelValue","error"]),g(l,{modelValue:I.description,"onUpdate:modelValue":a[2]||(a[2]=e=>I.description=e),label:"Description",placeholder:"Optional description for this schema"},null,8,["modelValue"])]),m("div",Me,[g(U,{variant:"secondary",size:"sm",onClick:se,loading:E.value,disabled:!W.value},{default:_(()=>[...a[9]||(a[9]=[b(" Save Schema ",-1)])]),_:1},8,["loading","disabled"]),g(U,{variant:"ghost",size:"sm",onClick:oe,disabled:!Y.value},{default:_(()=>[...a[10]||(a[10]=[b(" Delete ",-1)])]),_:1},8,["disabled"])])]),m("div",je,[a[11]||(a[11]=m("label",{class:"form-label"},"Applies To",-1)),m("div",qe,[(S(),p(w,null,C(G,e=>m("label",{key:e.value,class:"checkbox-label"},[m("input",{type:"checkbox",value:e.value,checked:I.applies_to.includes(e.value),onChange:l=>((e,l)=>{l.target.checked?"all"===e?I.applies_to=["all"]:(I.applies_to=I.applies_to.filter(e=>"all"!==e),I.applies_to.includes(e)||I.applies_to.push(e)):I.applies_to=I.applies_to.filter(l=>l!==e)})(e.value,l),class:"checkbox-input"},null,40,Ue),m("span",null,h(e.label),1)])),64))])]),m("div",Ne,[m("div",Ae,[a[13]||(a[13]=m("h3",{class:"fields-header__title"},"Fields",-1)),g(U,{variant:"secondary",size:"sm",onClick:ae,"aria-label":"Add new field"},{default:_(()=>[...a[12]||(a[12]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Add Field ",-1)])]),_:1})]),m("div",{class:"fields-list",ref_key:"fieldsListRef",ref:B},[(S(!0),p(w,null,C(I.fields,(e,l)=>{return S(),p("div",{key:e.name||`field-${l}`,draggable:!0,onDragstart:e=>((e,l)=>{$.value=l,e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",String(l)))})(e,l),onDragover:y(e=>{return(l=e).preventDefault(),void(l.dataTransfer&&(l.dataTransfer.dropEffect="move"));var l},["prevent"]),onDrop:e=>((e,l)=>{e.preventDefault();const a=$.value;if(-1!==a&&a!==l){const e=[...I.fields],[t]=e.splice(a,1);e.splice(l,0,t),I.fields=e}$.value=-1})(e,l),onDragend:ie,class:q(["field-card",{"field-card--dragging":$.value===l}]),role:"button",tabindex:"0","aria-label":`Field ${e.label||e.name}, drag to reorder`},[a[17]||(a[17]=m("div",{class:"field-card__drag-handle","aria-label":"Drag handle"},[m("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8h16M4 16h16"})])],-1)),m("div",ze,[m("div",Te,[m("span",Pe,h(e.label||e.name),1),g(P,{variant:(t=e.type,{text:"info",textarea:"info",number:"success",date:"warning",select:"info",multi_select:"info",checkbox:"neutral",file_upload:"warning",url:"info"}[t]||"neutral"),size:"sm"},{default:_(()=>[b(h(ne(e.type)),1)]),_:2},1032,["variant"]),e.required?(S(),v(P,{key:0,variant:"warning",size:"sm"},{default:_(()=>[...a[14]||(a[14]=[b(" Required ",-1)])]),_:1})):f("",!0)]),e.description?(S(),p("p",Ee,h(e.description),1)):f("",!0)]),m("div",Le,[g(U,{variant:"ghost",size:"sm",onClick:a=>((e,l)=>{x.value=s({},e),V.value=l})(e,l),"aria-label":"Edit field"},{default:_(()=>[...a[15]||(a[15]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),b(" Edit ",-1)])]),_:1},8,["onClick"]),g(U,{variant:"ghost",size:"sm",onClick:e=>(e=>{confirm("Delete this field?")&&(I.fields.splice(e,1),V.value===e&&(x.value=null,V.value=-1))})(l),"aria-label":"Delete field"},{default:_(()=>[...a[16]||(a[16]=[m("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[m("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),b(" Delete ",-1)])]),_:1},8,["onClick"])])],42,Oe);var t}),128)),0===I.fields.length?(S(),p("div",Re,[...a[18]||(a[18]=[m("p",null,'No fields yet. Click "Add Field" to get started.',-1)])])):f("",!0)],512)])])):(S(),p("div",Ce,[...a[8]||(a[8]=[m("p",null,"Select a schema from the list to edit",-1)])]))]),m("div",$e,[x.value?(S(),v(de,{key:0,field:x.value,"existing-field-names":K.value,onSave:te,onCancel:a[3]||(a[3]=e=>x.value=null)},null,8,["field","existing-field-names"])):(S(),p("div",Be,[...a[19]||(a[19]=[m("p",null,"Select or add a field to edit",-1)])]))])]),N.value?(S(),v(L,{key:0,title:`Delete Schema: ${N.value.name}`,message:"This action cannot be undone. Are you sure?",onConfirm:re,onCancel:a[4]||(a[4]=e=>N.value=null)},null,8,["title"])):f("",!0)]))}}),[["__scopeId","data-v-2cb20d6f"]]);export{Ie as default};
//# sourceMappingURL=MetadataSchemaPage-DdQNFHWE.js.map
