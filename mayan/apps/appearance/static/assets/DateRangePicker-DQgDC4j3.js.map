{"version":3,"file":"DateRangePicker-DQgDC4j3.js","sources":["../../src/components/Common/DateRangePicker.vue"],"sourcesContent":["<template>\r\n  <div class=\"date-range-picker\" ref=\"containerRef\">\r\n    <div class=\"flex gap-2\">\r\n      <div class=\"flex-1\">\r\n        <label class=\"block text-xs text-neutral-600 dark:text-neutral-600 mb-1\">\r\n          От\r\n        </label>\r\n        <input\r\n          v-model=\"startDate\"\r\n          type=\"date\"\r\n          class=\"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md text-sm bg-neutral-0 dark:bg-neutral-0 text-neutral-900 dark:text-neutral-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n          @change=\"handleDateChange\"\r\n        />\r\n      </div>\r\n      <div class=\"flex-1\">\r\n        <label class=\"block text-xs text-neutral-600 dark:text-neutral-600 mb-1\">\r\n          До\r\n        </label>\r\n        <input\r\n          v-model=\"endDate\"\r\n          type=\"date\"\r\n          :min=\"startDate\"\r\n          class=\"w-full px-3 py-2 border border-neutral-300 dark:border-neutral-300 rounded-md text-sm bg-neutral-0 dark:bg-neutral-0 text-neutral-900 dark:text-neutral-900 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n          @change=\"handleDateChange\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Quick Presets -->\r\n    <div class=\"mt-2 flex flex-wrap gap-2\">\r\n      <button\r\n        v-for=\"preset in presets\"\r\n        :key=\"preset.value\"\r\n        :class=\"[\r\n          'px-2 py-1 text-xs rounded-md transition-colors',\r\n          isPresetActive(preset.value)\r\n            ? 'bg-primary-500 text-white'\r\n            : 'bg-neutral-100 dark:bg-neutral-100 text-neutral-700 dark:text-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-200'\r\n        ]\"\r\n        @click=\"applyPreset(preset.value)\"\r\n      >\r\n        {{ preset.label }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, watch } from 'vue'\r\n\r\ninterface Props {\r\n  modelValue?: [string, string] | null\r\n}\r\n\r\nconst emit = defineEmits<{\r\n  'update:modelValue': [value: [string, string] | null]\r\n}>()\r\n\r\nconst props = defineProps<Props>()\r\n\r\nconst containerRef = ref<HTMLElement | null>(null)\r\nconst startDate = ref('')\r\nconst endDate = ref('')\r\n\r\nconst presets = [\r\n  { value: 'today', label: 'Сегодня', getDates: () => getTodayRange() },\r\n  { value: 'week', label: 'Неделя', getDates: () => getWeekRange() },\r\n  { value: 'month', label: 'Месяц', getDates: () => getMonthRange() },\r\n  { value: 'year', label: 'Год', getDates: () => getYearRange() }\r\n]\r\n\r\nconst activePreset = ref<string | null>(null)\r\n\r\n// Initialize from modelValue\r\nwatch(\r\n  () => props.modelValue,\r\n  (value) => {\r\n    if (value && value.length === 2) {\r\n      startDate.value = value[0]\r\n      endDate.value = value[1]\r\n      activePreset.value = null\r\n    } else {\r\n      startDate.value = ''\r\n      endDate.value = ''\r\n      activePreset.value = null\r\n    }\r\n  },\r\n  { immediate: true }\r\n)\r\n\r\nfunction handleDateChange() {\r\n  if (startDate.value && endDate.value) {\r\n    emit('update:modelValue', [startDate.value, endDate.value])\r\n    activePreset.value = null\r\n  } else {\r\n    emit('update:modelValue', null)\r\n  }\r\n}\r\n\r\nfunction isPresetActive(presetValue: string): boolean {\r\n  return activePreset.value === presetValue\r\n}\r\n\r\nfunction applyPreset(presetValue: string) {\r\n  const preset = presets.find((p) => p.value === presetValue)\r\n  if (preset) {\r\n    const [start, end] = preset.getDates()\r\n    startDate.value = start\r\n    endDate.value = end\r\n    activePreset.value = presetValue\r\n    emit('update:modelValue', [start, end])\r\n  }\r\n}\r\n\r\nfunction getTodayRange(): [string, string] {\r\n  const today = new Date().toISOString().split('T')[0]\r\n  return [today, today]\r\n}\r\n\r\nfunction getWeekRange(): [string, string] {\r\n  const today = new Date()\r\n  const weekAgo = new Date(today)\r\n  weekAgo.setDate(today.getDate() - 7)\r\n  return [weekAgo.toISOString().split('T')[0], today.toISOString().split('T')[0]]\r\n}\r\n\r\nfunction getMonthRange(): [string, string] {\r\n  const today = new Date()\r\n  const monthAgo = new Date(today)\r\n  monthAgo.setMonth(today.getMonth() - 1)\r\n  return [monthAgo.toISOString().split('T')[0], today.toISOString().split('T')[0]]\r\n}\r\n\r\nfunction getYearRange(): [string, string] {\r\n  const today = new Date()\r\n  const yearAgo = new Date(today)\r\n  yearAgo.setFullYear(today.getFullYear() - 1)\r\n  return [yearAgo.toISOString().split('T')[0], today.toISOString().split('T')[0]]\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.date-range-picker {\r\n  width: 100%;\r\n}\r\n</style>\r\n\r\n"],"names":["emit","__emit","props","__props","containerRef","ref","startDate","endDate","presets","value","label","getDates","today","Date","toISOString","split","getTodayRange","weekAgo","setDate","getDate","getWeekRange","monthAgo","setMonth","getMonth","getMonthRange","yearAgo","setFullYear","getFullYear","getYearRange","activePreset","handleDateChange","watch","modelValue","length","immediate","_createElementBlock","class","_createElementVNode","_hoisted_1","_hoisted_2","_cache","$event","type","onChange","_hoisted_3","min","_hoisted_5","_Fragment","_renderList","preset","key","_normalizeClass","presetValue","onClick","find","p","start","end","applyPreset","_toDisplayString","_hoisted_6"],"mappings":"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"}