import{b as e,r as a,c as l,k as t,a as r,e as n,i as o,l as u,p as s,n as d,q as i,t as c,T as p,s as v,f,m as b,v as m,F as y,h as k,j as x}from"./vue-vendor-FOQ7SlVG.js";const h=["type","disabled","onKeydown","aria-expanded","aria-label"],g={key:0,class:"text-neutral-900 dark:text-neutral-900"},w={key:1,class:"text-neutral-500 dark:text-neutral-500"},V={key:0,class:"p-2 border-b border-neutral-300 dark:border-neutral-300"},C=["onKeydown"],K={class:"py-1",role:"listbox"},j=["aria-selected","onClick","onKeydown"],B={class:"flex items-center gap-2"},_=["checked"],L={key:1,class:"px-3 py-2 text-sm text-neutral-500 dark:text-neutral-500 text-center"},E=e({__name:"Select",props:{modelValue:{},options:{},placeholder:{default:"Выберите..."},label:{},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},type:{default:"button"}},emits:["update:modelValue","change"],setup(e,{emit:E}){const q=e,z=E,F=a(null),M=a(!1),O=a(""),R=l(()=>["w-full","px-3","py-2","text-sm","text-left","bg-neutral-0","dark:bg-neutral-0","border","border-neutral-300","dark:border-neutral-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:border-transparent","flex","items-center","justify-between","gap-2",q.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer hover:border-neutral-400 dark:hover:border-neutral-400"].filter(Boolean).join(" ")),S=l(()=>q.options.map(e=>"string"==typeof e?{value:e,label:e}:e)),T=l(()=>{if(!q.searchable||!O.value)return S.value;const e=O.value.toLowerCase();return S.value.filter(a=>a.label.toLowerCase().includes(e))}),U=l(()=>{if(q.multiple){const e=q.modelValue||[];if(0===e.length)return"";if(1===e.length){const a=S.value.find(a=>a.value===e[0]);return(null==a?void 0:a.label)||""}return`Выбрано: ${e.length}`}{const e=q.modelValue;if(!e)return"";const a=S.value.find(a=>a.value===e);return(null==a?void 0:a.label)||""}});function $(e){return e.value}function A(e){return e.label}function D(e){if(q.multiple){return(q.modelValue||[]).includes(e.value)}return q.modelValue===e.value}function G(e){if(!e.disabled)if(q.multiple){const a=q.modelValue||[];let l;l=-1===a.indexOf(e.value)?[...a,e.value]:a.filter(a=>a!==e.value),z("update:modelValue",l),z("change",l)}else z("update:modelValue",e.value),z("change",e.value),I()}function H(){q.disabled||(M.value=!M.value,M.value&&(O.value=""))}function I(){M.value=!1,O.value=""}function J(e){F.value&&!F.value.contains(e.target)&&I()}return t(()=>{document.addEventListener("click",J)}),r(()=>{document.removeEventListener("click",J)}),(a,l)=>(x(),n("div",{class:"relative",ref_key:"selectRef",ref:F},[o("button",{type:e.type,disabled:e.disabled,class:d(R.value),onClick:H,onKeydown:[s(i(H,["prevent"]),["enter"]),s(i(H,["prevent"]),["space"]),s(I,["escape"])],"aria-expanded":M.value,"aria-haspopup":!0,"aria-label":e.label||e.placeholder},[U.value?(x(),n("span",g,c(U.value),1)):(x(),n("span",w,c(e.placeholder),1)),(x(),n("svg",{class:d(["w-5 h-5 transition-transform",M.value?"transform rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...l[4]||(l[4]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],42,h),u(p,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:v(()=>[M.value?(x(),n("div",{key:0,class:"absolute z-50 mt-1 w-full bg-neutral-0 dark:bg-neutral-0 border border-neutral-300 dark:border-neutral-300 rounded-md shadow-lg max-h-60 overflow-auto",onClick:l[3]||(l[3]=i(()=>{},["stop"]))},[e.searchable?(x(),n("div",V,[b(o("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>O.value=e),type:"text",placeholder:"Поиск...",class:"w-full px-3 py-2 text-sm border border-neutral-300 dark:border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",onClick:l[1]||(l[1]=i(()=>{},["stop"])),onKeydown:s(i(I,["stop"]),["escape"])},null,40,C),[[m,O.value]])])):f("",!0),o("ul",K,[(x(!0),n(y,null,k(T.value,a=>(x(),n("li",{key:$(a),class:d(["px-3 py-2 text-sm cursor-pointer transition-colors",D(a)?"bg-primary-50 dark:bg-primary-50 text-primary-600 dark:text-primary-600":"text-neutral-700 dark:text-neutral-700 hover:bg-neutral-100 dark:hover:bg-neutral-100"]),role:"option","aria-selected":D(a),onClick:e=>G(a),onKeydown:[s(i(e=>G(a),["prevent"]),["enter"]),s(i(e=>G(a),["prevent"]),["space"])]},[o("div",B,[e.multiple?(x(),n("input",{key:0,type:"checkbox",checked:D(a),class:"w-4 h-4 text-primary-500 rounded border-neutral-300 focus:ring-primary-500",onClick:l[2]||(l[2]=i(()=>{},["stop"]))},null,8,_)):f("",!0),o("span",null,c(A(a)),1)])],42,j))),128))]),0===T.value.length?(x(),n("div",L," Нет вариантов ")):f("",!0)])):f("",!0)]),_:1})],512))}});export{E as _};
//# sourceMappingURL=Select.vue_vue_type_script_setup_true_lang-CMc7GAxK.js.map
