{"version":3,"file":"UserManagementPage-CTbPA7Kt.js","sources":["../../src/components/Common/DataTable.vue","../../src/components/admin/CreateUserModal.vue","../../src/components/admin/EditUserModal.vue","../../src/components/admin/BulkRoleModal.vue","../../src/pages/admin/UserManagementPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"data-table\">\r\n    <!-- Loading State -->\r\n    <div v-if=\"isLoading\" class=\"data-table__loading\" role=\"status\" aria-live=\"polite\">\r\n      <div\r\n        v-for=\"i in 5\"\r\n        :key=\"i\"\r\n        class=\"data-table__skeleton-row\"\r\n        :aria-label=\"`Loading row ${i}`\"\r\n      />\r\n    </div>\r\n\r\n    <!-- Empty State -->\r\n    <div\r\n      v-else-if=\"items.length === 0\"\r\n      class=\"data-table__empty\"\r\n      role=\"status\"\r\n      aria-live=\"polite\"\r\n    >\r\n      <p>{{ emptyStateText }}</p>\r\n      <slot name=\"empty-action\" />\r\n    </div>\r\n\r\n    <!-- Table -->\r\n    <div v-else class=\"data-table__wrapper\">\r\n      <table\r\n        class=\"data-table__table\"\r\n        role=\"table\"\r\n        :aria-label=\"ariaLabel || 'Data table'\"\r\n      >\r\n        <thead>\r\n          <tr>\r\n            <!-- Checkbox (if selectable) -->\r\n            <th\r\n              v-if=\"selectable\"\r\n              class=\"data-table__cell data-table__cell--checkbox\"\r\n              scope=\"col\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                :checked=\"allSelected\"\r\n                :indeterminate=\"someSelected\"\r\n                @change=\"toggleAllSelected\"\r\n                aria-label=\"Select all rows\"\r\n              />\r\n            </th>\r\n\r\n            <!-- Column Headers -->\r\n            <th\r\n              v-for=\"col in columns\"\r\n              :key=\"col.key\"\r\n              :class=\"[\r\n                'data-table__cell',\r\n                `data-table__cell--${col.align || 'left'}`\r\n              ]\"\r\n              scope=\"col\"\r\n              role=\"columnheader\"\r\n              :aria-sort=\"getSortOrder(col.key)\"\r\n              @click=\"sortable && col.sortable !== false && handleSort(col.key)\"\r\n            >\r\n              <button\r\n                v-if=\"sortable && col.sortable !== false\"\r\n                class=\"data-table__sort-btn\"\r\n                :aria-label=\"`Sort by ${col.label}`\"\r\n                type=\"button\"\r\n              >\r\n                {{ col.label }}\r\n                <span\r\n                  v-if=\"sortKey === col.key\"\r\n                  class=\"data-table__sort-icon\"\r\n                  :aria-label=\"`Sorted ${sortOrder === 'asc' ? 'ascending' : 'descending'}`\"\r\n                >\r\n                  <svg\r\n                    v-if=\"sortOrder === 'asc'\"\r\n                    class=\"w-4 h-4\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M5 15l7-7 7 7\"\r\n                    />\r\n                  </svg>\r\n                  <svg\r\n                    v-else\r\n                    class=\"w-4 h-4\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M19 9l-7 7-7-7\"\r\n                    />\r\n                  </svg>\r\n                </span>\r\n              </button>\r\n              <span v-else>{{ col.label }}</span>\r\n            </th>\r\n\r\n            <!-- Actions Column -->\r\n            <th\r\n              v-if=\"$slots['row-actions']\"\r\n              class=\"data-table__cell data-table__cell--actions\"\r\n              scope=\"col\"\r\n            >\r\n              Actions\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr\r\n            v-for=\"(item, index) in items\"\r\n            :key=\"getRowKeyValue(item, index)\"\r\n            :class=\"{ 'data-table__row--selected': isRowSelected(item) }\"\r\n          >\r\n            <!-- Checkbox -->\r\n            <td\r\n              v-if=\"selectable\"\r\n              class=\"data-table__cell data-table__cell--checkbox\"\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                :value=\"getRowKeyValue(item, index)\"\r\n                :checked=\"isRowSelected(item)\"\r\n                @change=\"toggleRowSelected(item)\"\r\n                :aria-label=\"`Select row ${index + 1}`\"\r\n              />\r\n            </td>\r\n\r\n            <!-- Data Cells -->\r\n            <td\r\n              v-for=\"col in columns\"\r\n              :key=\"col.key\"\r\n              :class=\"[\r\n                'data-table__cell',\r\n                `data-table__cell--${col.align || 'left'}`\r\n              ]\"\r\n            >\r\n              <slot\r\n                :name=\"`col-${col.key}`\"\r\n                :item=\"item\"\r\n                :value=\"getNestedValue(item, col.key)\"\r\n                :index=\"index\"\r\n              >\r\n                {{ formatCellValue(getNestedValue(item, col.key), col.format) }}\r\n              </slot>\r\n            </td>\r\n\r\n            <!-- Actions -->\r\n            <td\r\n              v-if=\"$slots['row-actions']\"\r\n              class=\"data-table__cell data-table__cell--actions\"\r\n            >\r\n              <slot name=\"row-actions\" :item=\"item\" :index=\"index\" />\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\" generic=\"T extends Record<string, any>\">\r\nimport { ref, computed } from 'vue'\r\n\r\nexport interface Column {\r\n  key: string\r\n  label: string\r\n  align?: 'left' | 'center' | 'right'\r\n  format?: 'date' | 'currency' | 'boolean' | 'number'\r\n  sortable?: boolean\r\n  width?: string | number\r\n}\r\n\r\ninterface Props {\r\n  items: T[]\r\n  columns: Column[]\r\n  isLoading?: boolean\r\n  selectable?: boolean\r\n  sortable?: boolean\r\n  emptyStateText?: string\r\n  ariaLabel?: string\r\n  getRowKey?: (item: T, index: number) => string | number\r\n}\r\n\r\nconst props = withDefaults(defineProps<Props>(), {\r\n  isLoading: false,\r\n  selectable: false,\r\n  sortable: false,\r\n  emptyStateText: 'No data available',\r\n  getRowKey: (item: T, index: number) => (item.id ?? index) as string | number\r\n})\r\n\r\nconst emit = defineEmits<{\r\n  select: [items: T[]]\r\n  sort: [key: string, order: 'asc' | 'desc']\r\n  'action-click': [action: string, item: T]\r\n}>()\r\n\r\n// State\r\nconst selectedItems = ref<T[]>([])\r\nconst sortKey = ref<string>('')\r\nconst sortOrder = ref<'asc' | 'desc'>('asc')\r\n\r\n// Computed\r\nconst allSelected = computed(() => {\r\n  return (\r\n    props.items.length > 0 &&\r\n    selectedItems.value.length === props.items.length &&\r\n    props.items.every((item) => selectedItems.value.includes(item))\r\n  )\r\n})\r\n\r\nconst someSelected = computed(() => {\r\n  return (\r\n    selectedItems.value.length > 0 &&\r\n    selectedItems.value.length < props.items.length\r\n  )\r\n})\r\n\r\n// Methods\r\nconst toggleAllSelected = (): void => {\r\n  if (allSelected.value) {\r\n    selectedItems.value = []\r\n  } else {\r\n    selectedItems.value = [...props.items]\r\n  }\r\n  emit('select', selectedItems.value)\r\n}\r\n\r\nconst toggleRowSelected = (item: T): void => {\r\n  const index = selectedItems.value.findIndex(\r\n    (selected) => getRowKeyValue(selected, -1) === getRowKeyValue(item, -1)\r\n  )\r\n  if (index > -1) {\r\n    selectedItems.value.splice(index, 1)\r\n  } else {\r\n    selectedItems.value.push(item)\r\n  }\r\n  emit('select', selectedItems.value)\r\n}\r\n\r\nconst isRowSelected = (item: T): boolean => {\r\n  return selectedItems.value.some(\r\n    (selected) => getRowKeyValue(selected, -1) === getRowKeyValue(item, -1)\r\n  )\r\n}\r\n\r\nconst handleSort = (key: string): void => {\r\n  if (sortKey.value === key) {\r\n    sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc'\r\n  } else {\r\n    sortKey.value = key\r\n    sortOrder.value = 'asc'\r\n  }\r\n  emit('sort', key, sortOrder.value)\r\n}\r\n\r\nconst getSortOrder = (\r\n  key: string\r\n): 'ascending' | 'descending' | 'none' => {\r\n  if (sortKey.value !== key) return 'none'\r\n  return sortOrder.value === 'asc' ? 'ascending' : 'descending'\r\n}\r\n\r\nconst getNestedValue = (obj: T, path: string): any => {\r\n  return path.split('.').reduce((acc, part) => acc?.[part], obj)\r\n}\r\n\r\nconst formatCellValue = (value: any, format?: string): string => {\r\n  if (value === null || value === undefined) return '—'\r\n\r\n  switch (format) {\r\n    case 'date':\r\n      return new Date(value).toLocaleDateString('ru-RU', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric'\r\n      })\r\n    case 'currency':\r\n      return new Intl.NumberFormat('ru-RU', {\r\n        style: 'currency',\r\n        currency: 'RUB'\r\n      }).format(value)\r\n    case 'boolean':\r\n      return value ? 'Yes' : 'No'\r\n    case 'number':\r\n      return new Intl.NumberFormat('ru-RU').format(value)\r\n    default:\r\n      return String(value)\r\n  }\r\n}\r\n\r\nconst getRowKeyValue = (item: T, index: number): string | number => {\r\n  return props.getRowKey(item, index)\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"css\">\r\n.data-table {\r\n  width: 100%;\r\n  border-radius: var(--radius-lg, 8px);\r\n  background: var(--color-surface, #ffffff);\r\n  overflow: hidden;\r\n  border: 1px solid var(--color-border, #e5e7eb);\r\n}\r\n\r\n.data-table__wrapper {\r\n  overflow-x: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n  scrollbar-width: thin;\r\n}\r\n\r\n.data-table__wrapper::-webkit-scrollbar {\r\n  height: 8px;\r\n}\r\n\r\n.data-table__wrapper::-webkit-scrollbar-track {\r\n  background: var(--color-bg-1, #f9fafb);\r\n}\r\n\r\n.data-table__wrapper::-webkit-scrollbar-thumb {\r\n  background: var(--color-border, #d1d5db);\r\n  border-radius: 4px;\r\n}\r\n\r\n.data-table__wrapper::-webkit-scrollbar-thumb:hover {\r\n  background: var(--color-text-secondary, #9ca3af);\r\n}\r\n\r\n.data-table__table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  font-size: var(--font-size-base, 14px);\r\n}\r\n\r\n.data-table__table thead {\r\n  background: var(--color-bg-1, #f9fafb);\r\n  border-bottom: 2px solid var(--color-border, #e5e7eb);\r\n}\r\n\r\n.data-table__table th {\r\n  padding: 12px 16px;\r\n  text-align: left;\r\n  font-weight: 600;\r\n  color: var(--color-text, #111827);\r\n  white-space: nowrap;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n}\r\n\r\n.data-table__table td {\r\n  padding: 12px 16px;\r\n  border-bottom: 1px solid var(--color-border, #e5e7eb);\r\n  color: var(--color-text, #111827);\r\n}\r\n\r\n.data-table__table tbody tr {\r\n  transition: background-color 150ms ease;\r\n}\r\n\r\n.data-table__table tbody tr:hover {\r\n  background: rgba(0, 0, 0, 0.02);\r\n}\r\n\r\n.data-table__table tbody tr.data-table__row--selected {\r\n  background: rgba(59, 130, 246, 0.05);\r\n}\r\n\r\n.data-table__cell {\r\n  vertical-align: middle;\r\n}\r\n\r\n.data-table__cell--checkbox {\r\n  width: 44px;\r\n  text-align: center;\r\n}\r\n\r\n.data-table__cell--center {\r\n  text-align: center;\r\n}\r\n\r\n.data-table__cell--right {\r\n  text-align: right;\r\n}\r\n\r\n.data-table__cell--actions {\r\n  width: 120px;\r\n  text-align: right;\r\n}\r\n\r\n.data-table__sort-btn {\r\n  background: none;\r\n  border: none;\r\n  color: inherit;\r\n  font-size: inherit;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  padding: 0;\r\n  font-weight: 600;\r\n  transition: color 150ms ease;\r\n  width: 100%;\r\n}\r\n\r\n.data-table__sort-btn:hover {\r\n  color: var(--color-primary, #3b82f6);\r\n}\r\n\r\n.data-table__sort-btn:focus-visible {\r\n  outline: 2px solid var(--color-primary, #3b82f6);\r\n  outline-offset: 2px;\r\n  border-radius: 2px;\r\n}\r\n\r\n.data-table__sort-icon {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  color: var(--color-primary, #3b82f6);\r\n}\r\n\r\n.data-table__empty {\r\n  padding: 48px 24px;\r\n  text-align: center;\r\n  color: var(--color-text-secondary, #6b7280);\r\n}\r\n\r\n.data-table__loading {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.data-table__skeleton-row {\r\n  height: 48px;\r\n  background: linear-gradient(\r\n    90deg,\r\n    var(--color-bg-1, #f3f4f6) 25%,\r\n    rgba(0, 0, 0, 0.02) 50%,\r\n    var(--color-bg-1, #f3f4f6) 75%\r\n  );\r\n  background-size: 200% 100%;\r\n  animation: loading 1.5s infinite;\r\n  border-radius: 4px;\r\n}\r\n\r\n@keyframes loading {\r\n  0% {\r\n    background-position: 200% 0;\r\n  }\r\n  100% {\r\n    background-position: -200% 0;\r\n  }\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .data-table__table th,\r\n  .data-table__table td {\r\n    padding: 8px 12px;\r\n    font-size: var(--font-size-sm, 12px);\r\n  }\r\n\r\n  .data-table__sort-btn {\r\n    flex-direction: column;\r\n    gap: 2px;\r\n  }\r\n}\r\n\r\n/* Accessibility */\r\n@media (prefers-reduced-motion: reduce) {\r\n  .data-table__skeleton-row {\r\n    animation: none;\r\n    opacity: 0.5;\r\n  }\r\n\r\n  .data-table__table tbody tr {\r\n    transition: none;\r\n  }\r\n}\r\n\r\n/* High contrast mode */\r\n@media (prefers-contrast: high) {\r\n  .data-table__table tbody tr:hover {\r\n    background: rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  .data-table__table tbody tr.data-table__row--selected {\r\n    background: rgba(59, 130, 246, 0.2);\r\n    border: 2px solid var(--color-primary, #3b82f6);\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\r\n","<template>\n  <Modal :is-open=\"true\" title=\"Create User\" @close=\"$emit('close')\" size=\"md\">\n    <form class=\"create-user-form\">\n      <div class=\"form-group\">\n        <Input\n          v-model=\"formData.first_name\"\n          label=\"First Name\"\n          required\n          :error=\"errors.first_name\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <Input\n          v-model=\"formData.last_name\"\n          label=\"Last Name\"\n          required\n          :error=\"errors.last_name\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <Input\n          v-model=\"formData.username\"\n          label=\"Username\"\n          required\n          :error=\"errors.username\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <Input\n          v-model=\"formData.email\"\n          type=\"email\"\n          label=\"Email\"\n          required\n          :error=\"errors.email\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <Input\n          v-model=\"formData.password\"\n          type=\"password\"\n          label=\"Password\"\n          :required=\"!formData.send_invitation\"\n          :error=\"errors.password\"\n          hint=\"Leave empty to send invitation email\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <Select\n          v-model=\"formData.role\"\n          :options=\"roleOptions\"\n          label=\"Role\"\n          required\n          :error=\"errors.role\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label class=\"checkbox-label\">\n          <input\n            v-model=\"formData.is_active\"\n            type=\"checkbox\"\n            class=\"checkbox-input\"\n          />\n          <span>Active</span>\n        </label>\n      </div>\n\n      <div class=\"form-group\">\n        <label class=\"checkbox-label\">\n          <input\n            v-model=\"formData.send_invitation\"\n            type=\"checkbox\"\n            class=\"checkbox-input\"\n          />\n          <span>Send invitation email</span>\n        </label>\n      </div>\n    </form>\n\n    <template #footer>\n      <Button variant=\"ghost\" @click=\"$emit('close')\" type=\"button\">\n        Cancel\n      </Button>\n      <Button variant=\"primary\" @click=\"handleSubmit\" :loading=\"isSubmitting\">\n        Create User\n      </Button>\n    </template>\n  </Modal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue'\nimport type { CreateUserRequest } from '@/types/admin'\nimport Modal from '@/components/Common/Modal.vue'\nimport Input from '@/components/Common/Input.vue'\nimport Select from '@/components/Common/Select.vue'\nimport Button from '@/components/Common/Button.vue'\n\nconst emit = defineEmits<{\n  submit: [data: CreateUserRequest]\n  close: []\n}>()\n\nconst isSubmitting = ref(false)\nconst errors = reactive<Partial<Record<keyof CreateUserRequest, string>>>({})\n\nconst formData = reactive<CreateUserRequest & { send_invitation: boolean }>({\n  username: '',\n  email: '',\n  password: '',\n  first_name: '',\n  last_name: '',\n  role: 'viewer',\n  is_active: true,\n  send_invitation: false\n})\n\nconst roleOptions = [\n  { value: 'admin', label: 'Administrator' },\n  { value: 'editor', label: 'Editor' },\n  { value: 'viewer', label: 'Viewer' }\n]\n\nconst validate = (): boolean => {\n  Object.keys(errors).forEach((key) => delete errors[key as keyof typeof errors])\n\n  if (!formData.first_name.trim()) {\n    errors.first_name = 'First name is required'\n  }\n\n  if (!formData.last_name.trim()) {\n    errors.last_name = 'Last name is required'\n  }\n\n  if (!formData.username.trim()) {\n    errors.username = 'Username is required'\n  }\n\n  if (!formData.email.trim()) {\n    errors.email = 'Email is required'\n  } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n    errors.email = 'Invalid email format'\n  }\n\n  if (!formData.send_invitation && !formData.password) {\n    errors.password = 'Password is required if not sending invitation'\n  }\n\n  return Object.keys(errors).length === 0\n}\n\nconst handleSubmit = async (): Promise<void> => {\n  if (!validate()) return\n\n  isSubmitting.value = true\n  try {\n    const submitData: CreateUserRequest = {\n      ...formData,\n      password: formData.send_invitation ? undefined : formData.password\n    }\n    emit('submit', submitData)\n  } finally {\n    isSubmitting.value = false\n  }\n}\n</script>\n\n<style scoped lang=\"css\">\n.create-user-form {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  font-size: var(--font-size-base, 14px);\n  color: var(--color-text, #111827);\n}\n\n.checkbox-input {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n</style>\n\n","<template>\n  <Modal\n    :is-open=\"true\"\n    title=\"Edit User\"\n    @close=\"$emit('close')\"\n    size=\"md\"\n  >\n    <form v-if=\"user\" class=\"edit-user-form\">\n      <div class=\"form-group\">\n        <Input\n          v-model=\"formData.first_name\"\n          label=\"First Name\"\n          required\n          :error=\"errors.first_name\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <Input\n          v-model=\"formData.last_name\"\n          label=\"Last Name\"\n          required\n          :error=\"errors.last_name\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <Input\n          v-model=\"formData.email\"\n          type=\"email\"\n          label=\"Email\"\n          required\n          :error=\"errors.email\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <Select\n          v-model=\"formData.role\"\n          :options=\"roleOptions\"\n          label=\"Role\"\n          required\n          :error=\"errors.role\"\n        />\n      </div>\n\n      <div class=\"form-group\">\n        <label class=\"checkbox-label\">\n          <input\n            v-model=\"formData.is_active\"\n            type=\"checkbox\"\n            class=\"checkbox-input\"\n          />\n          <span>Active</span>\n        </label>\n      </div>\n    </form>\n\n    <template #footer>\n      <Button variant=\"ghost\" @click=\"$emit('close')\" type=\"button\">\n        Cancel\n      </Button>\n      <Button variant=\"primary\" @click=\"handleSubmit\" :loading=\"isSubmitting\">\n        Update User\n      </Button>\n    </template>\n  </Modal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, watch } from 'vue'\nimport type { User, UpdateUserRequest } from '@/types/admin'\nimport Modal from '@/components/Common/Modal.vue'\nimport Input from '@/components/Common/Input.vue'\nimport Select from '@/components/Common/Select.vue'\nimport Button from '@/components/Common/Button.vue'\n\ninterface Props {\n  user: User\n}\n\nconst props = defineProps<Props>()\n\nconst emit = defineEmits<{\n  submit: [data: UpdateUserRequest]\n  close: []\n}>()\n\nconst isSubmitting = ref(false)\nconst errors = reactive<Partial<Record<keyof UpdateUserRequest, string>>>({})\n\nconst formData = reactive<UpdateUserRequest>({\n  first_name: props.user.first_name,\n  last_name: props.user.last_name,\n  email: props.user.email,\n  role: props.user.role,\n  is_active: props.user.is_active\n})\n\nconst roleOptions = [\n  { value: 'admin', label: 'Administrator' },\n  { value: 'editor', label: 'Editor' },\n  { value: 'viewer', label: 'Viewer' }\n]\n\nwatch(\n  () => props.user,\n  (newUser) => {\n    if (newUser) {\n      formData.first_name = newUser.first_name\n      formData.last_name = newUser.last_name\n      formData.email = newUser.email\n      formData.role = newUser.role\n      formData.is_active = newUser.is_active\n    }\n  },\n  { immediate: true }\n)\n\nconst validate = (): boolean => {\n  Object.keys(errors).forEach((key) => delete errors[key as keyof typeof errors])\n\n  if (!formData.first_name?.trim()) {\n    errors.first_name = 'First name is required'\n  }\n\n  if (!formData.last_name?.trim()) {\n    errors.last_name = 'Last name is required'\n  }\n\n  if (!formData.email?.trim()) {\n    errors.email = 'Email is required'\n  } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n    errors.email = 'Invalid email format'\n  }\n\n  return Object.keys(errors).length === 0\n}\n\nconst handleSubmit = async (): Promise<void> => {\n  if (!validate()) return\n\n  isSubmitting.value = true\n  try {\n    emit('submit', { ...formData })\n  } finally {\n    isSubmitting.value = false\n  }\n}\n</script>\n\n<style scoped lang=\"css\">\n.edit-user-form {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  font-size: var(--font-size-base, 14px);\n  color: var(--color-text, #111827);\n}\n\n.checkbox-input {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n}\n</style>\n\n","<template>\n  <Modal\n    :is-open=\"true\"\n    title=\"Change Role for Selected Users\"\n    @close=\"$emit('close')\"\n    size=\"md\"\n  >\n    <form class=\"bulk-role-form\">\n      <p class=\"bulk-role-form__info\">\n        Change role for {{ selectedCount }} selected user(s)\n      </p>\n\n      <div class=\"form-group\">\n        <Select\n          v-model=\"selectedRole\"\n          :options=\"roleOptions\"\n          label=\"New Role\"\n          required\n          :error=\"errors.role\"\n        />\n      </div>\n    </form>\n\n    <template #footer>\n      <Button variant=\"ghost\" @click=\"$emit('close')\" type=\"button\">\n        Cancel\n      </Button>\n      <Button variant=\"primary\" @click=\"handleSubmit\" :disabled=\"!selectedRole\">\n        Update Role\n      </Button>\n    </template>\n  </Modal>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive } from 'vue'\nimport Modal from '@/components/Common/Modal.vue'\nimport Select from '@/components/Common/Select.vue'\nimport Button from '@/components/Common/Button.vue'\n\ninterface Props {\n  selectedCount: number\n}\n\nconst props = defineProps<Props>()\n\nconst emit = defineEmits<{\n  submit: [role: string]\n  close: []\n}>()\n\nconst selectedRole = ref<string>('')\nconst errors = reactive<{ role?: string }>({})\n\nconst roleOptions = [\n  { value: 'admin', label: 'Administrator' },\n  { value: 'editor', label: 'Editor' },\n  { value: 'viewer', label: 'Viewer' }\n]\n\nconst handleSubmit = (): void => {\n  if (!selectedRole.value) {\n    errors.role = 'Please select a role'\n    return\n  }\n\n  emit('submit', selectedRole.value)\n}\n</script>\n\n<style scoped lang=\"css\">\n.bulk-role-form {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.bulk-role-form__info {\n  font-size: var(--font-size-base, 14px);\n  color: var(--color-text-secondary, #6b7280);\n  margin-bottom: 8px;\n}\n\n.form-group {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n\n","<template>\r\n  <div class=\"user-management\">\r\n    <!-- Toolbar -->\r\n    <div class=\"user-management__toolbar\">\r\n      <Button\r\n        v-if=\"canCreateUser\"\r\n        variant=\"primary\"\r\n        @click=\"showCreateModal = true\"\r\n        aria-label=\"Create new user\"\r\n      >\r\n        <svg\r\n          class=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <path\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n            stroke-width=\"2\"\r\n            d=\"M12 4v16m8-8H4\"\r\n          />\r\n        </svg>\r\n        Add User\r\n      </Button>\r\n\r\n      <div class=\"user-management__search\">\r\n        <Input\r\n          v-model=\"searchQuery\"\r\n          type=\"search\"\r\n          placeholder=\"Search users...\"\r\n          @input=\"handleSearchDebounced\"\r\n          aria-label=\"Search users\"\r\n        />\r\n      </div>\r\n\r\n      <Select\r\n        v-model=\"filters.status\"\r\n        :options=\"statusOptions\"\r\n        placeholder=\"All statuses\"\r\n        @change=\"handleFilterChange\"\r\n        aria-label=\"Filter by status\"\r\n      />\r\n\r\n      <Select\r\n        v-model=\"filters.role\"\r\n        :options=\"roleOptions\"\r\n        placeholder=\"All roles\"\r\n        @change=\"handleFilterChange\"\r\n        aria-label=\"Filter by role\"\r\n      />\r\n    </div>\r\n\r\n    <!-- Bulk Actions -->\r\n    <div\r\n      v-if=\"selectedUsers.length > 0\"\r\n      class=\"user-management__bulk-actions\"\r\n      role=\"toolbar\"\r\n      aria-label=\"Bulk actions\"\r\n    >\r\n      <span class=\"user-management__bulk-count\">\r\n        {{ selectedUsers.length }} selected\r\n      </span>\r\n      <Button\r\n        variant=\"secondary\"\r\n        size=\"sm\"\r\n        @click=\"handleBulkDelete\"\r\n        :disabled=\"isLoading\"\r\n        aria-label=\"Delete selected users\"\r\n      >\r\n        Delete Selected\r\n      </Button>\r\n      <Button\r\n        variant=\"secondary\"\r\n        size=\"sm\"\r\n        @click=\"showBulkRoleModal = true\"\r\n        :disabled=\"isLoading\"\r\n        aria-label=\"Change role for selected users\"\r\n      >\r\n        Change Role\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"sm\"\r\n        @click=\"clearSelection\"\r\n        aria-label=\"Clear selection\"\r\n      >\r\n        Clear\r\n      </Button>\r\n    </div>\r\n\r\n    <!-- Data Table -->\r\n    <DataTable\r\n      :items=\"paginatedUsers\"\r\n      :columns=\"tableColumns\"\r\n      :is-loading=\"isLoading\"\r\n      :selectable=\"true\"\r\n      :sortable=\"true\"\r\n      empty-state-text=\"No users found\"\r\n      aria-label=\"Users management table\"\r\n      @select=\"handleSelectUsers\"\r\n      @sort=\"handleSort\"\r\n    >\r\n      <template #col-avatar=\"{ item }\">\r\n        <img\r\n          :src=\"\r\n            item.avatar_url ||\r\n            `https://ui-avatars.com/api/?name=${encodeURIComponent(\r\n              `${item.first_name}+${item.last_name}`\r\n            )}&size=32&background=random`\r\n          \"\r\n          :alt=\"`${item.first_name} ${item.last_name}`\"\r\n          class=\"user-avatar\"\r\n          loading=\"lazy\"\r\n        />\r\n      </template>\r\n\r\n      <template #col-name=\"{ item }\">\r\n        <div class=\"user-name\">\r\n          <span class=\"user-name__full\">\r\n            {{ item.first_name }} {{ item.last_name }}\r\n          </span>\r\n          <span class=\"user-name__username\">@{{ item.username }}</span>\r\n        </div>\r\n      </template>\r\n\r\n      <template #col-role=\"{ item }\">\r\n        <Select\r\n          v-if=\"canEditUser\"\r\n          :model-value=\"item.role\"\r\n          :options=\"roleOptions\"\r\n          size=\"sm\"\r\n          @change=\"(role) => handleUpdateUserRole(item, role)\"\r\n          :aria-label=\"`Change role for ${item.first_name} ${item.last_name}`\"\r\n        />\r\n        <Badge v-else :variant=\"getRoleBadgeVariant(item.role)\">\r\n          {{ formatRole(item.role) }}\r\n        </Badge>\r\n      </template>\r\n\r\n      <template #col-is_active=\"{ item }\">\r\n        <Badge :variant=\"item.is_active ? 'success' : 'warning'\">\r\n          {{ item.is_active ? 'Active' : 'Inactive' }}\r\n        </Badge>\r\n      </template>\r\n\r\n      <template #col-date_joined=\"{ item, value }\">\r\n        {{ formatDate(value) }}\r\n      </template>\r\n\r\n      <template #col-last_login=\"{ item, value }\">\r\n        {{ value ? formatDate(value) : 'Never' }}\r\n      </template>\r\n\r\n      <template #row-actions=\"{ item }\">\r\n        <div class=\"user-management__actions\">\r\n          <Button\r\n            v-if=\"canEditUser\"\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            @click=\"handleEditUser(item)\"\r\n            aria-label=\"Edit user\"\r\n          >\r\n            <svg\r\n              class=\"w-4 h-4\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\r\n              />\r\n            </svg>\r\n            Edit\r\n          </Button>\r\n          <Button\r\n            v-if=\"canDeleteUser\"\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            :disabled=\"item.is_superuser && !authStore.user?.is_superuser\"\r\n            @click=\"handleDeleteUser(item)\"\r\n            :aria-label=\"`Delete user ${item.first_name} ${item.last_name}`\"\r\n          >\r\n            <svg\r\n              class=\"w-4 h-4\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\r\n              />\r\n            </svg>\r\n            Delete\r\n          </Button>\r\n        </div>\r\n      </template>\r\n    </DataTable>\r\n\r\n    <!-- Pagination -->\r\n    <Pagination\r\n      :current-page=\"currentPage\"\r\n      :total-items=\"totalUsersCount\"\r\n      :page-size=\"pageSize\"\r\n      @page-change=\"handlePageChange\"\r\n    />\r\n\r\n    <!-- Modals -->\r\n    <CreateUserModal\r\n      v-if=\"showCreateModal\"\r\n      @submit=\"handleCreateUser\"\r\n      @close=\"showCreateModal = false\"\r\n    />\r\n\r\n    <EditUserModal\r\n      v-if=\"editingUser\"\r\n      :user=\"editingUser\"\r\n      @submit=\"handleUpdateUser\"\r\n      @close=\"editingUser = null\"\r\n    />\r\n\r\n    <DeleteConfirmModal\r\n      v-if=\"deletingUser\"\r\n      :title=\"`Delete User: ${deletingUser.first_name} ${deletingUser.last_name}`\"\r\n      :message=\"'This action cannot be undone. Are you sure you want to delete this user?'\"\r\n      @confirm=\"confirmDeleteUser\"\r\n      @cancel=\"deletingUser = null\"\r\n    />\r\n\r\n    <BulkRoleModal\r\n      v-if=\"showBulkRoleModal\"\r\n      :selected-count=\"selectedUsers.length\"\r\n      @submit=\"handleBulkChangeRole\"\r\n      @close=\"showBulkRoleModal = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted, watch } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport { useAuthStore } from '@/stores/authStore'\r\nimport { useAdminStore } from '@/stores/adminStore'\r\nimport { useNotificationStore } from '@/stores/notificationStore'\r\nimport { useDebounceFn } from '@vueuse/core'\r\nimport type {\r\n  User,\r\n  CreateUserRequest,\r\n  UpdateUserRequest,\r\n  GetUsersParams\r\n} from '@/types/admin'\r\nimport Button from '@/components/Common/Button.vue'\r\nimport Input from '@/components/Common/Input.vue'\r\nimport Select from '@/components/Common/Select.vue'\r\nimport Badge from '@/components/Common/Badge.vue'\r\nimport DataTable from '@/components/Common/DataTable.vue'\r\nimport Pagination from '@/components/Common/Pagination.vue'\r\nimport Modal from '@/components/Common/Modal.vue'\r\nimport CreateUserModal from '@/components/admin/CreateUserModal.vue'\r\nimport EditUserModal from '@/components/admin/EditUserModal.vue'\r\nimport DeleteConfirmModal from '@/components/admin/DeleteConfirmModal.vue'\r\nimport BulkRoleModal from '@/components/admin/BulkRoleModal.vue'\r\n\r\n// Hooks\r\nconst router = useRouter()\r\nconst authStore = useAuthStore()\r\nconst adminStore = useAdminStore()\r\nconst notificationStore = useNotificationStore()\r\n\r\n// State\r\nconst searchQuery = ref('')\r\nconst currentPage = ref(1)\r\nconst pageSize = ref(50)\r\nconst sortKey = ref<string>('')\r\nconst sortOrder = ref<'asc' | 'desc'>('asc')\r\nconst filters = ref<{ status: string; role: string }>({\r\n  status: '',\r\n  role: ''\r\n})\r\nconst isLoading = ref(false)\r\nconst showCreateModal = ref(false)\r\nconst editingUser = ref<User | null>(null)\r\nconst deletingUser = ref<User | null>(null)\r\nconst showBulkRoleModal = ref(false)\r\n\r\n// Computed\r\nconst canCreateUser = computed(() =>\r\n  authStore.hasPermission.value('admin.user_create')\r\n)\r\nconst canEditUser = computed(() =>\r\n  authStore.hasPermission.value('admin.user_edit')\r\n)\r\nconst canDeleteUser = computed(() =>\r\n  authStore.hasPermission.value('admin.user_delete')\r\n)\r\n\r\nconst selectedUsers = computed(() => {\r\n  const ids = adminStore.selectedUsers\r\n  return adminStore.users.filter((user) => ids.includes(user.id))\r\n})\r\n\r\nconst paginatedUsers = computed(() => adminStore.users)\r\nconst totalUsersCount = computed(() => adminStore.totalUsersCount)\r\n\r\nconst tableColumns = [\r\n  { key: 'avatar', label: '', width: 44, sortable: false },\r\n  { key: 'name', label: 'Name', align: 'left', sortable: true },\r\n  { key: 'email', label: 'Email', align: 'left', sortable: true },\r\n  { key: 'role', label: 'Role', align: 'center', sortable: true },\r\n  { key: 'is_active', label: 'Status', align: 'center', sortable: true },\r\n  {\r\n    key: 'date_joined',\r\n    label: 'Created',\r\n    align: 'left',\r\n    sortable: true,\r\n    format: 'date'\r\n  },\r\n  {\r\n    key: 'last_login',\r\n    label: 'Last Login',\r\n    align: 'left',\r\n    sortable: true,\r\n    format: 'date'\r\n  }\r\n]\r\n\r\nconst statusOptions = [\r\n  { value: '', label: 'All' },\r\n  { value: 'active', label: 'Active' },\r\n  { value: 'inactive', label: 'Inactive' }\r\n]\r\n\r\nconst roleOptions = [\r\n  { value: 'admin', label: 'Administrator' },\r\n  { value: 'editor', label: 'Editor' },\r\n  { value: 'viewer', label: 'Viewer' }\r\n]\r\n\r\n// Methods\r\nconst fetchUsers = async (): Promise<void> => {\r\n  isLoading.value = true\r\n  try {\r\n    const params: GetUsersParams = {\r\n      page: currentPage.value,\r\n      page_size: pageSize.value,\r\n      search: searchQuery.value || undefined,\r\n      status: filters.value.status || undefined,\r\n      role: filters.value.role || undefined\r\n    }\r\n    await adminStore.fetchUsers(params)\r\n  } catch (error) {\r\n    notificationStore.addNotification({\r\n      type: 'error',\r\n      title: 'Error',\r\n      message: 'Failed to load users. Please try again.'\r\n    })\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\nconst handleSearchDebounced = useDebounceFn(() => {\r\n  currentPage.value = 1\r\n  fetchUsers()\r\n}, 300)\r\n\r\nconst handleFilterChange = (): void => {\r\n  currentPage.value = 1\r\n  fetchUsers()\r\n}\r\n\r\nconst handleSort = (key: string, order: 'asc' | 'desc'): void => {\r\n  sortKey.value = key\r\n  sortOrder.value = order\r\n  // Note: API-level sorting would need to be implemented\r\n  // For now, this is handled on frontend\r\n  currentPage.value = 1\r\n  fetchUsers()\r\n}\r\n\r\nconst handleSelectUsers = (users: User[]): void => {\r\n  adminStore.selectUsers(users.map((u) => u.id))\r\n}\r\n\r\nconst clearSelection = (): void => {\r\n  adminStore.selectUsers([])\r\n}\r\n\r\nconst handlePageChange = (page: number): void => {\r\n  currentPage.value = page\r\n  fetchUsers()\r\n}\r\n\r\nconst handleCreateUser = async (data: CreateUserRequest): Promise<void> => {\r\n  try {\r\n    await adminStore.createUser(data)\r\n    showCreateModal.value = false\r\n    notificationStore.addNotification({\r\n      type: 'success',\r\n      title: 'Success',\r\n      message: 'User created successfully'\r\n    })\r\n    await fetchUsers()\r\n  } catch (error) {\r\n    notificationStore.addNotification({\r\n      type: 'error',\r\n      title: 'Error',\r\n      message: 'Failed to create user. Please try again.'\r\n    })\r\n  }\r\n}\r\n\r\nconst handleEditUser = (user: User): void => {\r\n  editingUser.value = user\r\n}\r\n\r\nconst handleUpdateUser = async (data: UpdateUserRequest): Promise<void> => {\r\n  if (!editingUser.value) return\r\n\r\n  try {\r\n    await adminStore.updateUser(editingUser.value.id, data)\r\n    editingUser.value = null\r\n    notificationStore.addNotification({\r\n      type: 'success',\r\n      title: 'Success',\r\n      message: 'User updated successfully'\r\n    })\r\n    await fetchUsers()\r\n  } catch (error) {\r\n    notificationStore.addNotification({\r\n      type: 'error',\r\n      title: 'Error',\r\n      message: 'Failed to update user. Please try again.'\r\n    })\r\n  }\r\n}\r\n\r\nconst handleDeleteUser = (user: User): void => {\r\n  deletingUser.value = user\r\n}\r\n\r\nconst confirmDeleteUser = async (): Promise<void> => {\r\n  if (!deletingUser.value) return\r\n\r\n  try {\r\n    await adminStore.deleteUser(deletingUser.value.id)\r\n    deletingUser.value = null\r\n    notificationStore.addNotification({\r\n      type: 'success',\r\n      title: 'Success',\r\n      message: 'User deleted successfully'\r\n    })\r\n    await fetchUsers()\r\n  } catch (error) {\r\n    notificationStore.addNotification({\r\n      type: 'error',\r\n      title: 'Error',\r\n      message: 'Failed to delete user. Please try again.'\r\n    })\r\n  }\r\n}\r\n\r\nconst handleUpdateUserRole = async (\r\n  user: User,\r\n  role: string\r\n): Promise<void> => {\r\n  try {\r\n    await adminStore.updateUser(user.id, { role: role as User['role'] })\r\n    notificationStore.addNotification({\r\n      type: 'success',\r\n      title: 'Success',\r\n      message: `User role updated to ${formatRole(role)}`\r\n    })\r\n    await fetchUsers()\r\n  } catch (error) {\r\n    notificationStore.addNotification({\r\n      type: 'error',\r\n      title: 'Error',\r\n      message: 'Failed to update user role. Please try again.'\r\n    })\r\n  }\r\n}\r\n\r\nconst handleBulkDelete = async (): Promise<void> => {\r\n  if (\r\n    !confirm(\r\n      `Delete ${selectedUsers.value.length} users? This action cannot be undone.`\r\n    )\r\n  )\r\n    return\r\n\r\n  try {\r\n    await adminStore.bulkUserOperation({\r\n      ids: selectedUsers.value.map((u) => u.id),\r\n      action: 'delete'\r\n    })\r\n    adminStore.selectUsers([])\r\n    notificationStore.addNotification({\r\n      type: 'success',\r\n      title: 'Success',\r\n      message: `${selectedUsers.value.length} users deleted successfully`\r\n    })\r\n    await fetchUsers()\r\n  } catch (error) {\r\n    notificationStore.addNotification({\r\n      type: 'error',\r\n      title: 'Error',\r\n      message: 'Failed to delete users. Please try again.'\r\n    })\r\n  }\r\n}\r\n\r\nconst handleBulkChangeRole = async (role: string): Promise<void> => {\r\n  try {\r\n    await adminStore.bulkUserOperation({\r\n      ids: selectedUsers.value.map((u) => u.id),\r\n      action: 'change_role',\r\n      data: { role }\r\n    })\r\n    adminStore.selectUsers([])\r\n    showBulkRoleModal.value = false\r\n    notificationStore.addNotification({\r\n      type: 'success',\r\n      title: 'Success',\r\n      message: `Role updated for ${selectedUsers.value.length} users`\r\n    })\r\n    await fetchUsers()\r\n  } catch (error) {\r\n    notificationStore.addNotification({\r\n      type: 'error',\r\n      title: 'Error',\r\n      message: 'Failed to update user roles. Please try again.'\r\n    })\r\n  }\r\n}\r\n\r\nconst formatRole = (role: string): string => {\r\n  const roleMap: Record<string, string> = {\r\n    admin: 'Administrator',\r\n    editor: 'Editor',\r\n    viewer: 'Viewer'\r\n  }\r\n  return roleMap[role] || role\r\n}\r\n\r\nconst getRoleBadgeVariant = (role: string): 'success' | 'warning' | 'info' => {\r\n  const variantMap: Record<string, 'success' | 'warning' | 'info'> = {\r\n    admin: 'info',\r\n    editor: 'success',\r\n    viewer: 'warning'\r\n  }\r\n  return variantMap[role] || 'warning'\r\n}\r\n\r\nconst formatDate = (date: string | null): string => {\r\n  if (!date) return '—'\r\n  return new Date(date).toLocaleDateString('ru-RU', {\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric'\r\n  })\r\n}\r\n\r\n// Lifecycle\r\nonMounted(async () => {\r\n  // Permission check\r\n  if (!authStore.hasPermission.value('admin.user_manage')) {\r\n    await router.push({ name: 'forbidden' })\r\n    return\r\n  }\r\n\r\n  await fetchUsers()\r\n})\r\n\r\n// Watch for store changes\r\nwatch(\r\n  () => adminStore.usersFilters,\r\n  () => {\r\n    filters.value = {\r\n      status: adminStore.usersFilters.status,\r\n      role: adminStore.usersFilters.role\r\n    }\r\n    searchQuery.value = adminStore.usersFilters.search\r\n  },\r\n  { immediate: true }\r\n)\r\n</script>\r\n\r\n<style scoped lang=\"css\">\r\n.user-management {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 24px;\r\n  padding: 24px;\r\n}\r\n\r\n.user-management__toolbar {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.user-management__search {\r\n  flex: 1;\r\n  min-width: 200px;\r\n}\r\n\r\n.user-management__bulk-actions {\r\n  display: flex;\r\n  gap: 12px;\r\n  align-items: center;\r\n  padding: 12px 16px;\r\n  background: var(--color-bg-1, #f9fafb);\r\n  border-radius: var(--radius-base, 6px);\r\n  border: 1px solid var(--color-border, #e5e7eb);\r\n}\r\n\r\n.user-management__bulk-count {\r\n  font-weight: 500;\r\n  color: var(--color-text, #111827);\r\n  margin-right: auto;\r\n}\r\n\r\n.user-management__actions {\r\n  display: flex;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.user-avatar {\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid var(--color-border, #e5e7eb);\r\n}\r\n\r\n.user-name {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n}\r\n\r\n.user-name__full {\r\n  font-weight: 500;\r\n  color: var(--color-text, #111827);\r\n}\r\n\r\n.user-name__username {\r\n  font-size: var(--font-size-sm, 12px);\r\n  color: var(--color-text-secondary, #6b7280);\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .user-management {\r\n    padding: 16px;\r\n    gap: 16px;\r\n  }\r\n\r\n  .user-management__toolbar {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n  }\r\n\r\n  .user-management__search {\r\n    width: 100%;\r\n  }\r\n\r\n  .user-management__bulk-actions {\r\n    flex-wrap: wrap;\r\n  }\r\n\r\n  .user-management__actions {\r\n    flex-direction: column;\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\r\n"],"names":["props","__props","emit","__emit","selectedItems","ref","sortKey","sortOrder","allSelected","computed","items","length","value","every","item","includes","someSelected","toggleAllSelected","isRowSelected","some","selected","getRowKeyValue","getNestedValue","obj","path","split","reduce","acc","part","formatCellValue","format","Date","toLocaleDateString","year","month","day","Intl","NumberFormat","style","currency","String","index","getRowKey","_openBlock","_createElementBlock","_hoisted_1","isLoading","_hoisted_2","_Fragment","_renderList","i","_createElementVNode","key","class","_hoisted_4","emptyStateText","_renderSlot","_ctx","$slots","_hoisted_5","role","ariaLabel","selectable","_hoisted_7","type","checked","indeterminate","onChange","columns","col","_normalizeClass","align","scope","onClick","$event","sortable","handleSort","label","_hoisted_12","_cache","d","_hoisted_13","_hoisted_14","_toDisplayString","_hoisted_15","_hoisted_16","findIndex","splice","push","toggleRowSelected","_hoisted_18","isSubmitting","errors","reactive","formData","username","email","password","first_name","last_name","is_active","send_invitation","roleOptions","handleSubmit","__async","this","Object","keys","forEach","trim","test","submitData","_createBlock","Modal","title","onClose","$emit","size","footer","_createVNode","Button","variant","loading","Input","modelValue","required","error","_hoisted_3","_hoisted_6","hint","Select","options","_hoisted_8","_hoisted_9","_vModelCheckbox","_hoisted_10","_hoisted_11","user","watch","newUser","immediate","_a","_b","_c","__spreadValues","selectedRole","disabled","selectedCount","router","useRouter","authStore","useAuthStore","adminStore","useAdminStore","notificationStore","useNotificationStore","searchQuery","currentPage","pageSize","filters","status","showCreateModal","editingUser","deletingUser","showBulkRoleModal","canCreateUser","hasPermission","canEditUser","canDeleteUser","selectedUsers","ids","users","filter","id","paginatedUsers","totalUsersCount","tableColumns","width","statusOptions","fetchUsers","params","page","page_size","search","addNotification","message","handleSearchDebounced","useDebounceFn","handleFilterChange","order","handleSelectUsers","selectUsers","map","u","clearSelection","handlePageChange","handleCreateUser","data","createUser","handleUpdateUser","updateUser","confirmDeleteUser","deleteUser","handleUpdateUserRole","formatRole","handleBulkDelete","confirm","bulkUserOperation","action","handleBulkChangeRole","admin","editor","viewer","formatDate","date","onMounted","name","usersFilters","fill","stroke","viewBox","placeholder","onInput","_unref","DataTable","onSelect","onSort","_withCtx","src","avatar_url","encodeURIComponent","alt","Badge","_createTextVNode","handleEditUser","is_superuser","handleDeleteUser","Pagination","onPageChange","CreateUserModal","onSubmit","EditUserModal","DeleteConfirmModal","onConfirm","onCancel","BulkRoleModal"],"mappings":"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"}