{"version":3,"file":"ForgotPasswordPage-Cn9iMmMv.js","sources":["../../src/pages/auth/ForgotPasswordPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"auth-page\">\r\n    <main class=\"auth-card\" role=\"main\" aria-labelledby=\"forgot-password-title\">\r\n      <h1 id=\"forgot-password-title\" class=\"auth-card__title\">Forgot password</h1>\r\n      <p class=\"auth-card__description\">\r\n        Enter your email and we will send a link to reset your password.\r\n      </p>\r\n\r\n      <form class=\"auth-form\" @submit.prevent=\"handleSubmit\" novalidate>\r\n        <label class=\"auth-form__label\" for=\"email\">\r\n          Email\r\n          <span class=\"auth-form__required\">*</span>\r\n        </label>\r\n        <input\r\n          id=\"email\"\r\n          type=\"email\"\r\n          class=\"auth-form__input\"\r\n          v-model=\"email\"\r\n          :disabled=\"isSubmitting || cooldown > 0\"\r\n          required\r\n          autocomplete=\"email\"\r\n          aria-invalid=\"emailError ? true : false\"\r\n          aria-describedby=\"email-error\"\r\n        />\r\n        <p v-if=\"emailError\" id=\"email-error\" class=\"auth-form__error\">{{ emailError }}</p>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          class=\"auth-form__submit\"\r\n          :disabled=\"isSubmitting || cooldown > 0 || confirmationSent\"\r\n          aria-live=\"polite\"\r\n        >\r\n          <span v-if=\"cooldown > 0\">\r\n            Try again in {{ cooldown }}s\r\n          </span>\r\n          <span v-else>Send reset link</span>\r\n        </button>\r\n      </form>\r\n\r\n      <p v-if=\"confirmationSent\" class=\"auth-form__success\">\r\n        If this email exists, we sent a reset link. Check your inbox.\r\n      </p>\r\n\r\n      <div v-if=\"errorMessage\" class=\"auth-form__error auth-form__error--global\">\r\n        {{ errorMessage }}\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, onBeforeUnmount } from 'vue'\r\nimport { authService } from '@/services/authService'\r\nimport { formatApiError } from '@/utils/errors'\r\n\r\nconst email = ref('')\r\nconst emailError = ref('')\r\nconst errorMessage = ref('')\r\nconst isSubmitting = ref(false)\r\nconst confirmationSent = ref(false)\r\nconst cooldown = ref(0)\r\nlet cooldownTimer: ReturnType<typeof setInterval> | null = null\r\n\r\nconst validateEmail = (value: string): boolean => {\r\n  const pattern =\r\n    /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n  if (!value) {\r\n    emailError.value = 'Email is required'\r\n    return false\r\n  }\r\n  if (!pattern.test(value)) {\r\n    emailError.value = 'Enter a valid email address'\r\n    return false\r\n  }\r\n  emailError.value = ''\r\n  return true\r\n}\r\n\r\nconst startCooldown = (): void => {\r\n  cooldown.value = 60\r\n  cooldownTimer = setInterval(() => {\r\n    cooldown.value -= 1\r\n    if (cooldown.value <= 0) {\r\n      cooldown.value = 0\r\n      if (cooldownTimer) {\r\n        clearInterval(cooldownTimer)\r\n        cooldownTimer = null\r\n      }\r\n    }\r\n  }, 1000)\r\n}\r\n\r\nconst handleSubmit = async (): Promise<void> => {\r\n  if (!validateEmail(email.value) || confirmationSent.value) {\r\n    return\r\n  }\r\n\r\n  isSubmitting.value = true\r\n  errorMessage.value = ''\r\n\r\n  try {\r\n    await authService.requestPasswordReset(email.value)\r\n    confirmationSent.value = true\r\n    startCooldown()\r\n  } catch (err) {\r\n    errorMessage.value = formatApiError(err)\r\n  } finally {\r\n    isSubmitting.value = false\r\n  }\r\n}\r\n\r\nonBeforeUnmount(() => {\r\n  if (cooldownTimer) {\r\n    clearInterval(cooldownTimer)\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.auth-page {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: var(--color-background, #f5f5f5);\r\n  padding: 24px;\r\n}\r\n\r\n.auth-card {\r\n  width: 100%;\r\n  max-width: 420px;\r\n  background: #fff;\r\n  padding: 32px;\r\n  border-radius: 16px;\r\n  box-shadow: 0 20px 50px rgba(15, 23, 42, 0.1);\r\n}\r\n\r\n.auth-card__title {\r\n  margin: 0 0 8px;\r\n  font-size: 1.75rem;\r\n  font-weight: 600;\r\n}\r\n\r\n.auth-card__description {\r\n  margin: 0 0 24px;\r\n  color: #4b5563;\r\n}\r\n\r\n.auth-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.auth-form__label {\r\n  font-weight: 500;\r\n}\r\n\r\n.auth-form__required {\r\n  color: #ef4444;\r\n  margin-left: 4px;\r\n}\r\n\r\n.auth-form__input {\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 8px;\r\n  padding: 12px 14px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.auth-form__error {\r\n  color: #dc2626;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.auth-form__error--global {\r\n  margin-top: 12px;\r\n}\r\n\r\n.auth-form__success {\r\n  margin-top: 16px;\r\n  color: #16a34a;\r\n  font-weight: 500;\r\n}\r\n\r\n.auth-form__submit {\r\n  margin-top: 16px;\r\n  padding: 12px;\r\n  border: none;\r\n  border-radius: 8px;\r\n  background: var(--color-primary, #2563eb);\r\n  color: #fff;\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: background 0.2s ease;\r\n}\r\n\r\n.auth-form__submit:disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n\r\n"],"names":["email","ref","emailError","errorMessage","isSubmitting","confirmationSent","cooldown","cooldownTimer","handleSubmit","__async","this","value","test","authService","requestPasswordReset","setInterval","clearInterval","err","formatApiError","onBeforeUnmount","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","id","class","_cache","onSubmit","novalidate","for","type","$event","disabled","required","autocomplete","_hoisted_4","_toDisplayString","_hoisted_6","_hoisted_8","_hoisted_9"],"mappings":"8iBAuDA,MAAMA,EAAQC,EAAI,IACZC,EAAaD,EAAI,IACjBE,EAAeF,EAAI,IACnBG,EAAeH,GAAI,GACnBI,EAAmBJ,GAAI,GACvBK,EAAWL,EAAI,GACrB,IAAIM,EAAuD,KAE3D,MA6BMC,EAAe,KAA2BC,SAAAC,OAAA,OAAA,YAC9C,KA9BqBC,EA8BFX,EAAMW,OA5BvB,6BAKWC,KAAKD,IAIlBT,EAAWS,MAAQ,GACZ,IAJLT,EAAWS,MAAQ,8BACZ,IALPT,EAAWS,MAAQ,oBACZ,MAyB0BN,EAAiBM,MAApD,CA9BoB,IAACA,EAkCrBP,EAAaO,OAAQ,EACrBR,EAAaQ,MAAQ,GAErB,UACQE,EAAYC,qBAAqBd,EAAMW,OAC7CN,EAAiBM,OAAQ,EAvB3BL,EAASK,MAAQ,GACjBJ,EAAgBQ,YAAY,KAC1BT,EAASK,OAAS,EACdL,EAASK,OAAS,IACpBL,EAASK,MAAQ,EACbJ,IACFS,cAAcT,GACdA,EAAgB,QAGnB,IAeH,OAASU,GACPd,EAAaQ,MAAQO,EAAeD,EACtC,CAAA,QACEb,EAAaO,OAAQ,CACvB,CAbA,CAcF,kNAEAQ,EAAgB,KACVZ,GACFS,cAAcT,aAhHhBa,IAAAC,EA8CM,MA9CNC,EA8CM,CA7CJC,EA4CO,OA5CPC,EA4CO,aA3CLD,EAA4E,KAAA,CAAxEE,GAAG,wBAAwBC,MAAM,oBAAmB,mBAAe,IACvEC,EAAA,KAAAA,EAAA,GAAAJ,EAEI,IAAA,CAFDG,MAAM,0BAAyB,sEAElC,IAEAH,EA6BO,OAAA,CA7BDG,MAAM,YAAaE,WAAgBpB,EAAY,CAAA,YAAEqB,WAAA,iBACrDN,EAGQ,QAAA,CAHDG,MAAM,mBAAmBI,IAAI,YAAQ,WAE1CP,EAA0C,OAAA,CAApCG,MAAM,uBAAsB,aAEpCH,EAUE,QAAA,CATAE,GAAG,QACHM,KAAK,QACLL,MAAM,wDACG1B,EAAKW,MAAAqB,GACbC,SAAU7B,EAAAO,OAAgBL,EAAAK,MAAQ,EACnCuB,SAAA,GACAC,aAAa,QACb,eAAa,4BACb,mBAAiB,6BALRnC,EAAAW,SAOFT,EAAAS,WAATU,EAAmF,IAAnFe,EAAmFC,EAAjBnC,EAAAS,OAAU,aAE5EY,EAUS,SAAA,CATPQ,KAAK,SACLL,MAAM,oBACLO,SAAU7B,EAAAO,OAAgBL,EAAAK,SAAgBN,EAAAM,MAC3C,YAAU,WAEEL,EAAAK,MAAQ,GAApBS,IAAAC,EAEO,OAAAiB,EAFmB,iBACXD,EAAG/B,EAAAK,OAAW,KAC7B,KACAS,IAAAC,EAAmC,SAAtB,+BAIRhB,EAAAM,WAATU,EAEI,IAFJkB,EAAsD,6EAI3CpC,EAAAQ,WAAXU,EAEM,MAFNmB,EAEMH,EADDlC,EAAAQ,OAAY"}