var a=(a,e,l)=>new Promise((i,t)=>{var s=a=>{try{o(l.next(a))}catch(e){t(e)}},n=a=>{try{o(l.throw(a))}catch(e){t(e)}},o=a=>a.done?i(a.value):Promise.resolve(a.value).then(s,n);o((l=l.apply(a,e)).next())});import{b as e,r as l,C as i,s as t,i as s,e as n,l as o,f as r,A as d,m as u,v as c,N as p,F as v,h as _,j as h,t as m,c as k,B as b,k as g,x as y,q as f}from"./vue-vendor-B11yH1L4.js";import{k as w,e as C,d as x,u as N,_ as M}from"./index-CEUju959.js";import{d as S,u as L}from"./distributionStore-C9m_opz9.js";import{_ as B}from"./Badge.vue_vue_type_script_setup_true_lang-Bp_czRtF.js";import{D}from"./DeleteConfirmModal-FrXl2jew.js";import{_ as j}from"./Modal.vue_vue_type_script_setup_true_lang-Cpe0tIsY.js";import"./utils-vendor-BYNnTNyD.js";const P={class:"share-links-modal"},A={class:"share-links-modal__create"},z={key:0,class:"share-links-modal__form"},V={class:"share-links-modal__form-group"},E={class:"share-links-modal__form-group"},U={class:"share-links-modal__form-group"},F={class:"share-links-modal__label"},H={class:"share-links-modal__label"},I={class:"share-links-modal__form-actions"},$={key:0,class:"share-links-modal__list"},T={class:"share-links-modal__item-info"},q={class:"share-links-modal__item-url"},G=["value","onClick"],O={class:"share-links-modal__item-meta"},K={key:0,class:"share-links-modal__meta-item"},J={key:1,class:"share-links-modal__meta-item"},Q={class:"share-links-modal__meta-item"},R={key:1,class:"share-links-modal__empty"},W=x(e({__name:"ShareLinksModal",props:{publicationId:{},shareLinks:{},isOpen:{type:Boolean,default:!1}},emits:["close","link-created","link-deleted"],setup(e,{emit:k}){const b=e,g=k,y=w(),f=l(!1),x=l(""),N=l(""),M=l({view:!0,download:!1}),L=()=>a(this,null,function*(){try{yield S.createShareLink(b.publicationId,{expires_at:x.value||void 0,password:N.value||void 0,permissions:M.value}),f.value=!1,x.value="",N.value="",M.value={view:!0,download:!1},g("link-created"),y.addNotification({type:"success",title:"Success",message:"Share link created successfully"})}catch(a){y.addNotification({type:"error",title:"Error",message:"Failed to create share link"})}}),B=e=>a(this,null,function*(){try{yield S.deleteShareLink(b.publicationId,e),g("link-deleted"),y.addNotification({type:"success",title:"Success",message:"Share link deleted successfully"})}catch(a){y.addNotification({type:"error",title:"Error",message:"Failed to delete share link"})}}),D=e=>a(this,null,function*(){try{yield navigator.clipboard.writeText(e),y.addNotification({type:"success",title:"Success",message:"Link copied to clipboard"})}catch(a){y.addNotification({type:"error",title:"Error",message:"Failed to copy link"})}});return(a,l)=>(h(),i(j,{"is-open":e.isOpen,onClose:l[6]||(l[6]=e=>a.$emit("close")),title:"Share Links"},{content:t(()=>[s("div",P,[s("div",A,[o(C,{variant:"primary",onClick:l[0]||(l[0]=a=>f.value=!f.value)},{default:t(()=>[...l[7]||(l[7]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" Create New Link ",-1)])]),_:1}),f.value?(h(),n("div",z,[s("div",V,[l[8]||(l[8]=s("label",{class:"share-links-modal__label"},"Expires At (optional)",-1)),u(s("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>x.value=a),type:"datetime-local",class:"share-links-modal__input"},null,512),[[c,x.value]])]),s("div",E,[l[9]||(l[9]=s("label",{class:"share-links-modal__label"},"Password (optional)",-1)),u(s("input",{"onUpdate:modelValue":l[2]||(l[2]=a=>N.value=a),type:"password",class:"share-links-modal__input",placeholder:"Leave empty for no password"},null,512),[[c,N.value]])]),s("div",U,[s("label",F,[u(s("input",{"onUpdate:modelValue":l[3]||(l[3]=a=>M.value.view=a),type:"checkbox",class:"share-links-modal__checkbox"},null,512),[[p,M.value.view]]),l[10]||(l[10]=d(" Allow View ",-1))]),s("label",H,[u(s("input",{"onUpdate:modelValue":l[4]||(l[4]=a=>M.value.download=a),type:"checkbox",class:"share-links-modal__checkbox"},null,512),[[p,M.value.download]]),l[11]||(l[11]=d(" Allow Download ",-1))])]),s("div",I,[o(C,{variant:"primary",onClick:L},{default:t(()=>[...l[12]||(l[12]=[d("Create",-1)])]),_:1}),o(C,{variant:"secondary",onClick:l[5]||(l[5]=a=>f.value=!1)},{default:t(()=>[...l[13]||(l[13]=[d("Cancel",-1)])]),_:1})])])):r("",!0)]),e.shareLinks.length>0?(h(),n("div",$,[(h(!0),n(v,null,_(e.shareLinks,a=>{return h(),n("div",{key:a.id,class:"share-links-modal__item"},[s("div",T,[s("div",q,[s("input",{value:a.url,readonly:"",class:"share-links-modal__url-input",onClick:e=>D(a.url)},null,8,G),o(C,{variant:"secondary",size:"sm",onClick:e=>D(a.url),"aria-label":"Copy link"},{default:t(()=>[...l[14]||(l[14]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])]),_:1},8,["onClick"])]),s("div",O,[a.expires_at?(h(),n("span",K," Expires: "+m((e=a.expires_at,new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))),1)):r("",!0),a.password_protected?(h(),n("span",J," Password Protected ")):r("",!0),s("span",Q," Permissions: "+m(a.permissions.view?"View":"")+" "+m(a.permissions.download?"Download":""),1)])]),o(C,{variant:"danger",size:"sm",onClick:e=>B(a.id),"aria-label":"Delete link"},{default:t(()=>[...l[15]||(l[15]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])]),_:1},8,["onClick"])]);var e}),128))])):(h(),n("div",R,[...l[16]||(l[16]=[s("p",null,"No share links created yet",-1)])]))])]),_:1},8,["is-open"]))}}),[["__scopeId","data-v-42f1019d"]]),X={class:"publication-detail-page"},Y={key:0,class:"publication-detail-page__loading",role:"status","aria-live":"polite"},Z={key:1,class:"publication-detail-page__error",role:"alert"},aa={class:"publication-detail-page__error-message"},ea={key:2,class:"publication-detail-page__content"},la={class:"publication-detail-page__header"},ia={class:"publication-detail-page__back"},ta={class:"publication-detail-page__header-main"},sa={class:"publication-detail-page__thumbnail"},na=["src","alt"],oa={key:1,class:"publication-detail-page__thumbnail-placeholder","aria-label":"No thumbnail"},ra={class:"publication-detail-page__info"},da={class:"publication-detail-page__title"},ua={key:0,class:"publication-detail-page__description"},ca={class:"publication-detail-page__metadata"},pa={class:"publication-detail-page__metadata-item"},va={class:"publication-detail-page__metadata-item"},_a={class:"publication-detail-page__metadata-value"},ha={key:0,class:"publication-detail-page__metadata-item"},ma={class:"publication-detail-page__metadata-value"},ka={key:1,class:"publication-detail-page__metadata-item"},ba={class:"publication-detail-page__metadata-value"},ga={key:2,class:"publication-detail-page__metadata-item"},ya={class:"publication-detail-page__channels"},fa={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},wa=["href"],Ca={class:"publication-detail-page__actions"},xa={class:"publication-detail-page__metrics-header"},Na={class:"publication-detail-page__metrics-grid"},Ma={class:"publication-detail-page__metric"},Sa={class:"publication-detail-page__metric-value"},La={class:"publication-detail-page__metric"},Ba={class:"publication-detail-page__metric-value"},Da={class:"publication-detail-page__metric"},ja={class:"publication-detail-page__metric-value"},Pa={class:"publication-detail-page__assets-header"},Aa={class:"publication-detail-page__assets-title"},za={key:0,class:"publication-detail-page__assets-empty",role:"status"},Va={key:1,class:"publication-detail-page__assets-grid",role:"grid","aria-label":"Publication assets"},Ea={class:"publication-detail-page__asset-thumbnail"},Ua=["src","alt","onClick"],Fa=["onClick"],Ha={class:"publication-detail-page__asset-actions"},Ia={class:"publication-detail-page__asset-info"},$a=["onClick"],Ta={key:0,class:"publication-detail-page__asset-size"},qa={key:2,class:"publication-detail-page__assets-loading",role:"status","aria-live":"polite"},Ga=["aria-label"],Oa=x(e({__name:"PublicationDetailPage",setup(e){const u=b(),c=y(),p=N(),x=L(),j=w(),P=l(null),A=l([]),z=l(!1),V=l(null),E=l(!1),U=l(!1),F=k(()=>{const a=u.params.id;if("string"==typeof a){const e=parseInt(a);return isNaN(e)?0:e}if(Array.isArray(a)&&a.length>0){const e=parseInt(a[0]||"0");return isNaN(e)?0:e}return 0}),H=k(()=>{var a;return(null==(a=P.value)?void 0:a.assets)||[]}),I=k(()=>{var a;if(!(null==(a=P.value)?void 0:a.analytics))return{views:0,downloads:0,shares:0};const e=P.value.analytics;return{views:(null==e?void 0:e.views)||0,downloads:(null==e?void 0:e.downloads)||0,shares:(null==e?void 0:e.shares)||0}}),$=k(()=>{if(!P.value||!p.user)return!1;const a=P.value.created_by_id===p.user.id,e=p.hasPermission("distribution.publication_edit");return a&&e}),T=k(()=>{if(!P.value||!p.user)return!1;const a=P.value.created_by_id===p.user.id,e=p.hasPermission("distribution.publication_delete");return a&&e}),q=k(()=>{if(!P.value)return"info";switch(P.value.status){case"published":return"success";case"scheduled":case"archived":default:return"info";case"draft":return"warning"}}),G=k(()=>P.value?P.value.status.charAt(0).toUpperCase()+P.value.status.slice(1):"Unknown"),O=k(()=>{if(!P.value||!P.value.assets||0===P.value.assets.length)return null;const a=P.value.assets[0];return a&&(a.thumbnail_url||a.preview_url)||null}),K=()=>a(this,null,function*(){if(isNaN(F.value))V.value="Invalid publication ID";else{z.value=!0,V.value=null;try{const e=yield x.getPublication(F.value);if(P.value=e,!e.analytics)try{const a=yield S.getPublicationAnalytics(F.value);P.value&&(P.value.analytics=a)}catch(a){}yield J()}catch(a){V.value=a instanceof Error?a.message:"Failed to load publication",j.addNotification({type:"error",title:"Error",message:V.value})}finally{z.value=!1}}}),J=()=>a(this,null,function*(){if(P.value)try{const a=yield S.getShareLinks(P.value.id);A.value=a}catch(a){}}),Q=()=>a(this,null,function*(){P.value&&(U.value=!0)}),R=()=>a(this,null,function*(){yield J(),j.addNotification({type:"success",title:"Success",message:"Share link created successfully"})}),Oa=()=>a(this,null,function*(){yield J(),j.addNotification({type:"success",title:"Success",message:"Share link deleted successfully"})}),Ka=()=>{c.push({name:"distribution"})},Ja=()=>{P.value&&c.push({name:"publication-analytics",params:{id:P.value.id}})},Qa=()=>{P.value&&c.push({name:"publication-edit",params:{id:P.value.id}})},Ra=()=>a(this,null,function*(){if(P.value)try{yield x.deletePublication(P.value.id),j.addNotification({type:"success",title:"Success",message:"Publication deleted successfully"}),c.push({name:"distribution"})}catch(a){j.addNotification({type:"error",title:"Error",message:"Failed to delete publication"})}finally{E.value=!1}}),Wa=a=>{c.push({name:"asset-detail",params:{id:a}})},Xa=e=>a(this,null,function*(){try{const a=H.value.find(a=>a.id===e);if(!a)return void j.addNotification({type:"error",title:"Error",message:"Asset not found"});const l=a.preview_url||`/api/v4/assets/${a.id}/download/`,i=document.createElement("a");i.href=l,i.download=a.filename||a.label||"asset",document.body.appendChild(i),i.click(),document.body.removeChild(i),j.addNotification({type:"success",title:"Success",message:"Download started"})}catch(a){j.addNotification({type:"error",title:"Error",message:"Failed to download asset"})}}),Ya=()=>a(this,null,function*(){if(0!==H.value.length)try{for(const a of H.value){const e=a.preview_url||`/api/v4/assets/${a.id}/download/`,l=document.createElement("a");l.href=e,l.download=a.filename||a.label||"asset",document.body.appendChild(l),l.click(),document.body.removeChild(l),yield new Promise(a=>setTimeout(a,100))}j.addNotification({type:"success",title:"Success",message:"Downloads started"})}catch(a){j.addNotification({type:"error",title:"Error",message:"Failed to download assets"})}}),Za=a=>{if(!a)return"Not scheduled";if(!a.start_date&&!a.end_date)return"Not scheduled";return`${a.start_date?ae(a.start_date):"No start date"} - ${a.end_date?ae(a.end_date):"No end date"}`},ae=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ee=a=>{if(0===a)return"0 Bytes";const e=Math.floor(Math.log(a)/Math.log(1024));return Math.round(a/Math.pow(1024,e)*100)/100+" "+["Bytes","KB","MB","GB","TB"][e]};return g(()=>a(this,null,function*(){p.hasPermission("distribution.publication_view")?yield K():c.push({name:"forbidden",query:{returnTo:u.fullPath,requiredPermission:"distribution.publication_view"}})})),(a,e)=>{var l;return h(),n("div",X,[z.value?(h(),n("div",Y,[...e[3]||(e[3]=[s("div",{class:"publication-detail-page__skeleton"},[s("div",{class:"publication-detail-page__skeleton-header"}),s("div",{class:"publication-detail-page__skeleton-content"})],-1)])])):V.value&&!P.value?(h(),n("div",Z,[s("p",aa,m(V.value),1),o(C,{variant:"primary",onClick:K},{default:t(()=>[...e[4]||(e[4]=[d(" Try Again ",-1)])]),_:1})])):P.value?(h(),n("div",ea,[s("div",la,[s("div",ia,[o(C,{variant:"secondary",size:"sm",onClick:Ka,"aria-label":"Go back"},{default:t(()=>[...e[5]||(e[5]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),d(" Back ",-1)])]),_:1})]),s("div",ta,[s("div",sa,[O.value?(h(),n("img",{key:0,src:O.value,alt:`${P.value.title} thumbnail`,class:"publication-detail-page__thumbnail-img"},null,8,na)):(h(),n("div",oa,[...e[6]||(e[6]=[s("svg",{class:"w-12 h-12 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),s("div",ra,[s("h1",da,m(P.value.title||"Untitled Publication"),1),P.value.description?(h(),n("p",ua,m(P.value.description),1)):r("",!0),s("div",ca,[s("div",pa,[e[7]||(e[7]=s("span",{class:"publication-detail-page__metadata-label"},"Status:",-1)),o(B,{variant:q.value},{default:t(()=>[d(m(G.value),1)]),_:1},8,["variant"])]),s("div",va,[e[8]||(e[8]=s("span",{class:"publication-detail-page__metadata-label"},"Created:",-1)),s("span",_a,m(ae(P.value.created_date)),1)]),P.value.updated_date?(h(),n("div",ha,[e[9]||(e[9]=s("span",{class:"publication-detail-page__metadata-label"},"Updated:",-1)),s("span",ma,m(ae(P.value.updated_date)),1)])):r("",!0),P.value.schedule?(h(),n("div",ka,[e[10]||(e[10]=s("span",{class:"publication-detail-page__metadata-label"},"Schedule:",-1)),s("span",ba,m(Za(P.value.schedule)),1)])):r("",!0),P.value.channels&&P.value.channels.length>0?(h(),n("div",ga,[e[11]||(e[11]=s("span",{class:"publication-detail-page__metadata-label"},"Channels:",-1)),s("div",ya,[(h(!0),n(v,null,_(P.value.channels,a=>(h(),i(B,{key:a.id,variant:"active"===a.status?"success":"info",size:"sm",class:"publication-detail-page__channel-badge"},{default:t(()=>[a.icon?(h(),n("svg",fa,[s("use",{href:`#icon-${a.icon}`},null,8,wa)])):r("",!0),d(" "+m(a.name),1)]),_:2},1032,["variant"]))),128))])])):r("",!0)])])]),s("div",Ca,[o(C,{variant:"secondary",onClick:Q,"aria-label":"Share publication"},{default:t(()=>[...e[12]||(e[12]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1),d(" Share ",-1)])]),_:1}),$.value?(h(),i(C,{key:0,variant:"secondary",onClick:Qa,"aria-label":"Edit publication"},{default:t(()=>[...e[13]||(e[13]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),d(" Edit ",-1)])]),_:1})):r("",!0),T.value?(h(),i(C,{key:1,variant:"danger",onClick:e[0]||(e[0]=a=>E.value=!0),"aria-label":"Delete publication"},{default:t(()=>[...e[14]||(e[14]=[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),d(" Delete ",-1)])]),_:1})):r("",!0)])]),o(M,{class:"publication-detail-page__metrics",variant:"elevated"},{header:t(()=>[s("div",xa,[e[16]||(e[16]=s("h2",{class:"publication-detail-page__metrics-title"},"Metrics",-1)),o(C,{variant:"secondary",size:"sm",onClick:Ja,"aria-label":"View full analytics"},{default:t(()=>[...e[15]||(e[15]=[d(" View Full Analytics ",-1)])]),_:1})])]),default:t(()=>[s("div",Na,[s("div",Ma,[e[17]||(e[17]=s("span",{class:"publication-detail-page__metric-label"},"Views",-1)),s("span",Sa,m(I.value.views||0),1)]),s("div",La,[e[18]||(e[18]=s("span",{class:"publication-detail-page__metric-label"},"Downloads",-1)),s("span",Ba,m(I.value.downloads||0),1)]),s("div",Da,[e[19]||(e[19]=s("span",{class:"publication-detail-page__metric-label"},"Shares",-1)),s("span",ja,m(I.value.shares||0),1)])])]),_:1}),o(M,{class:"publication-detail-page__assets",variant:"elevated"},{header:t(()=>[s("div",Pa,[s("h2",Aa," Assets ("+m(H.value.length)+") ",1),H.value.length>0?(h(),i(C,{key:0,variant:"secondary",size:"sm",onClick:Ya,"aria-label":"Download all assets"},{default:t(()=>[...e[20]||(e[20]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),d(" Download All ",-1)])]),_:1})):r("",!0)])]),default:t(()=>[0!==H.value.length||z.value?(h(),n("div",Va,[(h(!0),n(v,null,_(H.value,a=>(h(),n("div",{key:a.id,class:"publication-detail-page__asset-card",role:"gridcell"},[s("div",Ea,[a.thumbnail_url?(h(),n("img",{key:0,src:a.thumbnail_url,alt:a.label||a.filename||"Asset thumbnail",class:"publication-detail-page__asset-thumbnail-img",onClick:e=>Wa(a.id)},null,8,Ua)):(h(),n("div",{key:1,class:"publication-detail-page__asset-thumbnail-placeholder",onClick:e=>Wa(a.id)},[...e[22]||(e[22]=[s("svg",{class:"w-8 h-8 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])],8,Fa)),s("div",Ha,[o(C,{variant:"primary",size:"sm",onClick:f(e=>Xa(a.id),["stop"]),"aria-label":"Download asset"},{default:t(()=>[...e[23]||(e[23]=[s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1)])]),_:1},8,["onClick"])])]),s("div",Ia,[s("h3",{class:"publication-detail-page__asset-name",onClick:e=>Wa(a.id)},m(a.label||a.filename||"Unnamed Asset"),9,$a),a.size?(h(),n("p",Ta,m(ee(a.size)),1)):r("",!0)])]))),128))])):(h(),n("div",za,[...e[21]||(e[21]=[s("svg",{class:"w-16 h-16 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),s("p",{class:"publication-detail-page__assets-empty-text"},"No assets in this publication",-1)])])),z.value?(h(),n("div",qa,[(h(),n(v,null,_(6,a=>s("div",{key:a,class:"publication-detail-page__assets-skeleton","aria-label":`Loading asset ${a}`},null,8,Ga)),64))])):r("",!0)]),_:1})])):r("",!0),E.value?(h(),i(D,{key:3,title:`Delete publication: ${null==(l=P.value)?void 0:l.title}`,message:"Are you sure you want to delete this publication? This action cannot be undone.",onConfirm:Ra,onCancel:e[1]||(e[1]=a=>E.value=!1)},null,8,["title"])):r("",!0),U.value&&P.value?(h(),i(W,{key:4,"publication-id":P.value.id,"is-open":U.value,"share-links":A.value,onClose:e[2]||(e[2]=a=>U.value=!1),onLinkCreated:R,onLinkDeleted:Oa},null,8,["publication-id","is-open","share-links"])):r("",!0)])}}}),[["__scopeId","data-v-2ea55a91"]]);export{Oa as default};
//# sourceMappingURL=PublicationDetailPage-B1P7ATRM.js.map
